import{A as Lu,B as Pt,C as Cn,a as U,b as fe,c as JI,d as V,e as XI,f as ku,g as eE,h as tE,i as nE,j as rE,k as Ip,l as iE,m as oE,n as sE,o as Ep,p as aE,q as cE,r as dn,s as Aa,t as yr,u as Fu,v as Ma,w as Dp,x as uE,y as Vu,z as xa}from"./chunk-U7L4XMCF.js";function lE(t,e){return Object.is(t,e)}var ut=null,ju=!1,Uu=1,vr=Symbol("SIGNAL");function we(t){let e=ut;return ut=t,e}function dE(){return ut}var Pa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tp(t){if(ju)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(t);let e=ut.nextProducerIndex++;if(Hu(ut),e<ut.producerNode.length&&ut.producerNode[e]!==t&&Ra(ut)){let n=ut.producerNode[e];zu(n,ut.producerIndexOfThis[e])}ut.producerNode[e]!==t&&(ut.producerNode[e]=t,ut.producerIndexOfThis[e]=Ra(ut)?gE(t,ut,e):0),ut.producerLastReadVersion[e]=t.version}function Xx(){Uu++}function hE(t){if(!(Ra(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Uu)){if(!t.producerMustRecompute(t)&&!Ap(t)){t.dirty=!1,t.lastCleanEpoch=Uu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Uu}}function fE(t){if(t.liveConsumerNode===void 0)return;let e=ju;ju=!0;try{for(let n of t.liveConsumerNode)n.dirty||eR(n)}finally{ju=e}}function pE(){return ut?.consumerAllowSignalWrites!==!1}function eR(t){t.dirty=!0,fE(t),t.consumerMarkedDirty?.(t)}function $u(t){return t&&(t.nextProducerIndex=0),we(t)}function Sp(t,e){if(we(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ra(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)zu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ap(t){Hu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hE(n),r!==n.version))return!0}return!1}function Mp(t){if(Hu(t),Ra(t))for(let e=0;e<t.producerNode.length;e++)zu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gE(t,e,n){if(mE(t),t.liveConsumerNode.length===0&&yE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=gE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function zu(t,e){if(mE(t),t.liveConsumerNode.length===1&&yE(t))for(let r=0;r<t.producerNode.length;r++)zu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Hu(i),i.producerIndexOfThis[r]=e}}function Ra(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yE(t){return t.producerNode!==void 0}function vE(t){let e=Object.create(tR);e.computation=t;let n=()=>{if(hE(e),Tp(e),e.value===Bu)throw e.error;return e.value};return n[vr]=e,n}var Cp=Symbol("UNSET"),bp=Symbol("COMPUTING"),Bu=Symbol("ERRORED"),tR=fe(U({},Pa),{value:Cp,dirty:!0,error:null,equal:lE,producerMustRecompute(t){return t.value===Cp||t.value===bp},producerRecomputeValue(t){if(t.value===bp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=bp;let n=$u(t),r;try{r=t.computation()}catch(i){r=Bu,t.error=i}finally{Sp(t,n)}if(e!==Cp&&e!==Bu&&r!==Bu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function nR(){throw new Error}var _E=nR;function wE(){_E()}function IE(t){_E=t}var rR=null;function EE(t){let e=Object.create(CE);e.value=t;let n=()=>(Tp(e),e.value);return n[vr]=e,n}function xp(t,e){pE()||wE(),t.equal(t.value,e)||(t.value=e,iR(t))}function DE(t,e){pE()||wE(),xp(t,e(t.value))}var CE=fe(U({},Pa),{equal:lE,value:void 0});function iR(t){t.version++,Xx(),fE(t),rR?.()}function ne(t){return typeof t=="function"}function ko(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qu=ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $i(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof qu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bE(o)}catch(s){e=e??[],s instanceof qu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new qu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$i(n,e)}remove(e){let{_finalizers:n}=this;n&&$i(n,e),e instanceof t&&e._removeParent(this)}};Qe.EMPTY=(()=>{let t=new Qe;return t.closed=!0,t})();var Rp=Qe.EMPTY;function Gu(t){return t instanceof Qe||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function bE(t){ne(t)?t():t.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(t,e,...n){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wu(t){Fo.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(t);else throw t})}function Na(){}var TE=Pp("C",void 0,void 0);function SE(t){return Pp("E",void 0,t)}function AE(t){return Pp("N",t,void 0)}function Pp(t,e,n){return{kind:t,value:e,error:n}}var zi=null;function Vo(t){if(bn.useDeprecatedSynchronousErrorHandling){let e=!zi;if(e&&(zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zi;if(zi=null,n)throw r}}else t()}function ME(t){bn.useDeprecatedSynchronousErrorHandling&&zi&&(zi.errorThrown=!0,zi.error=t)}var Hi=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gu(e)&&e.add(this)):this.destination=aR}static create(e,n,r){return new _r(e,n,r)}next(e){this.isStopped?Op(AE(e),this):this._next(e)}error(e){this.isStopped?Op(SE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Op(TE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oR=Function.prototype.bind;function Np(t,e){return oR.call(t,e)}var kp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ku(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ku(r)}else Ku(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ku(n)}}},_r=class extends Hi{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Np(e.next,o),error:e.error&&Np(e.error,o),complete:e.complete&&Np(e.complete,o)}):i=e}this.destination=new kp(i)}};function Ku(t){bn.useDeprecatedSynchronousErrorHandling?ME(t):Wu(t)}function sR(t){throw t}function Op(t,e){let{onStoppedNotification:n}=bn;n&&Fo.setTimeout(()=>n(t,e))}var aR={closed:!0,next:Na,error:sR,complete:Na};var Lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qt(t){return t}function Qu(...t){return Fp(t)}function Fp(t){return t.length===0?Qt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=uR(n)?n:new _r(n,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xE(r),new r((i,o)=>{let s=new _r({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lo](){return this}pipe(...n){return Fp(n)(this)}toPromise(n){return n=xE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function xE(t){var e;return(e=t??bn.Promise)!==null&&e!==void 0?e:Promise}function cR(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function uR(t){return t&&t instanceof Hi||cR(t)&&Gu(t)}function Vp(t){return ne(t?.lift)}function ge(t){return e=>{if(Vp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(t,e,n,r,i){return new Lp(t,e,n,r,i)}var Lp=class extends Hi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jo(){return ge((t,e)=>{let n=null;t._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Uo=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let n=this.getSubject();e.add(this.source.subscribe(me(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return jo()(this)}};var RE=ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Yu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new RE}next(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rp:(this.currentObservers=null,o.push(n),new Qe(()=>{this.currentObservers=null,$i(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new Yu(e,n),t})(),Yu=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rp}};var tt=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Oa={now(){return(Oa.delegate||Date).now()},delegate:void 0};var Zu=class extends je{constructor(e=1/0,n=1/0,r=Oa){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var Ju=class extends Qe{constructor(e,n){super()}schedule(e,n=0){return this}};var ka={setInterval(t,e,...n){let{delegate:r}=ka;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ka;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bo=class extends Ju{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ka.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$i(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$o.now=Oa.now;var zo=class extends $o{constructor(e,n=$o.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var jp=new zo(Bo);var Xu=class extends Bo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var el=class extends zo{};var Up=new el(Xu);var Nt=new se(t=>t.complete());function PE(t){return t&&ne(t.schedule)}function Bp(t){return t[t.length-1]}function tl(t){return ne(Bp(t))?t.pop():void 0}function jn(t){return PE(Bp(t))?t.pop():void 0}function NE(t,e){return typeof Bp(t)=="number"?t.pop():e}var nl=t=>t&&typeof t.length=="number"&&typeof t!="function";function rl(t){return ne(t?.then)}function il(t){return ne(t[Lo])}function ol(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function sl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var al=lR();function cl(t){return ne(t?.[al])}function ul(t){return eE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ku(n.read());if(i)return yield ku(void 0);yield yield ku(r)}}finally{n.releaseLock()}})}function ll(t){return ne(t?.getReader)}function Le(t){if(t instanceof se)return t;if(t!=null){if(il(t))return dR(t);if(nl(t))return hR(t);if(rl(t))return fR(t);if(ol(t))return OE(t);if(cl(t))return pR(t);if(ll(t))return gR(t)}throw sl(t)}function dR(t){return new se(e=>{let n=t[Lo]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hR(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function fR(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wu)})}function pR(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function OE(t){return new se(e=>{mR(t,e).catch(n=>e.error(n))})}function gR(t){return OE(ul(t))}function mR(t,e){var n,r,i,o;return XI(this,void 0,void 0,function*(){try{for(n=tE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function $t(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Yt(t,e=0){return ge((n,r)=>{n.subscribe(me(r,i=>$t(r,t,()=>r.next(i),e),()=>$t(r,t,()=>r.complete(),e),i=>$t(r,t,()=>r.error(i),e)))})}function hn(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kE(t,e){return Le(t).pipe(hn(e),Yt(e))}function FE(t,e){return Le(t).pipe(hn(e),Yt(e))}function VE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function LE(t,e){return new se(n=>{let r;return $t(n,e,()=>{r=t[al](),$t(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function dl(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{$t(n,e,()=>{let r=t[Symbol.asyncIterator]();$t(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jE(t,e){return dl(ul(t),e)}function UE(t,e){if(t!=null){if(il(t))return kE(t,e);if(nl(t))return VE(t,e);if(rl(t))return FE(t,e);if(ol(t))return dl(t,e);if(cl(t))return LE(t,e);if(ll(t))return jE(t,e)}throw sl(t)}function De(t,e){return e?UE(t,e):Le(t)}function Z(...t){let e=jn(t);return De(t,e)}function Ho(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function $p(t){return!!t&&(t instanceof se||ne(t.lift)&&ne(t.subscribe))}var wr=ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return ge((n,r)=>{let i=0;n.subscribe(me(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:yR}=Array;function vR(t,e){return yR(e)?t(...e):t(e)}function hl(t){return J(e=>vR(t,e))}var{isArray:_R}=Array,{getPrototypeOf:wR,prototype:IR,keys:ER}=Object;function fl(t){if(t.length===1){let e=t[0];if(_R(e))return{args:e,keys:null};if(DR(e)){let n=ER(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function DR(t){return t&&typeof t=="object"&&wR(t)===IR}function pl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fa(...t){let e=jn(t),n=tl(t),{args:r,keys:i}=fl(t);if(r.length===0)return De([],e);let o=new se(CR(r,e,i?s=>pl(i,s):Qt));return n?o.pipe(hl(n)):o}function CR(t,e,n=Qt){return r=>{BE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)BE(e,()=>{let l=De(t[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function BE(t,e,n){t?$t(n,t,e):e()}function $E(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?C(A):u.push(A),C=A=>{o&&e.next(A),l++;let S=!1;Le(n(A,h++)).subscribe(me(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let O=u.shift();s?$t(e,s,()=>C(O)):C(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(me(e,y,()=>{p=!0,m()})),()=>{a?.()}}function nt(t,e,n=1/0){return ne(e)?nt((r,i)=>J((o,s)=>e(r,o,i,s))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>$E(r,i,t,n)))}function ti(t=1/0){return nt(Qt,t)}function zE(){return ti(1)}function qo(...t){return zE()(De(t,jn(t)))}function gl(t){return new se(e=>{Le(t()).subscribe(e)})}function zp(...t){let e=tl(t),{args:n,keys:r}=fl(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Le(n[h]).subscribe(me(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?pl(r,a):a),o.complete())}))}});return e?i.pipe(hl(e)):i}function Hp(...t){let e=jn(t),n=NE(t,1/0),r=t;return r.length?r.length===1?Le(r[0]):ti(n)(De(r,e)):Nt}function mt(t,e){return ge((n,r)=>{let i=0;n.subscribe(me(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ni(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(me(n,void 0,void 0,s=>{o=Le(t(s,ni(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function HE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ir(t,e){return ne(e)?nt(t,e,1):nt(t,1)}function ri(t){return ge((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Er(t){return t<=0?()=>Nt:ge((e,n)=>{let r=0;e.subscribe(me(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qp(t){return J(()=>t)}function ml(t=bR){return ge((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bR(){return new wr}function ii(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,o)=>t(i,o,r)):Qt,Er(1),n?ri(e):ml(()=>new wr))}function Go(t){return t<=0?()=>Nt:ge((e,n)=>{let r=[];e.subscribe(me(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,o)=>t(i,o,r)):Qt,Go(1),n?ri(e):ml(()=>new wr))}function yl(t,e){return ge(HE(t,e,arguments.length>=2,!0))}function qE(t={}){let{connector:e=()=>new je,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=p=!1},C=()=>{let A=s;y(),A?.unsubscribe()};return ge((A,S)=>{l++,!p&&!h&&m();let O=u=u??e();S.add(()=>{l--,l===0&&!p&&!h&&(a=Wp(C,i))}),O.subscribe(S),!s&&l>0&&(s=new _r({next:H=>O.next(H),error:H=>{p=!0,m(),a=Wp(y,n,H),O.error(H)},complete:()=>{h=!0,m(),a=Wp(y,r),O.complete()}}),Le(A).subscribe(s))})(o)}}function Wp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new _r({next:()=>{r.unsubscribe(),t()}});return Le(e(...n)).subscribe(r)}function vl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,qE({connector:()=>new Zu(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _l(...t){let e=jn(t);return ge((n,r)=>{(e?qo(t,n,e):qo(t,n)).subscribe(r)})}function Ue(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;Le(t(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wl(t,e){return ne(e)?Ue(()=>t,e):Ue(()=>t)}function Kp(t){return ge((e,n)=>{Le(t).subscribe(me(n,()=>n.complete(),Na)),!n.closed&&e.subscribe(n)})}function Xe(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Qt}var P0="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(ad(e,n)),this.code=e}};function ad(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Wa(t){return{toString:t}.toString()}var Il="__parameters__";function TR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function N0(t,e,n){return Wa(()=>{let r=TR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Il)?u[Il]:Object.defineProperty(u,Il,{value:[]})[Il];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Gi=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function SR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(kt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function GE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var AR=Pe({__forward_ref__:Pe});function Rn(t){return t.__forward_ref__=Rn,t.toString=function(){return kt(this())},t}function Ot(t){return O0(t)?t():t}function O0(t){return typeof t=="function"&&t.hasOwnProperty(AR)&&t.__forward_ref__===Rn}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vt(t){return{providers:t.providers||[],imports:t.imports||[]}}function cd(t){return WE(t,F0)||WE(t,V0)}function k0(t){return cd(t)!==null}function WE(t,e){return t.hasOwnProperty(e)?t[e]:null}function MR(t){let e=t&&(t[F0]||t[V0]);return e||null}function KE(t){return t&&(t.hasOwnProperty(QE)||t.hasOwnProperty(xR))?t[QE]:null}var F0=Pe({\u0275prov:Pe}),QE=Pe({\u0275inj:Pe}),V0=Pe({ngInjectableDef:Pe}),xR=Pe({ngInjectorDef:Pe}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function L0(t){return t&&!!t.\u0275providers}var RR=Pe({\u0275cmp:Pe}),PR=Pe({\u0275dir:Pe}),NR=Pe({\u0275pipe:Pe}),OR=Pe({\u0275mod:Pe}),Nl=Pe({\u0275fac:Pe}),ja=Pe({__NG_ELEMENT_ID__:Pe}),YE=Pe({__NG_ENV_ID__:Pe});function ud(t){return typeof t=="string"?t:t==null?"":String(t)}function kR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ud(t)}function FR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function nm(t,e){throw new Q(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),dg;function j0(){return dg}function zt(t){let e=dg;return dg=t,e}function U0(t,e,n){let r=cd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;nm(t,"Injector")}var VR={},Ua=VR,hg="__NG_DI_FLAG__",Ol="ngTempTokenPath",LR="ngTokenPath",jR=/\n/gm,UR="\u0275",ZE="__source",Zo;function BR(){return Zo}function oi(t){let e=Zo;return Zo=t,e}function $R(t,e=le.Default){if(Zo===void 0)throw new Q(-203,!1);return Zo===null?U0(t,void 0,e):Zo.get(t,e&le.Optional?null:void 0,e)}function L(t,e=le.Default){return(j0()||$R)(Ot(t),e)}function R(t,e=le.Default){return L(t,ld(e))}function ld(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fg(t){let e=[];for(let n=0;n<t.length;n++){let r=Ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],u=zR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function B0(t,e){return t[hg]=e,t.prototype[hg]=e,t}function zR(t){return t[hg]}function HR(t,e,n,r){let i=t[Ol];throw e[ZE]&&i.unshift(e[ZE]),t.message=qR(`
`+t.message,i,n,r),t[LR]=i,t[Ol]=null,t}function qR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UR?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jR,`
  `)}`}var Ht=B0(N0("Optional"),8);var rm=B0(N0("SkipSelf"),4);function Ki(t,e){let n=t.hasOwnProperty(Nl);return n?t[Nl]:null}function im(t,e){t.forEach(n=>Array.isArray(n)?im(n,e):e(n))}function $0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function GR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function WR(t,e,n){let r=Ka(t,e);return r>=0?t[r|1]=n:(r=~r,GR(t,r,e,n)),r}function Qp(t,e){let n=Ka(t,e);if(n>=0)return t[n|1]}function Ka(t,e){return KR(t,e,1)}function KR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Xo={},Jt=[],Qi=new B(""),z0=new B("",-1),H0=new B(""),Fl=class{get(e,n=Ua){if(n===Ua){let r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}},q0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(q0||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{}),ai=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ai||{});function QR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function pg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];YR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function G0(t){return t===3||t===4||t===6}function YR(t){return t.charCodeAt(0)===64}function Ba(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?JE(t,n,i,null,e[++r]):JE(t,n,i,null,null))}}return t}function JE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var W0="ng-template";function ZR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(om(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function om(t){return t.type===4&&t.value!==W0}function JR(t,e,n){let r=t.type===4&&!n?W0:t.value;return e===r}function XR(t,e,n){let r=4,i=t.attrs,o=i!==null?nP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Tn(r)&&!Tn(u))return!1;if(s&&Tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!JR(t,u,n)||u===""&&e.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!ZR(t,i,u,n)){if(Tn(r))return!1;s=!0}}else{let l=e[++a],h=eP(u,i,om(t),n);if(h===-1){if(Tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(t){return(t&1)===0}function eP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return rP(e,t)}function tP(t,e,n=!1){for(let r=0;r<e.length;r++)if(XR(t,e[r],n))return!0;return!1}function nP(t){for(let e=0;e<t.length;e++){let n=t[e];if(G0(n))return e}return t.length}function rP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function XE(t,e){return t?":not("+e.trim()+")":e}function iP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(e+=XE(o,i),i=""),r=s,o=o||!Tn(r);n++}return i!==""&&(e+=XE(o,i)),e}function oP(t){return t.map(iP).join(",")}function sP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Tn(i))break;i=o}r++}return{attrs:e,classes:n}}function rt(t){return Wa(()=>{let e=J0(t),n=fe(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===q0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||Jt,_:null,schemas:t.schemas||null,tView:null,id:""});X0(n);let r=t.dependencies;return n.directiveDefs=t0(r,!1),n.pipeDefs=t0(r,!0),n.id=uP(n),n})}function aP(t){return ci(t)||K0(t)}function cP(t){return t!==null}function Lt(t){return Wa(()=>({type:t.type,bootstrap:t.bootstrap||Jt,declarations:t.declarations||Jt,imports:t.imports||Jt,exports:t.exports||Jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function e0(t,e){if(t==null)return Xo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ai.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ai.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ye(t){return Wa(()=>{let e=J0(t);return X0(e),e})}function sm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ci(t){return t[RR]||null}function K0(t){return t[PR]||null}function Q0(t){return t[NR]||null}function Y0(t){let e=ci(t)||K0(t)||Q0(t);return e!==null?e.standalone:!1}function Z0(t,e){let n=t[OR]||null;if(!n&&e===!0)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function J0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:e0(t.inputs,e),outputs:e0(t.outputs),debugInfo:null}}function X0(t){t.features?.forEach(e=>e(t))}function t0(t,e){if(!t)return null;let n=e?Q0:aP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cP)}function uP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gn(t){return{\u0275providers:t}}function ls(...t){return{\u0275providers:eD(!0,t),\u0275fromNgModule:!0}}function eD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return im(e,s=>{let a=s;gg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tD(i,o),n}function tD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];am(i,o=>{e(o,r)})}}function gg(t,e,n,r){if(t=Ot(t),!t)return!1;let i=null,o=KE(t),s=!o&&ci(t);if(!o&&!s){let u=t.ngModule;if(o=KE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{im(o.imports,h=>{gg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&tD(l,e)}if(!a){let l=Ki(i)||(()=>new i);e({provide:i,useFactory:l,deps:Jt},i),e({provide:H0,useValue:i,multi:!0},i),e({provide:Qi,useValue:()=>L(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;am(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function am(t,e){for(let n of t)L0(n)&&(n=n.\u0275providers),Array.isArray(n)?am(n,e):e(n)}var lP=Pe({provide:String,useValue:Pe});function nD(t){return t!==null&&typeof t=="object"&&lP in t}function dP(t){return!!(t&&t.useExisting)}function hP(t){return!!(t&&t.useFactory)}function es(t){return typeof t=="function"}function fP(t){return!!t.useClass}var dd=new B(""),Al={},pP={},Yp;function cm(){return Yp===void 0&&(Yp=new Fl),Yp}var Ft=class{},$a=class extends Ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yg(e,s=>this.processProvider(s)),this.records.set(z0,Wo(void 0,this)),i.has("environment")&&this.records.set(Ft,Wo(void 0,this));let o=this.records.get(dd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(H0,Jt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=oi(this),r=zt(void 0),i;try{return e()}finally{oi(n),zt(r)}}get(e,n=Ua,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(YE))return e[YE](this);r=ld(r);let i,o=oi(this),s=zt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=_P(e)&&cd(e);l&&this.injectableDefInScope(l)?u=Wo(mg(e),Al):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?cm():this.parent;return n=r&le.Optional&&n===Ua?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ol]=a[Ol]||[]).unshift(kt(e)),o)throw a;return HR(a,e,"R3InjectorError",this.source)}else throw a}finally{zt(s),oi(o)}}resolveInjectorInitializers(){let e=we(null),n=oi(this),r=zt(void 0),i;try{let o=this.get(Qi,Jt,le.Self);for(let s of o)s()}finally{oi(n),zt(r),we(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Ot(e);let n=es(e)?e:Ot(e&&e.provide),r=mP(e);if(!es(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wo(void 0,Al,!0),i.factory=()=>fg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=we(null);try{return n.value===Al&&(n.value=pP,n.value=n.factory()),typeof n.value=="object"&&n.value&&vP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mg(t){let e=cd(t),n=e!==null?e.factory:Ki(t);if(n!==null)return n;if(t instanceof B)throw new Q(204,!1);if(t instanceof Function)return gP(t);throw new Q(204,!1)}function gP(t){if(t.length>0)throw new Q(204,!1);let n=MR(t);return n!==null?()=>n.factory(t):()=>new t}function mP(t){if(nD(t))return Wo(void 0,t.useValue);{let e=rD(t);return Wo(e,Al)}}function rD(t,e,n){let r;if(es(t)){let i=Ot(t);return Ki(i)||mg(i)}else if(nD(t))r=()=>Ot(t.useValue);else if(hP(t))r=()=>t.useFactory(...fg(t.deps||[]));else if(dP(t))r=()=>L(Ot(t.useExisting));else{let i=Ot(t&&(t.useClass||t.provide));if(yP(t))r=()=>new i(...fg(t.deps));else return Ki(i)||mg(i)}return r}function Wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yP(t){return!!t.deps}function vP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _P(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function yg(t,e){for(let n of t)Array.isArray(n)?yg(n,e):n&&L0(n)?yg(n.\u0275providers,e):e(n)}function mn(t,e){t instanceof $a&&t.assertNotDestroyed();let n,r=oi(t),i=zt(void 0);try{return e()}finally{oi(r),zt(i)}}function iD(){return j0()!==void 0||BR()!=null}function wP(t){if(!iD())throw new Q(-203,!1)}function IP(t){return typeof t=="function"}var en=0,de=1,re=2,Dt=3,Sn=4,Pn=5,zn=6,Vl=7,Mn=8,ts=9,Hn=10,Be=11,za=12,n0=13,ds=14,pn=15,ns=16,Ko=17,rs=18,hd=19,oD=20,si=21,Zp=22,fn=23,lt=25,sD=1,Ha=6,Dr=7,Ll=8,jl=9,Xt=10,Ul=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ul||{});function An(t){return Array.isArray(t)&&typeof t[sD]=="object"}function qn(t){return Array.isArray(t)&&t[sD]===!0}function aD(t){return(t.flags&4)!==0}function Qa(t){return t.componentOffset>-1}function um(t){return(t.flags&1)===1}function ui(t){return!!t.template}function Bl(t){return(t[re]&512)!==0}var vg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Gn(){return uD}function uD(t){return t.type.prototype.ngOnChanges&&(t.setInput=DP),EP}Gn.ngInherit=!0;function EP(){let t=dD(this),e=t?.current;if(e){let n=t.previous;if(n===Xo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DP(t,e,n,r,i){let o=this.declaredInputs[r],s=dD(t)||CP(t,{previous:Xo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new vg(l&&l.currentValue,n,u===Xo),cD(t,e,i,n)}var lD="__ngSimpleChanges__";function dD(t){return t[lD]||null}function CP(t,e){return t[lD]=e}var r0=null;var Un=function(t,e,n){r0?.(t,e,n)},bP="svg",TP="math";function xn(t){for(;Array.isArray(t);)t=t[en];return t}function hD(t,e){return xn(e[t])}function tn(t,e){return xn(e[t.index])}function fD(t,e){return t.data[e]}function lm(t,e){return t[e]}function hi(t,e){let n=e[t];return An(n)?n:n[en]}function dm(t){return(t[re]&128)===128}function SP(t){return qn(t[Dt])}function $l(t,e){return e==null?null:t[e]}function pD(t){t[Ko]=0}function gD(t){t[re]&1024||(t[re]|=1024,dm(t)&&pd(t))}function AP(t,e){for(;t>0;)e=e[ds],t--;return e}function fd(t){return!!(t[re]&9216||t[fn]?.dirty)}function _g(t){t[Hn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),fd(t)&&pd(t)}function pd(t){t[Hn].changeDetectionScheduler?.notify(0);let e=Yi(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!dm(e)));)e=Yi(e)}function mD(t,e){if((t[re]&256)===256)throw new Q(911,!1);t[si]===null&&(t[si]=[]),t[si].push(e)}function MP(t,e){if(t[si]===null)return;let n=t[si].indexOf(e);n!==-1&&t[si].splice(n,1)}function Yi(t){let e=t[Dt];return qn(e)?e[Dt]:e}var he={lFrame:bD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yD=!1;function xP(){return he.lFrame.elementDepthCount}function RP(){he.lFrame.elementDepthCount++}function PP(){he.lFrame.elementDepthCount--}function vD(){return he.bindingsEnabled}function Ya(){return he.skipHydrationRootTNode!==null}function NP(t){return he.skipHydrationRootTNode===t}function OP(t){he.skipHydrationRootTNode=t}function kP(){he.skipHydrationRootTNode=null}function Ae(){return he.lFrame.lView}function qt(){return he.lFrame.tView}function Oe(t){return he.lFrame.contextLView=t,t[Mn]}function ke(t){return he.lFrame.contextLView=null,t}function jt(){let t=_D();for(;t!==null&&t.type===64;)t=t.parent;return t}function _D(){return he.lFrame.currentTNode}function FP(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Za(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function wD(){return he.lFrame.isParent}function VP(){he.lFrame.isParent=!1}function LP(){return he.lFrame.contextLView}function ID(){return yD}function i0(t){yD=t}function gd(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jP(t){return he.lFrame.bindingIndex=t}function md(){return he.lFrame.bindingIndex++}function UP(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BP(){return he.lFrame.inI18n}function $P(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,wg(e)}function zP(){return he.lFrame.currentDirectiveIndex}function wg(t){he.lFrame.currentDirectiveIndex=t}function HP(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ED(t){he.lFrame.currentQueryIndex=t}function qP(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[Pn]:null}function DD(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=qP(o),i===null||(o=o[ds],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=CD();return r.currentTNode=e,r.lView=t,!0}function hm(t){let e=CD(),n=t[de];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CD(){let t=he.lFrame,e=t===null?null:t.child;return e===null?bD(t):e}function bD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TD(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SD=TD;function fm(){let t=TD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function GP(t){return(he.lFrame.contextLView=AP(t,he.lFrame.contextLView))[Mn]}function hs(){return he.lFrame.selectedIndex}function Zi(t){he.lFrame.selectedIndex=t}function pm(){let t=he.lFrame;return fD(t.tView,t.selectedIndex)}function AD(){return he.lFrame.currentNamespace}var MD=!0;function gm(){return MD}function fi(t){MD=t}function WP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=uD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function mm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ml(t,e,n){xD(t,e,3,n)}function xl(t,e,n,r){(t[re]&3)===n&&xD(t,e,n,r)}function Jp(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function xD(t,e,n,r){let i=r!==void 0?t[Ko]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ko]+=65536),(a<o||o==-1)&&(KP(t,n,e,u),t[Ko]=(t[Ko]&4294901760)+u+2),u++}function o0(t,e){Un(4,t,e);let n=we(null);try{e.call(t)}finally{we(n),Un(5,t,e)}}function KP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[Ko]>>16&&(t[re]&3)===e&&(t[re]+=16384,o0(a,o)):o0(a,o)}var Jo=-1,Ji=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function QP(t){return t instanceof Ji}function YP(t){return(t.flags&8)!==0}function ZP(t){return(t.flags&16)!==0}var Xp={},Ig=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ld(r);let i=this.injector.get(e,Xp,r);return i!==Xp||n===Xp?i:this.parentInjector.get(e,n,r)}};function RD(t){return t!==Jo}function zl(t){return t&32767}function JP(t){return t>>16}function Hl(t,e){let n=JP(t),r=e;for(;n>0;)r=r[ds],n--;return r}var Eg=!0;function ql(t){let e=Eg;return Eg=t,e}var XP=256,PD=XP-1,ND=5,eN=0,Bn={};function tN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ja)&&(r=n[ja]),r==null&&(r=n[ja]=eN++);let i=r&PD,o=1<<i;e.data[t+(i>>ND)]|=o}function Gl(t,e){let n=OD(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,eg(r.data,t),eg(e,null),eg(r.blueprint,null));let i=ym(t,e),o=t.injectorIndex;if(RD(i)){let s=zl(i),a=Hl(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function eg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ym(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=jD(i),r===null)return Jo;if(n++,i=i[ds],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jo}function Dg(t,e,n){tN(t,e,n)}function nN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(G0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function kD(t,e,n){if(n&le.Optional||t!==void 0)return t;nm(e,"NodeInjector")}function FD(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[ts],o=zt(void 0);try{return i?i.get(e,r,n&le.Optional):U0(e,r,n&le.Optional)}finally{zt(o)}}return kD(r,e,n)}function VD(t,e,n,r=le.Default,i){if(t!==null){if(e[re]&2048&&!(r&le.Self)){let s=aN(t,e,n,r,Bn);if(s!==Bn)return s}let o=LD(t,e,n,r,Bn);if(o!==Bn)return o}return FD(e,n,r,i)}function LD(t,e,n,r,i){let o=oN(n);if(typeof o=="function"){if(!DD(e,t,r))return r&le.Host?kD(i,n,r):FD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))nm(n);else return s}finally{SD()}}else if(typeof o=="number"){let s=null,a=OD(t,e),u=Jo,l=r&le.Host?e[pn][Pn]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?ym(t,e):e[a+8],u===Jo||!a0(r,!1)?a=-1:(s=e[de],a=zl(u),e=Hl(u,e)));a!==-1;){let h=e[de];if(s0(o,a,h.data)){let p=rN(a,e,n,s,r,l);if(p!==Bn)return p}u=e[a+8],u!==Jo&&a0(r,e[de].data[a+8]===l)&&s0(o,a,e)?(s=h,a=zl(u),e=Hl(u,e)):a=-1}}return i}function rN(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],u=r==null?Qa(a)&&Eg:r!=s&&(a.type&3)!==0,l=i&le.Host&&o===a,h=iN(a,s,n,u,l);return h!==null?is(e,s,h,a):Bn}function iN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&ui(y)&&y.type===n)return u}return null}function is(t,e,n,r){let i=t[n],o=e.data;if(QP(i)){let s=i;s.resolving&&FR(kR(o[n]));let a=ql(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?zt(s.injectImpl):null,h=DD(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&WP(n,o[n],e)}finally{l!==null&&zt(l),ql(a),s.resolving=!1,SD()}}return i}function oN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ja)?t[ja]:void 0;return typeof e=="number"?e>=0?e&PD:sN:e}function s0(t,e,n){let r=1<<t;return!!(n[e+(t>>ND)]&r)}function a0(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var Wi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VD(this._tNode,this._lView,e,ld(r),n)}};function sN(){return new Wi(jt(),Ae())}function pi(t){return Wa(()=>{let e=t.prototype.constructor,n=e[Nl]||Cg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Nl]||Cg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cg(t){return O0(t)?()=>{let e=Cg(Ot(t));return e&&e()}:Ki(t)}function aN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=LD(o,s,n,r|le.Self,Bn);if(a!==Bn)return a;let u=o.parent;if(!u){let l=s[oD];if(l){let h=l.get(n,Bn,r);if(h!==Bn)return h}u=jD(s),s=s[ds]}o=u}return i}function jD(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[Pn]:null}function vm(t){return nN(jt(),t)}function c0(t,e=null,n=null,r){let i=UD(t,e,n,r);return i.resolveInjectorInitializers(),i}function UD(t,e=null,n=null,r,i=new Set){let o=[n||Jt,ls(t)];return r=r||(typeof t=="object"?void 0:kt(t)),new $a(o,e||cm(),r||null,i)}var Ct=class t{static{this.THROW_IF_NOT_FOUND=Ua}static{this.NULL=new Fl}static create(e,n){if(Array.isArray(e))return c0({name:""},n,e,"");{let r=e.name??"";return c0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>L(z0)})}static{this.__NG_ELEMENT_ID__=-1}};var cN=new B("");cN.__NG_ELEMENT_ID__=t=>{let e=jt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new Q(204,!1)};var uN="ngOriginalError";function tg(t){return t[uN]}var BD=!0,_m=(()=>{class t{static{this.__NG_ELEMENT_ID__=lN}static{this.__NG_ENV_ID__=n=>n}}return t})(),bg=class extends _m{constructor(e){super(),this._lView=e}onDestroy(e){return mD(this._lView,e),()=>MP(this._lView,e)}};function lN(){return new bg(Ae())}var Sr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Tg=class extends je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,iD()&&(this.destroyRef=R(_m,{optional:!0})??void 0,this.pendingTasks=R(Sr,{optional:!0})??void 0)}emit(e){let n=we(null);try{super.next(e)}finally{we(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=Tg;function Wl(...t){}function $D(t){let e,n;function r(){t=Wl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function u0(t){return queueMicrotask(()=>t()),()=>{t=Wl}}var wm="isAngularZone",Kl=wm+"_ID",dN=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BD}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,pN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hN,Wl,Wl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hN={};function Im(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$D(()=>{t.callbackScheduled=!1,Sg(t),t.isCheckStableRunning=!0,Im(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Sg(t)}function pN(t){let e=()=>{fN(t)},n=dN++;t._inner=t._inner.fork({name:"angular",properties:{[wm]:!0,[Kl]:n,[Kl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(gN(u))return r.invokeTask(o,s,a,u);try{return l0(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),d0(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return l0(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!mN(u)&&e(),d0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Sg(t),Im(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Sg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function l0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function d0(t){t._nesting--,Im(t)}var Ag=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function gN(t){return zD(t,"__ignore_ng_zone__")}function mN(t){return zD(t,"__scheduler_tick__")}function zD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&tg(e);for(;n&&tg(n);)n=tg(n);return n||null}},yN=new B("",{providedIn:"root",factory:()=>{let t=R(ve),e=R(Cr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function vN(){return yd(jt(),Ae())}function yd(t,e){return new Ar(tn(t,e))}var Ar=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=vN}}return t})();var _N="ngSkipHydration",wN="ngskiphydration";function HD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===wN)return!0}return!1}function qD(t){return t.hasAttribute(_N)}function Ql(t){return(t.flags&128)===128}function IN(t){if(Ql(t))return!0;let e=t.parent;for(;e;){if(Ql(t)||HD(e))return!0;e=e.parent}return!1}var GD=new Map,EN=0;function DN(){return EN++}function CN(t){GD.set(t[hd],t)}function Mg(t){GD.delete(t[hd])}var h0="__ngContext__";function Xi(t,e){An(e)?(t[h0]=e[hd],CN(e)):t[h0]=e}function WD(t){return QD(t[za])}function KD(t){return QD(t[Sn])}function QD(t){for(;t!==null&&!qn(t);)t=t[Sn];return t}var xg;function YD(t){xg=t}function vd(){if(xg!==void 0)return xg;if(typeof document<"u")return document;throw new Q(210,!1)}var _d=new B("",{providedIn:"root",factory:()=>bN}),bN="ng",Em=new B(""),dt=new B("",{providedIn:"platform",factory:()=>"unknown"});var Dm=new B("",{providedIn:"root",factory:()=>vd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function TN(){let t=new fs;return R(dt)==="browser"&&(t.store=SN(vd(),R(_d))),t}var fs=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=$({token:t,providedIn:"root",factory:TN})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function SN(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var ZD="h",JD="b",Rg=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Rg||{}),AN="e",MN="t",Cm="c",XD="x",Yl="r",xN="i",RN="n",eC="d";var PN="__nghData__",tC=PN,ng="ngh",NN="nghm",nC=()=>null;function ON(t,e,n=!1){let r=t.getAttribute(ng);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(fs,null,{optional:!0});h!==null&&(u=h.get(tC,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,wd(l,0,t.nextSibling)),a?t.setAttribute(ng,a):t.removeAttribute(ng),l}function kN(){nC=ON}function bm(t,e,n=!1){return nC(t,e,n)}function FN(t){let e=t._lView;return e[de].type===2?null:(Bl(e)&&(e=e[lt]),e)}function VN(t){return t.textContent?.replace(/\s/gm,"")}function LN(t){let e=vd(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=VN(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function wd(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Pg(t,e){return t.segmentHeads?.[e]??null}function jN(t,e){let n=t.data,r=n[AN]?.[e]??null;return r===null&&n[Cm]?.[e]&&(r=Tm(t,e)),r}function rC(t,e){return t.data[Cm]?.[e]??null}function Tm(t,e){let n=rC(t,e)??[],r=0;for(let i of n)r+=i[Yl]*(i[XD]??1);return r}function UN(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[eC];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ja(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[eC];t.disconnectedNodes=n?new Set(n):null}return!!UN(t)?.has(e)}var El=new B(""),iC=!1,oC=new B("",{providedIn:"root",factory:()=>iC});var Dl;function BN(){if(Dl===void 0&&(Dl=null,Gi.trustedTypes))try{Dl=Gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dl}function f0(t){return BN()?.createScriptURL(t)||t}var Zl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${P0})`}};function Xa(t){return t instanceof Zl?t.changingThisBreaksApplicationSecurity:t}function Sm(t,e){let n=$N(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${P0})`)}return n===e}function $N(t){return t instanceof Zl&&t.getTypeName()||null}var zN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sC(t){return t=String(t),t.match(zN)?t:"unsafe:"+t}var Id=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Id||{});function Wn(t){let e=cC();return e?e.sanitize(Id.URL,t)||"":Sm(t,"URL")?Xa(t):sC(ud(t))}function HN(t){let e=cC();if(e)return f0(e.sanitize(Id.RESOURCE_URL,t)||"");if(Sm(t,"ResourceURL"))return f0(Xa(t));throw new Q(904,!1)}function qN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?HN:Wn}function aC(t,e,n){return qN(e,n)(t)}function cC(){let t=Ae();return t&&t[Hn].sanitizer}var GN=/^>|^->|<!--|-->|--!>|<!-$/g,WN=/(<|>)/g,KN="\u200B$1\u200B";function QN(t){return t.replace(GN,e=>e.replace(WN,KN))}function YN(t){return t.ownerDocument.body}function uC(t){return t instanceof Function?t():t}function Va(t){return(t??R(Ct)).get(dt)==="browser"}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(br||{}),ZN;function Am(t,e){return ZN(t,e)}function Qo(t,e,n,r,i){if(r!=null){let o,s=!1;qn(r)?o=r:An(r)&&(s=!0,r=r[en]);let a=xn(r);t===0&&n!==null?i==null?gC(e,n,a):Jl(e,n,a,i||null,!0):t===1&&n!==null?Jl(e,n,a,i||null,!0):t===2?Pm(e,a,s):t===3&&e.destroyNode(a),o!=null&&h1(e,t,o,n,i)}}function lC(t,e){return t.createText(e)}function JN(t,e,n){t.setValue(e,n)}function dC(t,e){return t.createComment(QN(e))}function Mm(t,e,n){return t.createElement(e,n)}function XN(t,e){hC(t,e),e[en]=null,e[Pn]=null}function e1(t,e,n,r,i,o){r[en]=i,r[Pn]=e,Ed(t,r,n,1,i,o)}function hC(t,e){e[Hn].changeDetectionScheduler?.notify(9),Ed(t,e,e[Be],2,null,null)}function t1(t){let e=t[za];if(!e)return rg(t[de],t);for(;e;){let n=null;if(An(e))n=e[za];else{let r=e[Xt];r&&(n=r)}if(!n){for(;e&&!e[Sn]&&e!==t;)An(e)&&rg(e[de],e),e=e[Dt];e===null&&(e=t),An(e)&&rg(e[de],e),n=e&&e[Sn]}e=n}}function n1(t,e,n,r){let i=Xt+r,o=n.length;r>0&&(n[i-1][Sn]=e),r<o-Xt?(e[Sn]=n[i],$0(n,Xt+r,e)):(n.push(e),e[Sn]=null),e[Dt]=n;let s=e[ns];s!==null&&n!==s&&fC(s,e);let a=e[rs];a!==null&&a.insertView(t),_g(e),e[re]|=128}function fC(t,e){let n=t[jl],r=e[Dt];if(An(r))t[re]|=Ul.HasTransplantedViews;else{let i=r[Dt][pn];e[pn]!==i&&(t[re]|=Ul.HasTransplantedViews)}n===null?t[jl]=[e]:n.push(e)}function xm(t,e){let n=t[jl],r=n.indexOf(e);n.splice(r,1)}function Ng(t,e){if(t.length<=Xt)return;let n=Xt+e,r=t[n];if(r){let i=r[ns];i!==null&&i!==t&&xm(i,r),e>0&&(t[n-1][Sn]=r[Sn]);let o=kl(t,Xt+e);XN(r[de],r);let s=o[rs];s!==null&&s.detachView(o[de]),r[Dt]=null,r[Sn]=null,r[re]&=-129}return r}function pC(t,e){if(!(e[re]&256)){let n=e[Be];n.destroyNode&&Ed(t,e,n,3,null,null),t1(e)}}function rg(t,e){if(e[re]&256)return;let n=we(null);try{e[re]&=-129,e[re]|=256,e[fn]&&Mp(e[fn]),i1(t,e),r1(t,e),e[de].type===1&&e[Be].destroy();let r=e[ns];if(r!==null&&qn(e[Dt])){r!==e[Dt]&&xm(r,e);let i=e[rs];i!==null&&i.detachView(t)}Mg(e)}finally{we(n)}}function r1(t,e){let n=t.cleanup,r=e[Vl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Vl]=null);let i=e[si];if(i!==null){e[si]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function i1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ji)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Un(4,a,u);try{u.call(a)}finally{Un(5,a,u)}}else{Un(4,i,o);try{o.call(i)}finally{Un(5,i,o)}}}}}function o1(t,e,n){return s1(t,e.parent,n)}function s1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[en];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===$n.None||o===$n.Emulated)return null}return tn(r,n)}}function Jl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gC(t,e,n){t.appendChild(e,n)}function p0(t,e,n,r,i){r!==null?Jl(t,e,n,r,i):gC(t,e,n)}function mC(t,e){return t.parentNode(e)}function a1(t,e){return t.nextSibling(e)}function c1(t,e,n){return l1(t,e,n)}function u1(t,e,n){return t.type&40?tn(t,n):null}var l1=u1,g0;function Rm(t,e,n,r){let i=o1(t,r,e),o=e[Be],s=r.parent||e[Pn],a=c1(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)p0(o,i,n[u],a,!1);else p0(o,i,n,a,!1);g0!==void 0&&g0(o,r,e,n,i)}function La(t,e){if(e!==null){let n=e.type;if(n&3)return tn(e,t);if(n&4)return Og(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return La(t,r);{let i=t[e.index];return qn(i)?Og(-1,i):xn(i)}}else{if(n&128)return La(t,e.next);if(n&32)return Am(e,t)()||xn(t[e.index]);{let r=yC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yi(t[pn]);return La(i,r)}else return La(t,e.next)}}}return null}function yC(t,e){if(e!==null){let r=t[pn][Pn],i=e.projection;return r.projection[i]}return null}function Og(t,e){let n=Xt+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return La(r,i)}return e[Dr]}function Pm(t,e,n){t.removeChild(null,e,n)}function vC(t){t.textContent=""}function Nm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Xi(xn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Nm(t,e,n.child,r,i,o,!1),Qo(e,t,i,a,o);else if(u&32){let l=Am(n,r),h;for(;h=l();)Qo(e,t,i,h,o);Qo(e,t,i,a,o)}else u&16?d1(t,e,r,n,i,o):Qo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ed(t,e,n,r,i,o){Nm(n,r,t.firstChild,e,i,o,!1)}function d1(t,e,n,r,i,o){let s=n[pn],u=s[Pn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Qo(e,t,i,h,o)}else{let l=u,h=s[Dt];Ql(r)&&(l.flags|=128),Nm(t,e,l,h,i,o,!0)}}function h1(t,e,n,r,i){let o=n[Dr],s=xn(n);o!==s&&Qo(e,t,r,o,i);for(let a=Xt;a<n.length;a++){let u=n[a];Ed(u[de],u,t,e,r,o)}}function f1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:br.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=br.Important),t.setStyle(n,r,i,o))}}function p1(t,e,n){t.setAttribute(e,"style",n)}function _C(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pg(t,e,r),i!==null&&_C(t,e,i),o!==null&&p1(t,e,o)}var gi={};function q(t=1){IC(qt(),Ae(),hs()+t,!1)}function IC(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ml(e,o,n)}else{let o=t.preOrderHooks;o!==null&&xl(e,o,0,n)}Zi(n)}function z(t,e=le.Default){let n=Ae();if(n===null)return L(t,e);let r=jt();return VD(r,n,Ot(t),e)}function EC(){let t="invalid";throw new Error(t)}function DC(t,e,n,r,i,o){let s=we(null);try{let a=null;i&ai.SignalBased&&(a=e[r][vr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ai.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):cD(e,a,r,o)}finally{we(s)}}function g1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zi(~i);else{let o=i,s=n[++r],a=n[++r];$P(s,o);let u=e[o];a(2,u)}}}finally{Zi(-1)}}function Dd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[en]=i,p[re]=r|4|128|8|64,(l!==null||t&&t[re]&2048)&&(p[re]|=2048),pD(p),p[Dt]=p[ds]=t,p[Mn]=n,p[Hn]=s||t&&t[Hn],p[Be]=a||t&&t[Be],p[ts]=u||t&&t[ts]||null,p[Pn]=o,p[hd]=DN(),p[zn]=h,p[oD]=l,p[pn]=e.type==2?t[pn]:p,p}function Cd(t,e,n,r,i){let o=t.data[e];if(o===null)o=m1(t,e,n,r,i),BP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=FP();o.injectorIndex=s===null?-1:s.injectorIndex}return Za(o,!0),o}function m1(t,e,n,r,i){let o=_D(),s=wD(),a=s?o:o&&o.parent,u=t.data[e]=E1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function CC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bC(t,e,n,r,i){let o=hs(),s=r&2;try{Zi(-1),s&&e.length>lt&&IC(t,e,lt,!1),Un(s?2:0,i),n(r,i)}finally{Zi(o),Un(s?3:1,i)}}function TC(t,e,n){if(aD(e)){let r=we(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{we(r)}}}function SC(t,e,n){vD()&&(A1(t,e,n,tn(n,e)),(n.flags&64)===64&&OC(t,e,n))}function AC(t,e,n=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function MC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Om(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Om(t,e,n,r,i,o,s,a,u,l,h){let p=lt+r,m=p+i,y=y1(p,m),C=typeof l=="function"?l():l;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function y1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gi);return n}function v1(t,e,n,r){let o=r.get(oC,iC)||n===$n.ShadowDom,s=t.selectRootElement(e,o);return _1(s),s}function _1(t){xC(t)}var xC=()=>null;function w1(t){qD(t)?vC(t):LN(t)}function I1(){xC=w1}function E1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ya()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function m0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ai.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?y0(r,n,l,a,u):y0(r,n,l,a)}return r}function y0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function D1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=m0(0,p.inputs,h,u,y),l=m0(1,p.outputs,h,l,C);let A=u!==null&&s!==null&&!om(e)?j1(u,h,s):null;a.push(A)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function C1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function RC(t,e,n,r,i,o,s,a){let u=tn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(km(t,n,h,r,i),Qa(e)&&b1(n,e.index)):e.type&3?(r=C1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function b1(t,e){let n=hi(e,t);n[re]&16||(n[re]|=64)}function PC(t,e,n,r){if(vD()){let i=r===null?null:{"":-1},o=x1(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&NC(t,e,n,s,i,a),i&&R1(n,r,i)}n.mergedAttrs=Ba(n.mergedAttrs,n.attrs)}function NC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Dg(Gl(n,e),t,r[l].type);N1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=CC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ba(n.mergedAttrs,h.hostAttrs),O1(t,n,e,u,h),P1(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}D1(t,n,o)}function T1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;S1(s)!=a&&s.push(a),s.push(n,r,o)}}function S1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function A1(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Qa(n)&&k1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Gl(n,e),Xi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=is(e,t,a,n);if(Xi(l,e),s!==null&&L1(e,a-i,l,u,n,s),ui(u)){let h=hi(n.index,e);h[Mn]=is(e,t,a,n)}}}function OC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zP();try{Zi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];wg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&M1(u,l)}}finally{Zi(-1),wg(s)}}function M1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function x1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(tP(e,s.selectors,!1))if(r||(r=[]),ui(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;kg(t,e,u)}else r.unshift(s),kg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function kg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function R1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}}function P1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ui(e)&&(n[""]=t)}}function N1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function O1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ki(i.type,!0)),s=new Ji(o,ui(i),z);t.blueprint[r]=s,n[r]=s,T1(t,e,r,CC(t,n,i.hostVars,gi),i)}function k1(t,e,n){let r=tn(e,t),i=MC(n),o=t[Hn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=bd(t,Dd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function F1(t,e,n,r,i,o){let s=tn(t,e);V1(e[Be],s,o,t.value,n,r,i)}function V1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ud(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function L1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];DC(r,n,u,l,h,p)}}function j1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function kC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function FC(t,e){let n=t.contentQueries;if(n!==null){let r=we(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ED(o),a.contentQueries(2,e[s],s)}}}finally{we(r)}}}function bd(t,e){return t[za]?t[n0][Sn]=e:t[za]=e,t[n0]=e,e}function Fg(t,e,n){ED(0);let r=we(null);try{e(t,n)}finally{we(r)}}function U1(t){return t[Vl]??=[]}function B1(t){return t.cleanup??=[]}function VC(t,e){let n=t[ts],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function km(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];DC(h,l,r,a,u,i)}}function $1(t,e,n){let r=hD(e,t);JN(t[Be],r,n)}function z1(t,e){let n=hi(e,t),r=n[de];H1(r,n);let i=n[en];i!==null&&n[zn]===null&&(n[zn]=bm(i,n[ts])),Fm(r,n,n[Mn])}function H1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Fm(t,e,n){hm(e);try{let r=t.viewQuery;r!==null&&Fg(1,r,n);let i=t.template;i!==null&&bC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[rs]?.finishViewCreation(t),t.staticContentQueries&&FC(t,e),t.staticViewQueries&&Fg(2,t.viewQuery,n);let o=t.components;o!==null&&q1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,fm()}}function q1(t,e){for(let n=0;n<e.length;n++)z1(t,e[n])}function G1(t,e,n,r){let i=we(null);try{let o=e.tView,a=t[re]&4096?4096:16,u=Dd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ns]=l;let h=t[rs];return h!==null&&(u[rs]=h.createEmbeddedView(o)),Fm(o,u,n),u}finally{we(i)}}function v0(t,e){return!e||e.firstChild===null||Ql(t)}function W1(t,e,n,r=!0){let i=e[de];if(n1(i,e,t,n),r){let s=Og(n,t),a=e[Be],u=mC(a,t[Dr]);u!==null&&e1(i,t[Pn],a,e,u,s)}let o=e[zn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(xn(o)),qn(o)&&K1(o,r);let s=n.type;if(s&8)Xl(t,e,n.child,r);else if(s&32){let a=Am(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=yC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Yi(e[pn]);Xl(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function K1(t,e){for(let n=Xt;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&Xl(r[de],r,i,e)}t[Dr]!==t[en]&&e.push(t[Dr])}var LC=[];function Q1(t){return t[fn]??Y1(t)}function Y1(t){let e=LC.pop()??Object.create(J1);return e.lView=t,e}function Z1(t){t.lView[fn]!==t&&(t.lView=null,LC.push(t))}var J1=fe(U({},Pa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pd(t.lView)},consumerOnSignalRead(){this.lView[fn]=this}});function X1(t){let e=t[fn]??Object.create(eO);return e.lView=t,e}var eO=fe(U({},Pa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Yi(t.lView);for(;e&&!jC(e[de]);)e=Yi(e);e&&gD(e)},consumerOnSignalRead(){this.lView[fn]=this}});function jC(t){return t.type!==2}var tO=100;function UC(t,e=!0,n=0){let r=t[Hn],i=r.rendererFactory,o=!1;o||i.begin?.();try{nO(t,n)}catch(s){throw e&&VC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function nO(t,e){let n=ID();try{i0(!0),Vg(t,e);let r=0;for(;fd(t);){if(r===tO)throw new Q(103,!1);r++,Vg(t,1)}}finally{i0(n)}}function rO(t,e,n,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Hn].inlineEffectRunner?.flush(),hm(e);let a=!0,u=null,l=null;o||(jC(t)?(l=Q1(e),u=$u(l)):dE()===null?(a=!1,l=X1(e),u=$u(l)):e[fn]&&(Mp(e[fn]),e[fn]=null));try{pD(e),jP(t.bindingStartIndex),n!==null&&bC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ml(e,y,null)}else{let y=t.preOrderHooks;y!==null&&xl(e,y,0,null),Jp(e,0)}if(s||iO(e),BC(e,0),t.contentQueries!==null&&FC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ml(e,y)}else{let y=t.contentHooks;y!==null&&xl(e,y,1),Jp(e,1)}g1(t,e);let p=t.components;p!==null&&zC(e,p,0);let m=t.viewQuery;if(m!==null&&Fg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ml(e,y)}else{let y=t.viewHooks;y!==null&&xl(e,y,2),Jp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zp]){for(let y of e[Zp])y();e[Zp]=null}o||(e[re]&=-73)}catch(h){throw o||pd(e),h}finally{l!==null&&(Sp(l,u),a&&Z1(l)),fm()}}function BC(t,e){for(let n=WD(t);n!==null;n=KD(n))for(let r=Xt;r<n.length;r++){let i=n[r];$C(i,e)}}function iO(t){for(let e=WD(t);e!==null;e=KD(e)){if(!(e[re]&Ul.HasTransplantedViews))continue;let n=e[jl];for(let r=0;r<n.length;r++){let i=n[r];gD(i)}}}function oO(t,e,n){let r=hi(e,t);$C(r,n)}function $C(t,e){dm(t)&&Vg(t,e)}function Vg(t,e){let r=t[de],i=t[re],o=t[fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ap(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)rO(r,t,r.template,t[Mn]);else if(i&8192){BC(t,1);let a=r.components;a!==null&&zC(t,a,1)}}function zC(t,e,n){for(let r=0;r<e.length;r++)oO(t,e[r],n)}function Vm(t,e){let n=ID()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=Yi(t);if(Bl(t)&&!r)return t;t=r}return null}var eo=class{get rootNodes(){let e=this._lView,n=e[de];return Xl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(e){this._lView[Mn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Dt];if(qn(e)){let n=e[Ll],r=n?n.indexOf(this):-1;r>-1&&(Ng(e,r),kl(n,r))}this._attachedToViewContainer=!1}pC(this._lView[de],this._lView)}onDestroy(e){mD(this._lView,e)}markForCheck(){Vm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){_g(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,UC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bl(this._lView),n=this._lView[ns];n!==null&&!e&&xm(n,this._lView),hC(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=Bl(this._lView),r=this._lView[ns];r!==null&&!n&&fC(r,this._lView),_g(this._lView)}},Td=(()=>{class t{static{this.__NG_ELEMENT_ID__=cO}}return t})(),sO=Td,aO=class extends sO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=G1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new eo(i)}};function cO(){return HC(jt(),Ae())}function HC(t,e){return t.type&4?new aO(e,t,yd(t,e)):null}var uO=new RegExp(`^(\\d+)*(${JD}|${ZD})*(.*)`);function lO(t){let e=t.match(uO),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function dO(t){return!t.prev&&t.parent?.type===8}function ig(t){return t.index-lt}function hO(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Sd(t,e,n,r){let i=ig(r),o=hO(t,i);if(o===void 0){let s=t.data[RN];if(s?.[i])o=pO(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(dO(r)){let l=ig(r.parent);o=Pg(t,l)}else{let l=tn(u,n);if(a)o=l.firstChild;else{let h=ig(u),p=Pg(t,h);if(u.type===2&&p){let y=Tm(t,h)+1;o=Ad(y,p)}else o=l.nextSibling}}}}return o}function Ad(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function fO(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Rg.FirstChild:n=n.firstChild;break;case Rg.NextSibling:n=n.nextSibling;break}}return n}function pO(t,e){let[n,...r]=lO(t),i;if(n===ZD)i=e[pn][en];else if(n===JD)i=YN(e[pn][en]);else{let o=Number(n);i=xn(e[o+lt])}return fO(i,r)}var gO=!1;function mO(t){gO=t}function yO(t){let e=t[zn];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Be];for(let o of r.values())vO(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function vO(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-lt);i&&Pm(t,i,!1)}}function qC(t){let e=t[Ha]??[],r=t[Dt][Be];for(let i of e)_O(i,r);t[Ha]=Jt}function _O(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Yl];for(;n<i;){let o=r.nextSibling;Pm(e,r,!1),r=o,n++}}}function GC(t){qC(t);let e=t[en];An(e)&&ed(e);for(let n=Xt;n<t.length;n++)ed(t[n])}function ed(t){yO(t);let e=t[de];for(let n=lt;n<e.bindingStartIndex;n++)if(qn(t[n])){let r=t[n];GC(r)}else An(t[n])&&ed(t[n])}function wO(t){let e=t._views;for(let n of e){let r=FN(n);r!==null&&r[en]!==null&&(An(r)?ed(r):GC(r))}}function IO(t,e){let n=[];for(let r of e)for(let i=0;i<(r[XD]??1);i++){let o={data:r,firstChild:null};r[Yl]>0&&(o.firstChild=t,t=Ad(r[Yl],t)),n.push(o)}return[t,n]}var WC=()=>null;function EO(t,e){let n=t[Ha];return!e||n===null||n.length===0?null:n[0].data[xN]===e?n.shift():(qC(t),null)}function DO(){WC=EO}function _0(t,e){return WC(t,e)}var os=class{},Lm=new B("",{providedIn:"root",factory:()=>!1});var KC=new B(""),QC=new B(""),Lg=class{},td=class{};function CO(t){let e=Error(`No component factory found for ${kt(t)}.`);return e[bO]=t,e}var bO="ngComponent";var jg=class{resolveComponentFactory(e){throw CO(e)}},ss=class{static{this.NULL=new jg}},as=class{},mi=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>TO()}}return t})();function TO(){let t=Ae(),e=jt(),n=hi(e.index,t);return(An(n)?n:t)[Be]}var SO=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();function Ug(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=GE(i,a);else if(o==2){let u=a,l=e[++s];r=GE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nd=class extends ss{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ci(e);return new cs(n,this.ngModule)}};function w0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ai.None;e?n.push({propName:s,templateName:r,isSignal:(a&ai.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function AO(t){let e=t.toLowerCase();return e==="svg"?bP:e==="math"?TP:null}var cs=class extends td{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=w0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return w0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=oP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=we(null);try{i=i||this.ngModule;let s=i instanceof Ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ig(e,s):e,u=a.get(as,null);if(u===null)throw new Q(407,!1);let l=a.get(SO,null),h=a.get(os,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?v1(m,r,this.componentDef.encapsulation,a):Mm(m,y,AO(y)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let S=null;C!==null&&(S=bm(C,a,!0));let O=Om(0,null,null,1,0,null,null,null,null,null,null),H=Dd(null,O,null,A,null,null,p,m,a,null,S);hm(H);let k,Y,ue=null;try{let te=this.componentDef,I,v=null;te.findHostDirectiveDefs?(I=[],v=new Map,te.findHostDirectiveDefs(te,I,v),I.push(te)):I=[te];let w=MO(H,C);ue=xO(w,C,te,I,H,p,m),Y=fD(O,lt),C&&NO(m,te,C,r),n!==void 0&&OO(Y,this.ngContentSelectors,n),k=PO(ue,te,I,v,H,[kO]),Fm(O,H,null)}catch(te){throw ue!==null&&Mg(ue),Mg(H),te}finally{fm()}return new Bg(this.componentType,k,yd(Y,H),H,Y)}finally{we(o)}}},Bg=class extends Lg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new eo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;km(o[de],o,i,e,n),this.previousInputValues.set(e,n);let s=hi(this._tNode.index,o);Vm(s,1)}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MO(t,e){let n=t[de],r=lt;return t[r]=e,Cd(n,r,2,"#host",null)}function xO(t,e,n,r,i,o,s){let a=i[de];RO(r,t,e,s);let u=null;e!==null&&(u=bm(e,i[ts]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Dd(i,MC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&kg(a,t,r.length-1),bd(i,p),i[t.index]=p}function RO(t,e,n,r){for(let i of t)e.mergedAttrs=Ba(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ug(e,e.mergedAttrs,!0),n!==null&&wC(r,n,e))}function PO(t,e,n,r,i,o){let s=jt(),a=i[de],u=tn(s,i);NC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=is(i,a,p,s);Xi(m,i)}OC(a,i,s),u&&Xi(u,i);let l=is(i,a,s.directiveStart+s.componentOffset,s);if(t[Mn]=i[Mn]=l,o!==null)for(let h of o)h(l,e);return TC(a,s,i),l}function NO(t,e,n,r){if(r)pg(t,n,["ng-version","18.2.5"]);else{let{attrs:i,classes:o}=sP(e.selectors[0]);i&&pg(t,n,i),o&&o.length>0&&_C(t,n,o.join(" "))}}function OO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function kO(){let t=jt();mm(Ae()[de],t)}var ps=(()=>{class t{static{this.__NG_ELEMENT_ID__=FO}}return t})();function FO(){let t=jt();return LO(t,Ae())}var VO=ps,YC=class extends VO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yd(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=ym(this._hostTNode,this._hostLView);if(RD(e)){let n=Hl(e,this._hostLView),r=zl(e),i=n[de].data[r+8];return new Wi(i,n)}else return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=I0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,v0(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!IP(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new cs(ci(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(Ft,null);A&&(o=A)}let h=ci(u.componentType??{}),p=_0(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,v0(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(SP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Dt],l=new YC(u,u[Pn],u[Dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return W1(s,i,o,r),e.attachToViewContainerRef(),$0(og(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=I0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ng(this._lContainer,n);r&&(kl(og(this._lContainer),n),pC(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ng(this._lContainer,n);return r&&kl(og(this._lContainer),n)!=null?new eo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function I0(t){return t[Ll]}function og(t){return t[Ll]||(t[Ll]=[])}function LO(t,e){let n,r=e[t.index];return qn(r)?n=r:(n=kC(r,e,null,t),e[t.index]=n,bd(e,n)),ZC(n,e,t,r),new YC(n,t,e)}function jO(t,e){let n=t[Be],r=n.createComment(""),i=tn(e,t),o=mC(n,i);return Jl(n,o,r,a1(n,i),!1),r}var ZC=JC,jm=()=>!1;function UO(t,e,n){return jm(t,e,n)}function JC(t,e,n,r){if(t[Dr])return;let i;n.type&8?i=xn(r):i=jO(e,n),t[Dr]=i}function BO(t,e,n){if(t[Dr]&&t[Ha])return!0;let r=n[zn],i=e.index-lt;if(!r||IN(e)||Ja(r,i))return!1;let s=Pg(r,i),a=r.data[Cm]?.[i],[u,l]=IO(s,a);return t[Dr]=u,t[Ha]=l,!0}function $O(t,e,n,r){jm(t,n,e)||JC(t,e,n,r)}function zO(){ZC=$O,jm=BO}var E0=new Set;function Mr(t){E0.has(t)||(E0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function HO(t){return typeof t=="function"&&t[vr]!==void 0}function gs(t,e){Mr("NgSignals");let n=EE(t),r=n[vr];return e?.equal&&(r.equal=e.equal),n.set=i=>xp(r,i),n.update=i=>DE(r,i),n.asReadonly=qO.bind(n),n}function qO(){let t=this[vr];if(t.readonlyFn===void 0){let e=()=>this();e[vr]=t,t.readonlyFn=e}return t.readonlyFn}function XC(t){return HO(t)&&typeof t.set=="function"}function GO(t){return Object.getPrototypeOf(t.prototype).constructor}function nn(t){let e=GO(t.type),n=!0,r=[t];for(;e;){let i;if(ui(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Cl(t.inputs),s.inputTransforms=Cl(t.inputTransforms),s.declaredInputs=Cl(t.declaredInputs),s.outputs=Cl(t.outputs);let a=i.hostBindings;a&&ZO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&QO(t,u),l&&YO(t,l),WO(t,i),SR(t.outputs,i.outputs),ui(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===nn&&(n=!1)}}e=Object.getPrototypeOf(e)}KO(r)}function WO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function KO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ba(i.hostAttrs,n=Ba(n,i.hostAttrs))}}function Cl(t){return t===Xo?{}:t===Jt?[]:t}function QO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function YO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function ZO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Um(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var li=class{},qa=class{};var $g=class extends li{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nd(this);let o=Z0(e);this._bootstrapComponents=uC(o.bootstrap),this._r3Injector=UD(e,n,[{provide:li,useValue:this},{provide:ss,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zg=class extends qa{constructor(e){super(),this.moduleType=e}create(e){return new $g(this.moduleType,e,[])}};var rd=class extends li{constructor(e){super(),this.componentFactoryResolver=new nd(this),this.instance=null;let n=new $a([...e.providers,{provide:li,useValue:this},{provide:ss,useValue:this.componentFactoryResolver}],e.parent||cm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Md(t,e,n=null){return new rd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function eb(t){return XO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function JO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function XO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function xd(t,e,n){return t[e]=n}function ek(t,e){return t[e]}function di(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Hg(t,e,n,r){let i=di(t,e,n);return di(t,e+1,r)||i}function tk(t,e,n,r,i,o){let s=Hg(t,e,n,r);return Hg(t,e+2,i,o)||s}function ec(t){return(t.flags&32)===32}function nk(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Cd(e,t,4,s||null,a||null);PC(e,n,h,$l(l,u)),mm(e,h);let p=h.tView=Om(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function rk(t,e,n,r,i,o,s,a,u,l){let h=n+lt,p=e.firstCreatePass?nk(h,e,t,r,i,o,s,a,u):e.data[h];Za(p,!1);let m=tb(e,t,p,n);gm()&&Rm(e,t,m,p),Xi(m,t);let y=kC(m,t,m,p);return t[h]=y,bd(t,y),UO(y,p,t),um(p)&&SC(e,t,p),u!=null&&AC(t,p,l),p}function ze(t,e,n,r,i,o,s,a){let u=Ae(),l=qt(),h=$l(l.consts,o);return rk(u,l,t,e,n,r,i,h,s,a),ze}var tb=nb;function nb(t,e,n,r){return fi(!0),e[Be].createComment("")}function ik(t,e,n,r){let i=e[zn],o=!i||Ya()||ec(n)||Ja(i,r);if(fi(o),o)return nb(t,e,n,r);let s=i.data[MN]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Sd(i,t,e,n);wd(i,r,a);let u=Tm(i,r);return Ad(u,a)}function ok(){tb=ik}var Yo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yo||{}),rb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})(),qg=class t{constructor(){this.ngZone=R(ve),this.scheduler=R(os),this.errorHandler=R(Cr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}},Gg=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Bm(t,e){!e?.injector&&wP(Bm);let n=e?.injector??R(Ct);return Va(n)?(Mr("NgAfterNextRender"),ak(t,n,e,!0)):ck}function sk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function ak(t,e,n,r){let i=e.get(rb);i.impl??=e.get(qg);let o=n?.phase??Yo.MixedReadWrite,s=new Gg(i.impl,sk(t,o),r,e.get(_m));return i.impl.register(s),s}var ck={destroy(){}};function ms(t,e,n,r){let i=Ae(),o=md();if(di(i,o,e)){let s=qt(),a=pm();F1(a,i,t,e,n,r)}return ms}function uk(t,e,n,r){return di(t,md(),n)?e+ud(n)+r:gi}function bl(t,e){return t<<17|e<<2}function to(t){return t>>17&32767}function lk(t){return(t&2)==2}function dk(t,e){return t&131071|e<<17}function Wg(t){return t|2}function us(t){return(t&131068)>>2}function sg(t,e){return t&-131069|e<<2}function hk(t){return(t&1)===1}function Kg(t){return t|1}function fk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=to(s),u=us(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ka(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=to(t[a+1]);t[r+1]=bl(m,a),m!==0&&(t[m+1]=sg(t[m+1],r)),t[a+1]=dk(t[a+1],r)}else t[r+1]=bl(a,0),a!==0&&(t[a+1]=sg(t[a+1],r)),a=r;else t[r+1]=bl(u,0),a===0?a=r:t[u+1]=sg(t[u+1],r),u=r;l&&(t[r+1]=Wg(t[r+1])),D0(t,h,r,!0),D0(t,h,r,!1),pk(e,h,t,r,o),s=bl(a,u),o?e.classBindings=s:e.styleBindings=s}function pk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ka(o,e)>=0&&(n[r+1]=Kg(n[r+1]))}function D0(t,e,n,r){let i=t[n+1],o=e===null,s=r?to(i):us(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];gk(u,e)&&(a=!0,t[s+1]=r?Kg(l):Wg(l)),s=r?to(l):us(l)}a&&(t[n+1]=r?Wg(i):Kg(i))}function gk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ka(t,e)>=0:!1}function ie(t,e,n){let r=Ae(),i=md();if(di(r,i,e)){let o=qt(),s=pm();RC(o,s,r,t,e,r[Be],n,!1)}return ie}function C0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";km(t,n,o[s],s,r)}function Rd(t,e){return mk(t,e,null,!0),Rd}function mk(t,e,n,r){let i=Ae(),o=qt(),s=UP(2);if(o.firstUpdatePass&&vk(o,t,s,r),e!==gi&&di(i,s,e)){let a=o.data[hs()];Dk(o,a,i,i[Be],t,i[s+1]=Ck(e,n),r,s)}}function yk(t,e){return e>=t.expandoStartIndex}function vk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[hs()],s=yk(t,n);bk(o,r)&&e===null&&!s&&(e=!1),e=_k(i,o,e,r),fk(i,o,e,n,s,r)}}function _k(t,e,n,r){let i=HP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ag(null,t,e,n,r),n=Ga(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ag(i,t,e,n,r),o===null){let u=wk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ag(null,t,e,u[1],r),u=Ga(u,e.attrs,r),Ik(t,e,r,u))}else o=Ek(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function wk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(us(r)!==0)return t[to(r)]}function Ik(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[to(i)]=r}function Ek(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ga(r,s,n)}return Ga(r,e.attrs,n)}function ag(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ga(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ga(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),WR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Dk(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=hk(l)?b0(u,e,n,i,us(l),s):void 0;if(!id(h)){id(o)||lk(l)&&(o=b0(u,null,n,i,a,s));let p=hD(hs(),n);f1(r,s,p,i,o)}}function b0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===gi&&(m=p?Jt:void 0);let y=p?Qp(m,r):h===r?m:void 0;if(l&&!id(y)&&(y=Qp(u,r)),id(y)&&(a=y,s))return a;let C=t[i+1];i=s?to(C):us(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Qp(u,r))}return a}function id(t){return t!==void 0}function Ck(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kt(Xa(t)))),t}function bk(t,e){return(t.flags&(e?8:16))!==0}function Tk(t,e,n,r,i,o){let s=e.consts,a=$l(s,i),u=Cd(e,t,2,r,a);return PC(e,n,u,$l(s,o)),u.attrs!==null&&Ug(u,u.attrs,!1),u.mergedAttrs!==null&&Ug(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function P(t,e,n,r){let i=Ae(),o=qt(),s=lt+t,a=i[Be],u=o.firstCreatePass?Tk(s,o,i,e,n,r):o.data[s],l=ib(o,i,u,a,e,t);i[s]=l;let h=um(u);return Za(u,!0),wC(a,l,u),!ec(u)&&gm()&&Rm(o,i,l,u),xP()===0&&Xi(l,i),RP(),h&&(SC(o,i,u),TC(o,u,i)),r!==null&&AC(i,u),P}function N(){let t=jt();wD()?VP():(t=t.parent,Za(t,!1));let e=t;NP(e)&&kP(),PP();let n=qt();return n.firstCreatePass&&(mm(n,t),aD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&YP(e)&&C0(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZP(e)&&C0(n,e,Ae(),e.stylesWithoutHost,!1),N}function pe(t,e,n,r){return P(t,e,n,r),N(),pe}var ib=(t,e,n,r,i,o)=>(fi(!0),Mm(r,i,AD()));function Sk(t,e,n,r,i,o){let s=e[zn],a=!s||Ya()||ec(n)||Ja(s,o);if(fi(a),a)return Mm(r,i,AD());let u=Sd(s,t,e,n);return rC(s,o)&&wd(s,o,u.nextSibling),s&&(HD(n)||qD(u))&&Qa(n)&&(OP(n),vC(u)),u}function Ak(){ib=Sk}var Mk=(t,e,n,r)=>(fi(!0),dC(e[Be],""));function xk(t,e,n,r){let i,o=e[zn],s=!o||Ya()||Ja(o,r)||ec(n);if(fi(s),s)return dC(e[Be],"");let a=Sd(o,t,e,n),u=jN(o,r);return wd(o,r,a),i=Ad(u,a),i}function Rk(){Mk=xk}function bt(){return Ae()}var qi=void 0;function Pk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Nk=["en",[["a","p"],["AM","PM"],qi],[["AM","PM"],qi,qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qi,"{1} 'at' {0}",qi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Pk],cg={};function Gt(t){let e=Ok(t),n=T0(e);if(n)return n;let r=e.split("-")[0];if(n=T0(r),n)return n;if(r==="en")return Nk;throw new Q(701,!1)}function T0(t){return t in cg||(cg[t]=Gi.ng&&Gi.ng.common&&Gi.ng.common.locales&&Gi.ng.common.locales[t]),cg[t]}var He=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(He||{});function Ok(t){return t.toLowerCase().replace(/_/g,"-")}var od="en-US",kk="USD";var Fk=od;function Vk(t){typeof t=="string"&&(Fk=t.toLowerCase().replace(/_/g,"-"))}var Lk=(t,e,n)=>{};function Ce(t,e,n,r){let i=Ae(),o=qt(),s=jt();return ob(o,i,i[Be],s,t,e,r),Ce}function jk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Vl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ob(t,e,n,r,i,o,s){let a=um(r),l=t.firstCreatePass&&B1(t),h=e[Mn],p=U1(e),m=!0;if(r.type&3||s){let A=tn(r,e),S=s?s(A):A,O=p.length,H=s?Y=>s(xn(Y[r.index])):r.index,k=null;if(!s&&a&&(k=jk(t,e,i,r.index)),k!==null){let Y=k.__ngLastListenerFn__||k;Y.__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,m=!1}else{o=A0(r,e,h,o),Lk(A,i,o);let Y=n.listen(S,i,o);p.push(o,Y),l&&l.push(i,H,O,O+1)}}else o=A0(r,e,h,o);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let A=C.length;if(A)for(let S=0;S<A;S+=2){let O=C[S],H=C[S+1],ue=e[O][H].subscribe(o),te=p.length;p.push(o,ue),l&&l.push(i,r.index,te,-(te+1))}}}function S0(t,e,n,r){let i=we(null);try{return Un(6,e,n),n(r)!==!1}catch(o){return VC(t,o),!1}finally{Un(7,e,n),we(i)}}function A0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?hi(t.index,e):e;Vm(s,5);let a=S0(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=S0(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function et(t=1){return GP(t)}function Uk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function yn(t){let e=LP();return lm(e,lt+t)}function G(t,e=""){let n=Ae(),r=qt(),i=t+lt,o=r.firstCreatePass?Cd(r,i,1,e,null):r.data[i],s=sb(r,n,o,e,t);n[i]=s,gm()&&Rm(r,n,s,o),Za(o,!1)}var sb=(t,e,n,r,i)=>(fi(!0),lC(e[Be],r));function Bk(t,e,n,r,i){let o=e[zn],s=!o||Ya()||ec(n)||Ja(o,i);return fi(s),s?lC(e[Be],r):Sd(o,t,e,n)}function $k(){sb=Bk}function Tt(t){return Ze("",t,""),Tt}function Ze(t,e,n){let r=Ae(),i=uk(r,t,e,n);return i!==gi&&$1(r,hs(),i),Ze}function Kn(t,e,n){XC(e)&&(e=e());let r=Ae(),i=md();if(di(r,i,e)){let o=qt(),s=pm();RC(o,s,r,t,e,r[Be],n,!1)}return Kn}function xr(t,e){let n=XC(t);return n&&t.set(e),n}function Qn(t,e){let n=Ae(),r=qt(),i=jt();return ob(r,n,n[Be],i,t,e),Qn}function zk(t,e,n){let r=qt();if(r.firstCreatePass){let i=ui(t);Qg(n,r.data,r.blueprint,i,!0),Qg(e,r.data,r.blueprint,i,!1)}}function Qg(t,e,n,r,i){if(t=Ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)Qg(t[o],e,n,r,i);else{let o=qt(),s=Ae(),a=jt(),u=es(t)?t:Ot(t.provide),l=rD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(es(t)||!t.multi){let y=new Ji(l,i,z),C=lg(u,e,i?h:h+m,p);C===-1?(Dg(Gl(a,s),o,u),ug(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=lg(u,e,h+m,p),C=lg(u,e,h,h+m),A=y>=0&&n[y],S=C>=0&&n[C];if(i&&!S||!i&&!A){Dg(Gl(a,s),o,u);let O=Gk(i?qk:Hk,n.length,i,r,l);!i&&S&&(n[C].providerFactory=O),ug(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=ab(n[i?C:y],l,!i&&r);ug(o,t,y>-1?y:C,O)}!i&&r&&S&&n[C].componentProviders++}}}function ug(t,e,n,r){let i=es(e),o=fP(e);if(i||o){let u=(o?Ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function ab(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Hk(t,e,n,r){return Yg(this.multi,[])}function qk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=is(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),Yg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Yg(i,o);return o}function Yg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Gk(t,e,n,r,i){let o=new Ji(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,ab(o,i,r&&!n),o}function Rr(t,e=[]){return n=>{n.providersResolver=(r,i)=>zk(r,i?i(t):t,e)}}var Wk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=eD(!1,n.type),i=r.length>0?Md([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(L(Ft))})}}return t})();function it(t){Mr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Wk).getOrCreateStandaloneInjector(t)}function no(t,e,n){let r=gd()+t,i=Ae();return i[r]===gi?xd(i,r,n?e.call(n):e()):ek(i,r)}function Pd(t,e,n,r){return Kk(Ae(),gd(),t,e,n,r)}function $m(t,e){let n=t[e];return n===gi?void 0:n}function Kk(t,e,n,r,i,o){let s=e+n;return di(t,s,i)?xd(t,s+1,o?r.call(o,i):r(i)):$m(t,s+1)}function Qk(t,e,n,r,i,o,s){let a=e+n;return Hg(t,a,i,o)?xd(t,a+2,s?r.call(s,i,o):r(i,o)):$m(t,a+2)}function Yk(t,e,n,r,i,o,s,a,u){let l=e+n;return tk(t,l,i,o,s,a)?xd(t,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):$m(t,l+4)}function Pr(t,e){let n=qt(),r,i=t+lt;n.firstCreatePass?(r=Zk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ki(r.type,!0)),s,a=zt(z);try{let u=ql(!1),l=o();return ql(u),Uk(n,Ae(),i,l),l}finally{zt(a)}}function Zk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cb(t,e,n,r){let i=t+lt,o=Ae(),s=lm(o,i);return ub(o,i)?Qk(o,gd(),e,s.transform,n,r,s):s.transform(n,r)}function yi(t,e,n,r,i,o){let s=t+lt,a=Ae(),u=lm(a,s);return ub(a,s)?Yk(a,gd(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o)}function ub(t,e){return t[de].data[e].pure}function Nd(t,e){return HC(t,e)}var Tr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Od=new Tr("18.2.5");var kd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var lb=new B("");function ro(t){return!!t&&typeof t.then=="function"}function db(t){return!!t&&typeof t.subscribe=="function"}var Fd=new B(""),hb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=R(Fd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ro(o))n.push(o);else if(db(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),io=new B("");function Jk(){IE(()=>{throw new Q(600,!1)})}function Xk(t){return t.isBoundToModule}var eF=10;function tF(t,e,n){try{let r=n();return ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Yn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(yN),this.afterRenderManager=R(rb),this.zonelessEnabled=R(Lm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new je,this.afterTick=new je,this.componentTypes=[],this.components=[],this.isStable=R(Sr).hasPendingTasks.pipe(J(n=>!n)),this._injector=R(Ft)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof td;if(!this._injector.get(hb).done){let m=!i&&Y0(n),y=!1;throw new Q(405,y)}let s;i?s=n:s=this._injector.get(ss).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Xk(s)?void 0:this._injector.get(li),u=r||s.selector,l=s.create(Ct.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(lb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Rl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let n=we(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,we(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(as,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<eF;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)nF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Rl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(io,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Tl;function Vd(t){Tl??=new WeakMap;let e=Tl.get(t);if(e)return e;let n=t.isStable.pipe(Zt(r=>r)).toPromise().then(()=>{});return Tl.set(t,n),t.onDestroy(()=>Tl?.delete(t)),n}function nF(t,e,n,r){if(!n&&!fd(t))return;UC(t,e,n&&!r?0:1)}var Zg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ld=(()=>{class t{compileModuleSync(n){return new zg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Z0(n),o=uC(i.declarations).reduce((s,a)=>{let u=ci(a);return u&&s.push(new cs(u)),s},[]);return new Zg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rF=(()=>{class t{constructor(){this.zone=R(ve),this.changeDetectionScheduler=R(os),this.applicationRef=R(Yn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iF=new B("",{factory:()=>!1});function fb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(fe(U({},pb()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:Qi,multi:!0,useFactory:()=>{let r=R(rF,{optional:!0});return()=>r.initialize()}},{provide:Qi,multi:!0,useFactory:()=>{let r=R(oF);return()=>{r.initialize()}}},e===!0?{provide:KC,useValue:!0}:[],{provide:QC,useValue:n??BD}]}function zm(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=fb({ngZoneFactory:()=>{let i=pb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Mr("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return gn([{provide:iF,useValue:!0},{provide:Lm,useValue:!1},r])}function pb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oF=(()=>{class t{constructor(){this.subscription=new Qe,this.initialized=!1,this.zone=R(ve),this.pendingTasks=R(Sr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var sF=(()=>{class t{constructor(){this.appRef=R(Yn),this.taskService=R(Sr),this.ngZone=R(ve),this.zonelessEnabled=R(Lm),this.disableScheduling=R(KC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Kl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(QC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ag||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?u0:$D;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Kl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,u0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function aF(){return typeof $localize<"u"&&$localize.locale||od}var tc=new B("",{providedIn:"root",factory:()=>R(tc,le.Optional|le.SkipSelf)||aF()}),gb=new B("",{providedIn:"root",factory:()=>kk});var mb=new B("");function Sl(t){return!!t.platformInjector}function cF(t){let e=Sl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Sl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Sl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(mb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Rl(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return tF(r,n,()=>{let o=e.get(hb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(tc,od);if(Vk(s||od),Sl(t)){let a=e.get(Yn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return uF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function uF(t,e){let n=t.injector.get(Yn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}var Pl=null;function lF(t=[],e){return Ct.create({name:e,providers:[{provide:dd,useValue:"platform"},{provide:mb,useValue:new Set([()=>Pl=null])},...t]})}function dF(t=[]){if(Pl)return Pl;let e=lF(t);return Pl=e,Jk(),hF(e),e}function hF(t){t.get(Em,null)?.forEach(n=>n())}function Hm(){return!1}var oo=(()=>{class t{static{this.__NG_ELEMENT_ID__=fF}}return t})();function fF(t){return pF(jt(),Ae(),(t&16)===16)}function pF(t,e,n){if(Qa(t)&&!n){let r=hi(t.index,e);return new eo(r,r)}else if(t.type&175){let r=e[pn];return new eo(r,e)}return null}var Jg=class{constructor(){}supports(e){return eb(e)}create(e){return new Xg(e)}},gF=(t,e)=>e,Xg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<M0(r,i,o)?n:r,a=M0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!eb(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,JO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new em(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},em=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function M0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function x0(){return new qm([new Jg])}var qm=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:x0})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||x0()),deps:[[t,new rm,new Ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Q(901,!1)}}return t})();function yb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=dF(r),o=[fb({}),{provide:os,useExisting:sF},...n||[]],s=new rd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return cF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var vb=new B("");var R0=!1;function mF(){R0||(R0=!0,kN(),Ak(),$k(),Rk(),ok(),zO(),DO(),I1())}function yF(t,e){return Vd(t)}function _b(){return gn([{provide:El,useFactory:()=>{let t=!0;return Va()&&(t=!!R(fs,{optional:!0})?.get(tC,null)),t&&Mr("NgHydration"),t}},{provide:Qi,useValue:()=>{mO(!1),Va()&&R(El)&&(vF(),mF())},multi:!0},{provide:oC,useFactory:()=>Va()&&R(El)},{provide:io,useFactory:()=>{if(Va()&&R(El)){let t=R(Yn),e=R(Ct);return()=>{yF(t,e).then(()=>{wO(t)})}}return()=>{}},multi:!0}])}function vF(){let t=vd(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===NN){e=n;break}if(!e)throw new Q(-507,!1)}function Nr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ys(t,e){Mr("NgSignals");let n=vE(t);return e?.equal&&(n[vr].equal=e.equal),n}function Zn(t){let e=we(null);try{return t()}finally{we(e)}}function wb(t){let e=ci(t);if(!e)return null;let n=new cs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Mb=null;function Lr(){return Mb}function xb(t){Mb??=t}var Wd=class{};var yt=new B(""),ny=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>R(_F),providedIn:"platform"})}}return t})(),Rb=new B(""),_F=(()=>{class t extends ny{constructor(){super(),this._doc=R(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lr().getBaseHref(this._doc)}onPopState(n){let r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function ry(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Ib(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var jr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>R(iy),providedIn:"root"})}}return t})(),Pb=new B(""),iy=(()=>{class t extends jr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ry(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(L(ny),L(Pb,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nb=(()=>{class t extends jr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ry(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(L(ny),L(Pb,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),_s=(()=>{class t{constructor(n){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=EF(Ib(Eb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return t.stripTrailingSlash(IF(this._basePath,Eb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=kr}static{this.joinWithSlash=ry}static{this.stripTrailingSlash=Ib}static{this.\u0275fac=function(r){return new(r||t)(L(jr))}}static{this.\u0275prov=$({token:t,factory:()=>wF(),providedIn:"root"})}}return t})();function wF(){return new _s(L(jr))}function IF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Eb(t){return t.replace(/\/index.html$/,"")}function EF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ob={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},kb=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(kb||{});var Ut=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ut||{}),Ne=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ne||{}),rn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(rn||{}),on={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function DF(t){return Gt(t)[He.LocaleId]}function CF(t,e,n){let r=Gt(t),i=[r[He.DayPeriodsFormat],r[He.DayPeriodsStandalone]],o=vn(i,e);return vn(o,n)}function bF(t,e,n){let r=Gt(t),i=[r[He.DaysFormat],r[He.DaysStandalone]],o=vn(i,e);return vn(o,n)}function TF(t,e,n){let r=Gt(t),i=[r[He.MonthsFormat],r[He.MonthsStandalone]],o=vn(i,e);return vn(o,n)}function SF(t,e){let r=Gt(t)[He.Eras];return vn(r,e)}function jd(t,e){let n=Gt(t);return vn(n[He.DateFormat],e)}function Ud(t,e){let n=Gt(t);return vn(n[He.TimeFormat],e)}function Bd(t,e){let r=Gt(t)[He.DateTimeFormat];return vn(r,e)}function Fr(t,e){let n=Gt(t),r=n[He.NumberSymbols][e];if(typeof r>"u"){if(e===on.CurrencyDecimal)return n[He.NumberSymbols][on.Decimal];if(e===on.CurrencyGroup)return n[He.NumberSymbols][on.Group]}return r}function AF(t,e){return Gt(t)[He.NumberFormats][e]}function MF(t){return Gt(t)[He.Currencies]}function Fb(t){if(!t[He.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[He.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xF(t){let e=Gt(t);return Fb(e),(e[He.ExtraData][2]||[]).map(r=>typeof r=="string"?Gm(r):[Gm(r[0]),Gm(r[1])])}function RF(t,e,n){let r=Gt(t);Fb(r);let i=[r[He.ExtraData][0],r[He.ExtraData][1]],o=vn(i,e)||[];return vn(o,n)||[]}function vn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Gm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function PF(t,e,n="en"){let r=MF(n)[t]||Ob[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var NF=2;function OF(t){let e,n=Ob[t];return n&&(e=n[2]),typeof e=="number"?e:NF}var kF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$d={},FF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Vr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Vr||{}),Te=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Te||{}),be=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(be||{});function VF(t,e,n,r){let i=GF(t);e=Or(n,e)||e;let s=[],a;for(;e;)if(a=FF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Lb(r,u),i=qF(i,r,!0));let l="";return s.forEach(h=>{let p=zF(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Kd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Or(t,e){let n=DF(t);if($d[n]??={},$d[n][e])return $d[n][e];let r="";switch(e){case"shortDate":r=jd(t,rn.Short);break;case"mediumDate":r=jd(t,rn.Medium);break;case"longDate":r=jd(t,rn.Long);break;case"fullDate":r=jd(t,rn.Full);break;case"shortTime":r=Ud(t,rn.Short);break;case"mediumTime":r=Ud(t,rn.Medium);break;case"longTime":r=Ud(t,rn.Long);break;case"fullTime":r=Ud(t,rn.Full);break;case"short":let i=Or(t,"shortTime"),o=Or(t,"shortDate");r=zd(Bd(t,rn.Short),[i,o]);break;case"medium":let s=Or(t,"mediumTime"),a=Or(t,"mediumDate");r=zd(Bd(t,rn.Medium),[s,a]);break;case"long":let u=Or(t,"longTime"),l=Or(t,"longDate");r=zd(Bd(t,rn.Long),[u,l]);break;case"full":let h=Or(t,"fullTime"),p=Or(t,"fullDate");r=zd(Bd(t,rn.Full),[h,p]);break}return r&&($d[n][e]=r),r}function zd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Nn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function LF(t,e){return Nn(t,3).substring(0,e)}function ot(t,e,n=0,r=!1,i=!1){return function(o,s){let a=jF(t,o);if((n>0||a>-n)&&(a+=n),t===Te.Hours)a===0&&n===-12&&(a=12);else if(t===Te.FractionalSeconds)return LF(a,e);let u=Fr(s,on.MinusSign);return Nn(a,e,u,r,i)}}function jF(t,e){switch(t){case Te.FullYear:return e.getFullYear();case Te.Month:return e.getMonth();case Te.Date:return e.getDate();case Te.Hours:return e.getHours();case Te.Minutes:return e.getMinutes();case Te.Seconds:return e.getSeconds();case Te.FractionalSeconds:return e.getMilliseconds();case Te.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Fe(t,e,n=Ut.Format,r=!1){return function(i,o){return UF(i,o,t,e,n,r)}}function UF(t,e,n,r,i,o){switch(n){case be.Months:return TF(e,i,r)[t.getMonth()];case be.Days:return bF(e,i,r)[t.getDay()];case be.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=xF(e),h=RF(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,C]=m,A=s>=y.hours&&a>=y.minutes,S=s<C.hours||s===C.hours&&a<C.minutes;if(y.hours<C.hours){if(A&&S)return!0}else if(A||S)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return CF(e,i,r)[s<12?0:1];case be.Eras:return SF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Hd(t){return function(e,n,r){let i=-1*r,o=Fr(n,on.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Vr.Short:return(i>=0?"+":"")+Nn(s,2,o)+Nn(Math.abs(i%60),2,o);case Vr.ShortGMT:return"GMT"+(i>=0?"+":"")+Nn(s,1,o);case Vr.Long:return"GMT"+(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);case Vr.Extended:return r===0?"Z":(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var BF=0,Gd=4;function $F(t){let e=Kd(t,BF,1).getDay();return Kd(t,0,1+(e<=Gd?Gd:Gd+7)-e)}function Vb(t){let e=t.getDay(),n=e===0?-3:Gd-e;return Kd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Wm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Vb(n),s=$F(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nn(i,t,Fr(r,on.MinusSign))}}function qd(t,e=!1){return function(n,r){let o=Vb(n).getFullYear();return Nn(o,t,Fr(r,on.MinusSign),e)}}var Km={};function zF(t){if(Km[t])return Km[t];let e;switch(t){case"G":case"GG":case"GGG":e=Fe(be.Eras,Ne.Abbreviated);break;case"GGGG":e=Fe(be.Eras,Ne.Wide);break;case"GGGGG":e=Fe(be.Eras,Ne.Narrow);break;case"y":e=ot(Te.FullYear,1,0,!1,!0);break;case"yy":e=ot(Te.FullYear,2,0,!0,!0);break;case"yyy":e=ot(Te.FullYear,3,0,!1,!0);break;case"yyyy":e=ot(Te.FullYear,4,0,!1,!0);break;case"Y":e=qd(1);break;case"YY":e=qd(2,!0);break;case"YYY":e=qd(3);break;case"YYYY":e=qd(4);break;case"M":case"L":e=ot(Te.Month,1,1);break;case"MM":case"LL":e=ot(Te.Month,2,1);break;case"MMM":e=Fe(be.Months,Ne.Abbreviated);break;case"MMMM":e=Fe(be.Months,Ne.Wide);break;case"MMMMM":e=Fe(be.Months,Ne.Narrow);break;case"LLL":e=Fe(be.Months,Ne.Abbreviated,Ut.Standalone);break;case"LLLL":e=Fe(be.Months,Ne.Wide,Ut.Standalone);break;case"LLLLL":e=Fe(be.Months,Ne.Narrow,Ut.Standalone);break;case"w":e=Wm(1);break;case"ww":e=Wm(2);break;case"W":e=Wm(1,!0);break;case"d":e=ot(Te.Date,1);break;case"dd":e=ot(Te.Date,2);break;case"c":case"cc":e=ot(Te.Day,1);break;case"ccc":e=Fe(be.Days,Ne.Abbreviated,Ut.Standalone);break;case"cccc":e=Fe(be.Days,Ne.Wide,Ut.Standalone);break;case"ccccc":e=Fe(be.Days,Ne.Narrow,Ut.Standalone);break;case"cccccc":e=Fe(be.Days,Ne.Short,Ut.Standalone);break;case"E":case"EE":case"EEE":e=Fe(be.Days,Ne.Abbreviated);break;case"EEEE":e=Fe(be.Days,Ne.Wide);break;case"EEEEE":e=Fe(be.Days,Ne.Narrow);break;case"EEEEEE":e=Fe(be.Days,Ne.Short);break;case"a":case"aa":case"aaa":e=Fe(be.DayPeriods,Ne.Abbreviated);break;case"aaaa":e=Fe(be.DayPeriods,Ne.Wide);break;case"aaaaa":e=Fe(be.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":e=Fe(be.DayPeriods,Ne.Abbreviated,Ut.Standalone,!0);break;case"bbbb":e=Fe(be.DayPeriods,Ne.Wide,Ut.Standalone,!0);break;case"bbbbb":e=Fe(be.DayPeriods,Ne.Narrow,Ut.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(be.DayPeriods,Ne.Abbreviated,Ut.Format,!0);break;case"BBBB":e=Fe(be.DayPeriods,Ne.Wide,Ut.Format,!0);break;case"BBBBB":e=Fe(be.DayPeriods,Ne.Narrow,Ut.Format,!0);break;case"h":e=ot(Te.Hours,1,-12);break;case"hh":e=ot(Te.Hours,2,-12);break;case"H":e=ot(Te.Hours,1);break;case"HH":e=ot(Te.Hours,2);break;case"m":e=ot(Te.Minutes,1);break;case"mm":e=ot(Te.Minutes,2);break;case"s":e=ot(Te.Seconds,1);break;case"ss":e=ot(Te.Seconds,2);break;case"S":e=ot(Te.FractionalSeconds,1);break;case"SS":e=ot(Te.FractionalSeconds,2);break;case"SSS":e=ot(Te.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hd(Vr.Short);break;case"ZZZZZ":e=Hd(Vr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hd(Vr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hd(Vr.Long);break;default:return null}return Km[t]=e,e}function Lb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function HF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function qF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=Lb(e,i);return HF(t,r*(o-i))}function GF(t){if(Db(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Kd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(kF))return WF(r)}let e=new Date(t);if(!Db(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function WF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Db(t){return t instanceof Date&&!isNaN(t.valueOf())}var KF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Cb=22,Qd=".",nc="0",QF=";",YF=",",Qm="#",bb="\xA4";function ZF(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Fr(n,on.Infinity);else{let l=tV(t);s&&(l=eV(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let H=o.match(KF);if(H===null)throw new Error(`${o} is not a valid digit info`);let k=H[1],Y=H[3],ue=H[5];k!=null&&(h=Ym(k)),Y!=null&&(p=Ym(Y)),ue!=null?m=Ym(ue):Y!=null&&p>m&&(m=p)}nV(l,p,m);let y=l.digits,C=l.integerLen,A=l.exponent,S=[];for(u=y.every(H=>!H);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?S=y.splice(C,y.length):(S=y,y=[0]);let O=[];for(y.length>=e.lgSize&&O.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)O.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&O.unshift(y.join("")),a=O.join(Fr(n,r)),S.length&&(a+=Fr(n,i)+S.join("")),A&&(a+=Fr(n,on.Exponential)+"+"+A)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function JF(t,e,n,r,i){let o=AF(e,kb.Currency),s=XF(o,Fr(e,on.MinusSign));return s.minFrac=OF(r),s.maxFrac=s.minFrac,ZF(t,s,e,on.CurrencyGroup,on.CurrencyDecimal,i).replace(bb,n).replace(bb,"").trim()}function XF(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(QF),i=r[0],o=r[1],s=i.indexOf(Qd)!==-1?i.split(Qd):[i.substring(0,i.lastIndexOf(nc)+1),i.substring(i.lastIndexOf(nc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Qm));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===nc?n.minFrac=n.maxFrac=h+1:p===Qm?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(YF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Qm);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function eV(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function tV(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Qd))>-1&&(e=e.replace(Qd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===nc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>Cb&&(r=r.splice(0,Cb-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function nV(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,y,C){return m=m+p,C[y]=m<10?m:m-10,u&&(C[y]===0&&y>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Ym(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Yd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zm=/\s+/,Tb=[],jb=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Tb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Zm):Tb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Zm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Zm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(z(Ar),z(mi))}}static{this.\u0275dir=Ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Jm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Jm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Sb(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Sb(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(z(ps),z(Td),z(qm))}}static{this.\u0275dir=Ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Sb(t,e){t.context.$implicit=e.item}var _n=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Xm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ab("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ab("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(z(ps),z(Td))}}static{this.\u0275dir=Ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Xm=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ab(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${kt(e)}'.`)}function Ub(t,e){return new Q(2100,!1)}var rV="mediumDate",iV=new B(""),oV=new B(""),Bb=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??rV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return VF(n,s,o||this.locale,a)}catch(s){throw Ub(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(z(tc,16),z(iV,24),z(oV,24))}}static{this.\u0275pipe=sm({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var ws=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!sV(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=PF(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=aV(n);return JF(u,s,a,r,o)}catch(u){throw Ub(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(z(tc,16),z(gb,16))}}static{this.\u0275pipe=sm({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function sV(t){return!(t==null||t===""||t!==t)}function aV(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var sn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lt({type:t})}static{this.\u0275inj=Vt({})}}return t})(),oy="browser",cV="server";function uV(t){return t===oy}function so(t){return t===cV}var $b=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>uV(R(dt))?new ey(R(yt),window):new ty})}}return t})(),ey=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=lV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function lV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ty=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vs=class{};var ic=class{},Xd=class{},Xn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ay=class{encodeKey(e){return zb(e)}encodeValue(e){return zb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function dV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var hV=/%(\d[a-f0-9])/gi,fV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zb(t){return encodeURIComponent(t).replace(hV,(e,n)=>fV[n]??e)}function Zd(t){return`${t}`}var wi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ay,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=dV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Zd):[Zd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Zd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function pV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function qb(t){return typeof Blob<"u"&&t instanceof Blob}function Gb(t){return typeof FormData<"u"&&t instanceof FormData}function gV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var rc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(pV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Xn,this.context??=new cy,!this.params)this.params=new wi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hb(this.body)||qb(this.body)||Gb(this.body)||gV(this.body)?this.body:this.body instanceof wi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Gb(this.body)?null:qb(this.body)?this.body.type||null:Hb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof wi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Ii=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ii||{}),oc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Xn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},eh=class t extends oc{constructor(e={}){super(e),this.type=Ii.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ao=class t extends oc{constructor(e={}){super(e),this.type=Ii.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_i=class extends oc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},iT=200,mV=204;function sy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var dy=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof rc)o=n;else{let u;i.headers instanceof Xn?u=i.headers:u=new Xn(i.headers);let l;i.params&&(i.params instanceof wi?l=i.params:l=new wi({fromObject:i.params})),o=new rc(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Ir(u=>this.handler.handle(u)));if(n instanceof rc||i.observe==="events")return s;let a=s.pipe(mt(u=>u instanceof ao));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new wi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,sy(i,r))}post(n,r,i={}){return this.request("POST",n,sy(i,r))}put(n,r,i={}){return this.request("PUT",n,sy(i,r))}static{this.\u0275fac=function(r){return new(r||t)(L(ic))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),yV=/^\)\]\}',?\n/,vV="X-Request-URL";function Wb(t){if(t.url)return t.url;let e=vV.toLocaleLowerCase();return t.headers.get(e)}var _V=(()=>{class t{constructor(){this.fetchImpl=R(uy,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=R(ve)}handle(n){return new se(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(ly,o=>r.error(new _i({error:o}))),()=>i.abort()})}doRequest(n,r,i){return V(this,null,function*(){let o=this.createRequestInit(n),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,U({signal:r},o)));wV(y),i.next({type:Ii.Sent}),s=yield y}catch(y){i.error(new _i({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Xn(s.headers),u=s.statusText,l=Wb(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new eh({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),C=[],A=s.body.getReader(),S=0,O,H,k=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>V(this,null,function*(){for(;;){let{done:ue,value:te}=yield A.read();if(ue)break;if(C.push(te),S+=te.length,n.reportProgress){H=n.responseType==="text"?(H??"")+(O??=new TextDecoder).decode(te,{stream:!0}):void 0;let I=()=>i.next({type:Ii.DownloadProgress,total:y?+y:void 0,loaded:S,partialText:H});k?k.run(I):I()}}}));let Y=this.concatChunks(C,S);try{let ue=s.headers.get("Content-Type")??"";p=this.parseBody(n,Y,ue)}catch(ue){i.error(new _i({error:ue,headers:new Xn(s.headers),status:s.status,statusText:s.statusText,url:Wb(s)??n.urlWithParams}));return}}h===0&&(h=p?iT:0),h>=200&&h<300?(i.next(new ao({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new _i({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(yV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),uy=class{};function ly(){}function wV(t){t.then(ly,ly)}function oT(t,e){return e(t)}function IV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function EV(t,e,n){return(r,i)=>mn(n,()=>e(r,o=>t(o,i)))}var hy=new B(""),fy=new B(""),sT=new B(""),aT=new B("",{providedIn:"root",factory:()=>!0});function DV(){let t=null;return(e,n)=>{t===null&&(t=(R(hy,{optional:!0})??[]).reduceRight(IV,oT));let r=R(Sr);if(R(aT)){let o=r.add();return t(e,n).pipe(ii(()=>r.remove(o)))}else return t(e,n)}}var Kb=(()=>{class t extends ic{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=R(Sr),this.contributeToStability=R(aT)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(fy),...this.injector.get(sT,[])]));this.chain=r.reduceRight((i,o)=>EV(i,o,this.injector),oT)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ii(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(L(Xd),L(Ft))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();var CV=/^\)\]\}',?\n/;function bV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Qb=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?De(r.\u0275loadImpl()):Z(null)).pipe(Ue(()=>new se(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,S)=>s.setRequestHeader(A,S.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader("Content-Type",A)}if(n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",S=new Xn(s.getAllResponseHeaders()),O=bV(s)||n.url;return u=new eh({headers:S,status:s.status,statusText:A,url:O}),u},h=()=>{let{headers:A,status:S,statusText:O,url:H}=l(),k=null;S!==mV&&(k=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=k?iT:0);let Y=S>=200&&S<300;if(n.responseType==="json"&&typeof k=="string"){let ue=k;k=k.replace(CV,"");try{k=k!==""?JSON.parse(k):null}catch(te){k=ue,Y&&(Y=!1,k={error:te,text:k})}}Y?(o.next(new ao({body:k,headers:A,status:S,statusText:O,url:H||void 0})),o.complete()):o.error(new _i({error:k,headers:A,status:S,statusText:O,url:H||void 0}))},p=A=>{let{url:S}=l(),O=new _i({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(O)},m=!1,y=A=>{m||(o.next(l()),m=!0);let S={type:Ii.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(S.total=A.total),n.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},C=A=>{let S={type:Ii.UploadProgress,loaded:A.loaded};A.lengthComputable&&(S.total=A.total),o.next(S)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:Ii.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(L(vs))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),cT=new B(""),TV="XSRF-TOKEN",SV=new B("",{providedIn:"root",factory:()=>TV}),AV="X-XSRF-TOKEN",MV=new B("",{providedIn:"root",factory:()=>AV}),th=class{},xV=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(L(yt),L(dt),L(SV))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function RV(t,e){let n=t.url.toLowerCase();if(!R(cT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(th).getToken(),i=R(MV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var uT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(uT||{});function PV(t,e){return{\u0275kind:t,\u0275providers:e}}function py(...t){let e=[dy,Qb,Kb,{provide:ic,useExisting:Kb},{provide:Xd,useFactory:()=>R(_V,{optional:!0})??R(Qb)},{provide:fy,useValue:RV,multi:!0},{provide:cT,useValue:!0},{provide:th,useClass:xV}];for(let n of t)e.push(...n.\u0275providers);return gn(e)}var Yb=new B("");function NV(){return PV(uT.LegacyInterceptors,[{provide:Yb,useFactory:DV},{provide:fy,useExisting:Yb,multi:!0}])}var lT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lt({type:t})}static{this.\u0275inj=Vt({providers:[py(NV())]})}}return t})();var OV=new B(""),Zb="b",Jb="h",Xb="s",eT="st",tT="u",nT="rt",Jd=new B(""),kV=["GET","HEAD"];function FV(t,e){let y=R(Jd),{isCacheActive:n}=y,r=JI(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!kV.includes(o)||!r.includeRequestsWithAuthHeaders&&VV(t)||r.filter?.(t)===!1)return e(t);let s=R(fs),a=R(OV,{optional:!0}),u=so(R(dt));if(a&&!u)throw new Q(2803,!1);let l=u&&a?BV(t.url,a):t.url,h=jV(t,l),p=s.get(h,null),m=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),p){let{[Zb]:C,[nT]:A,[Jb]:S,[Xb]:O,[eT]:H,[tT]:k}=p,Y=C;switch(A){case"arraybuffer":Y=new TextEncoder().encode(C).buffer;break;case"blob":Y=new Blob([C]);break}let ue=new Xn(S);return Z(new ao({body:Y,headers:ue,status:O,statusText:H,url:k}))}return e(t).pipe(Xe(C=>{C instanceof ao&&u&&s.set(h,{[Zb]:C.body,[Jb]:LV(C.headers,m),[Xb]:C.status,[eT]:C.statusText,[tT]:l,[nT]:t.responseType})}))}function VV(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function LV(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function rT(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function jV(t,e){let{params:n,method:r,responseType:i}=t,o=rT(n),s=t.serializeBody();s instanceof URLSearchParams?s=rT(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=UV(a);return u}function UV(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function dT(t){return[{provide:Jd,useFactory:()=>(Mr("NgHttpTransferCache"),U({isCacheActive:!0},t))},{provide:sT,useValue:FV,multi:!0,deps:[fs,Jd]},{provide:io,multi:!0,useFactory:()=>{let e=R(Yn),n=R(Jd);return()=>{Vd(e).then(()=>{n.isCacheActive=!1})}}}]}function BV(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var yy=class extends Wd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vy=class t extends yy{static makeCurrent(){xb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zV();return n==null?null:HV(n)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yd(document.cookie,e)}},sc=null;function zV(){return sc=sc||document.querySelector("base"),sc?sc.getAttribute("href"):null}function HV(t){return new URL(t,document.baseURI).pathname}var qV=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),nh=new B(""),gT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(L(nh),L(ve))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),ac=class{constructor(e){this._doc=e}},gy="ng-app-id",mT=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=so(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${gy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(gy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(gy,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(L(yt),L(_d),L(Dm,8),L(dt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),my={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iy=/%COMP%/g,yT="%COMP%",GV=`_nghost-${yT}`,WV=`_ngcontent-${yT}`,KV=!0,QV=new B("",{providedIn:"root",factory:()=>KV});function YV(t){return WV.replace(Iy,t)}function ZV(t){return GV.replace(Iy,t)}function vT(t,e){return e.map(n=>n.replace(Iy,t))}var hT=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=so(a),this.defaultRenderer=new cc(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$n.ShadowDom&&(r=fe(U({},r),{encapsulation:$n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof rh?i.applyToHost(n):i instanceof uc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case $n.Emulated:o=new rh(u,l,r,this.appId,h,s,a,p);break;case $n.ShadowDom:return new _y(u,l,n,r,s,a,this.nonce,p);default:o=new uc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(L(gT),L(mT),L(_d),L(QV),L(yt),L(dt),L(ve),L(Dm))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),cc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(my[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=my[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=my[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(br.DashCase|br.Important)?e.style.setProperty(n,r,i&br.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _y=class extends cc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},uc=class extends cc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?vT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rh=class extends uc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=YV(l),this.hostAttr=ZV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JV=(()=>{class t extends ac{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(L(yt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),XV=(()=>{class t extends ac{constructor(n){super(n),this.delegate=R(vb,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(L(yt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),pT=["alt","control","meta","shift"],eL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nL=(()=>{class t extends ac{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=eL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pT.forEach(s=>{if(s!==i){let a=tL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(L(yt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function _T(t,e){return yb(U({rootComponent:t},rL(e)))}function rL(t){return{appProviders:[...cL,...t?.providers??[]],platformProviders:aL}}function iL(){vy.makeCurrent()}function oL(){return new Cr}function sL(){return YD(document),document}var aL=[{provide:dt,useValue:oy},{provide:Em,useValue:iL,multi:!0},{provide:yt,useFactory:sL,deps:[]}];var cL=[{provide:dd,useValue:"root"},{provide:Cr,useFactory:oL,deps:[]},{provide:nh,useClass:JV,multi:!0,deps:[yt,ve,dt]},{provide:nh,useClass:nL,multi:!0,deps:[yt]},{provide:nh,useClass:XV,multi:!0},hT,mT,gT,{provide:as,useExisting:hT},{provide:vs,useClass:qV,deps:[]},[]];var wT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(L(yt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wy=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(wy||{});function IT(...t){let e=[],n=new Set,r=n.has(wy.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return gn([[],_b(),n.has(wy.NoHttpTransferCache)||r?[]:dT({}),e])}var ce="primary",Cc=Symbol("RouteTitle"),Ty=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ts(t){return new Ty(t)}function lL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}function er(t,e){let n=t?Sy(t):void 0,r=e?Sy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!PT(t[i],e[i]))return!1;return!0}function Sy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function PT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function NT(t){return t.length>0?t[t.length-1]:null}function Di(t){return $p(t)?t:ro(t)?De(Promise.resolve(t)):Z(t)}var hL={exact:kT,subset:FT},OT={exact:fL,subset:pL,ignored:()=>!0};function ET(t,e,n){return hL[n.paths](t.root,e.root,n.matrixParams)&&OT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function fL(t,e){return er(t,e)}function kT(t,e,n){if(!uo(t.segments,e.segments)||!sh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kT(t.children[r],e.children[r],n))return!1;return!0}function pL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PT(t[n],e[n]))}function FT(t,e,n){return VT(t,e,e.segments,n)}function VT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!uo(i,n)||e.hasChildren()||!sh(i,n,r))}else if(t.segments.length===n.length){if(!uo(t.segments,n)||!sh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!uo(t.segments,i)||!sh(t.segments,i,r)||!t.children[ce]?!1:VT(t.children[ce],e,o,r)}}function sh(t,e,n){return e.every((r,i)=>OT[n](t[i].parameters,r.parameters))}var Br=class{constructor(e=new Me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return yL.serialize(this)}},Me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ah(this)}},co=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return jT(this)}};function gL(t,e){return uo(t,e)&&t.every((n,r)=>er(n.parameters,e[r].parameters))}function uo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function mL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var bc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new Ss,providedIn:"root"})}}return t})(),Ss=class{parse(e){let n=new My(e);return new Br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${lc(e.root,!0)}`,r=wL(e.queryParams),i=typeof e.fragment=="string"?`#${vL(e.fragment)}`:"";return`${n}${r}${i}`}},yL=new Ss;function ah(t){return t.segments.map(e=>jT(e)).join("/")}function lc(t,e){if(!t.hasChildren())return ah(t);if(e){let n=t.children[ce]?lc(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${lc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=mL(t,(r,i)=>i===ce?[lc(t.children[ce],!1)]:[`${i}:${lc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${ah(t)}/${n[0]}`:`${ah(t)}/(${n.join("//")})`}}function LT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ih(t){return LT(t).replace(/%3B/gi,";")}function vL(t){return encodeURI(t)}function Ay(t){return LT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ch(t){return decodeURIComponent(t)}function DT(t){return ch(t.replace(/\+/g,"%20"))}function jT(t){return`${Ay(t.path)}${_L(t.parameters)}`}function _L(t){return Object.entries(t).map(([e,n])=>`;${Ay(e)}=${Ay(n)}`).join("")}function wL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ih(n)}=${ih(i)}`).join("&"):`${ih(n)}=${ih(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var IL=/^[^\/()?;#]+/;function Ey(t){let e=t.match(IL);return e?e[0]:""}var EL=/^[^\/()?;=#]+/;function DL(t){let e=t.match(EL);return e?e[0]:""}var CL=/^[^=?&#]+/;function bL(t){let e=t.match(CL);return e?e[0]:""}var TL=/^[^&#]+/;function SL(t){let e=t.match(TL);return e?e[0]:""}var My=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Me(e,n)),r}parseSegment(){let e=Ey(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new co(ch(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ey(this.remaining);i&&(r=i,this.capture(r))}e[ch(n)]=ch(r)}parseQueryParam(e){let n=bL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=SL(this.remaining);s&&(r=s,this.capture(r))}let i=DT(n),o=DT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ey(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new Me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function UT(t){return t.segments.length>0?new Me([],{[ce]:t}):t}function BT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=BT(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Me(t.segments,e);return AL(n)}function AL(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Me(t.segments.concat(e.segments),e.children)}return t}function lo(t){return t instanceof Br}function ML(t,e,n=null,r=null){let i=$T(t);return zT(i,e,n,r)}function $T(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=UT(r);return e??i}function zT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Dy(i,i,i,n,r);let o=xL(e);if(o.toRoot())return Dy(i,i,new Me([],{}),n,r);let s=RL(o,i,t),a=s.processChildren?fc(s.segmentGroup,s.index,o.commands):qT(s.segmentGroup,s.index,o.commands);return Dy(i,s.segmentGroup,a,n,r)}function uh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function mc(t){return typeof t=="object"&&t!=null&&t.outlets}function Dy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=HT(t,e,n);let a=UT(BT(s));return new Br(a,o,i)}function HT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=HT(o,e,n)}),new Me(t.segments,r)}var lh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&uh(r[0]))throw new Q(4003,!1);let i=r.find(mc);if(i&&i!==NT(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new lh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new lh(n,e,r)}var Ds=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function RL(t,e,n){if(t.isAbsolute)return new Ds(e,!0,0);if(!n)return new Ds(e,!1,NaN);if(n.parent===null)return new Ds(n,!0,0);let r=uh(t.commands[0])?0:1,i=n.segments.length-1+r;return PL(n,i,t.numberOfDoubleDots)}function PL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Ds(r,!1,i-o)}function NL(t){return mc(t[0])?t[0].outlets:{[ce]:t}}function qT(t,e,n){if(t??=new Me([],{}),t.segments.length===0&&t.hasChildren())return fc(t,e,n);let r=OL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Me(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Me(t.segments.slice(r.pathIndex),t.children),fc(o,0,i)}else return r.match&&i.length===0?new Me(t.segments,{}):r.match&&!t.hasChildren()?xy(t,e,n):r.match?fc(t,0,i):xy(t,e,n)}function fc(t,e,n){if(n.length===0)return new Me(t.segments,{});{let r=NL(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=fc(t.children[ce],e,n);return new Me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Me(t.segments,i)}}function OL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(mc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!bT(u,l,s))return o;r+=2}else{if(!bT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(mc(o)){let u=kL(o.outlets);return new Me(r,u)}if(i===0&&uh(n[0])){let u=t.segments[e];r.push(new co(u.path,CT(n[0]))),i++;continue}let s=mc(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&uh(a)?(r.push(new co(s,CT(a))),i+=2):(r.push(new co(s,{})),i++)}return new Me(r,{})}function kL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xy(new Me([],{}),0,r))}),e}function CT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bT(t,e,n){return t==n.path&&er(e,n.parameters)}var pc="imperative",ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ht||{}),wn=class{constructor(e,n){this.id=e,this.url=n}},As=class extends wn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tr=class extends wn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},cn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(cn||{}),dh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dh||{}),Ur=class extends wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ei=class extends wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationSkipped}},yc=class extends wn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hh=class extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class extends wn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ny=class extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oy=class extends wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ky=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fy=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vy=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ly=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jy=class{constructor(e){this.snapshot=e,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uy=class{constructor(e){this.snapshot=e,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ht.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},vc=class{},Ms=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function FL(t,e){return t.providers&&!t._injector&&(t._injector=Md(t.providers,e,`Route: ${t.path}`)),t._injector??e}function On(t){return t.outlet||ce}function VL(t,e){let n=t.filter(r=>On(r)===e);return n.push(...t.filter(r=>On(r)!==e)),n}function Tc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var By=class{get injector(){return Tc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Sc(this.rootInjector),this.attachRef=null}},Sc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new By(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(L(Ft))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ph=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$y(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$y(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zy(e,this._root).map(n=>n.value)}};function $y(t,e){if(t===e.value)return e;for(let n of e.children){let r=$y(t,n);if(r)return r}return null}function zy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zy(t,n);if(r.length)return r.unshift(e),r}return[]}var an=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Es(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gh=class extends ph{constructor(e,n){super(e),this.snapshot=n,Jy(this,e)}toString(){return this.snapshot.toString()}};function GT(t){let e=LL(t),n=new tt([new co("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new nr(n,r,o,s,i,ce,t,e.root);return a.snapshot=e.root,new gh(new an(a,[]),e)}function LL(t){let e={},n={},r={},i="",o=new Cs([],e,r,i,n,ce,t,null,{});return new yh("",new an(o,[]))}var nr=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[Cc]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&KT(i)&&(r.resolve[Cc]=i.title),r}var Cs=class{get title(){return this.data?.[Cc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yh=class extends ph{constructor(e,n){super(n),this.url=e,Jy(this,n)}toString(){return WT(this._root)}};function Jy(t,e){e.value._routerState=t,e.children.forEach(n=>Jy(t,n))}function WT(t){let e=t.children.length>0?` { ${t.children.map(WT).join(", ")} } `:"";return`${t.value}${e}`}function Cy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),er(e.params,n.params)||t.paramsSubject.next(n.params),dL(e.url,n.url)||t.urlSubject.next(n.url),er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hy(t,e){let n=er(t.params,e.params)&&gL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Hy(t.parent,e.parent))}function KT(t){return typeof t.title=="string"||t.title===null}var Xy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=R(Sc),this.location=R(ps),this.changeDetector=R(oo),this.inputBinder=R(Ih,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new qy(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gn]})}}return t})(),qy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nr?this.route:e===Sc?this.childContexts:this.parent.get(e,n)}},Ih=new B(""),TT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Fa([r.queryParams,r.params,r.data]).pipe(Ue(([o,s,a],u)=>(a=U(U(U({},o),s),a),u===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=wb(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function jL(t,e,n){let r=_c(t,e._root,n?n._root:void 0);return new gh(r,e)}function _c(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=UL(t,e,n);return new an(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>_c(t,a)),s}}let r=BL(e.value),i=e.children.map(o=>_c(t,o));return new an(r,i)}}function UL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _c(t,r,i);return _c(t,r)})}function BL(t){return new nr(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var wc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},QT="ngNavigationCancelingError";function vh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YT(!1,cn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function YT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[QT]=!0,n.cancellationCode=e,n}function $L(t){return ZT(t)&&lo(t.url)}function ZT(t){return!!t&&t[QT]}var zL=(t,e,n,r)=>J(i=>(new Gy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Es(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Es(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Uy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ly(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Cy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_h=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{constructor(e,n){this.component=e,this.route=n}};function HL(t,e,n){let r=t._root,i=e?e._root:null;return dc(r,i,n,[r.value])}function qL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!k0(t)?t:e.get(t):r}function dc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Es(e);return t.children.forEach(s=>{GL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gc(a,n.getContext(s),i)),i}function GL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=WL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _h(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?dc(t,e,a?a.children:null,r,i):dc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bs(a.outlet.component,s))}else s&&gc(e,a,i),i.canActivateChecks.push(new _h(r)),o.component?dc(t,null,a?a.children:null,r,i):dc(t,null,n,r,i);return i}function WL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!uo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hy(t,e)||!er(t.queryParams,e.queryParams);case"paramsChange":default:return!Hy(t,e)}}function gc(t,e,n){let r=Es(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gc(s,e.children.getContext(o),n):gc(s,null,n):gc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bs(e.outlet.component,i)):n.canDeactivateChecks.push(new bs(null,i)):n.canDeactivateChecks.push(new bs(null,i))}function Ac(t){return typeof t=="function"}function KL(t){return typeof t=="boolean"}function QL(t){return t&&Ac(t.canLoad)}function YL(t){return t&&Ac(t.canActivate)}function ZL(t){return t&&Ac(t.canActivateChild)}function JL(t){return t&&Ac(t.canDeactivate)}function XL(t){return t&&Ac(t.canMatch)}function JT(t){return t instanceof wr||t?.name==="EmptyError"}var oh=Symbol("INITIAL_VALUE");function xs(){return Ue(t=>Fa(t.map(e=>e.pipe(Er(1),_l(oh)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===oh)return oh;if(n===!1||e2(n))return n}return!0}),mt(e=>e!==oh),Er(1)))}function e2(t){return lo(t)||t instanceof wc}function t2(t,e){return nt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(fe(U({},n),{guardsResult:!0})):n2(s,r,i,t).pipe(nt(a=>a&&KL(a)?r2(r,o,t,e):Z(a)),J(a=>fe(U({},n),{guardsResult:a})))})}function n2(t,e,n,r){return De(t).pipe(nt(i=>c2(i.component,i.route,n,e,r)),Zt(i=>i!==!0,!0))}function r2(t,e,n,r){return De(e).pipe(Ir(i=>qo(o2(i.route.parent,r),i2(i.route,r),a2(t,i.path,n),s2(t,i.route,n))),Zt(i=>i!==!0,!0))}function i2(t,e){return t!==null&&e&&e(new jy(t)),Z(!0)}function o2(t,e){return t!==null&&e&&e(new Vy(t)),Z(!0)}function s2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>gl(()=>{let s=Tc(e)??n,a=Rs(o,s),u=YL(a)?a.canActivate(e,t):mn(s,()=>a(e,t));return Di(u).pipe(Zt())}));return Z(i).pipe(xs())}function a2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qL(s)).filter(s=>s!==null).map(s=>gl(()=>{let a=s.guards.map(u=>{let l=Tc(s.node)??n,h=Rs(u,l),p=ZL(h)?h.canActivateChild(r,t):mn(l,()=>h(r,t));return Di(p).pipe(Zt())});return Z(a).pipe(xs())}));return Z(o).pipe(xs())}function c2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Tc(e)??i,l=Rs(a,u),h=JL(l)?l.canDeactivate(t,e,n,r):mn(u,()=>l(t,e,n,r));return Di(h).pipe(Zt())});return Z(s).pipe(xs())}function u2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Rs(s,t),u=QL(a)?a.canLoad(e,n):mn(t,()=>a(e,n));return Di(u)});return Z(o).pipe(xs(),XT(r))}function XT(t){return Qu(Xe(e=>{if(typeof e!="boolean")throw vh(t,e)}),J(e=>e===!0))}function l2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Rs(s,t),u=XL(a)?a.canMatch(e,n):mn(t,()=>a(e,n));return Di(u)});return Z(o).pipe(xs(),XT(r))}var Ic=class{constructor(e){this.segmentGroup=e||null}},Ec=class extends Error{constructor(e){super(),this.urlTree=e}};function Is(t){return Ho(new Ic(t))}function d2(t){return Ho(new Q(4e3,!1))}function h2(t){return Ho(YT(!1,cn.GuardRejected))}var Wy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ce])return d2(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:A}=i,S=mn(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:A}));if(S instanceof Br)throw new Ec(S);n=S}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ec(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Br(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ky={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function f2(t,e,n,r,i){let o=eS(t,e,n);return o.matched?(r=FL(e,r),l2(r,e,n,i).pipe(J(s=>s===!0?o:U({},Ky)))):Z(o)}function eS(t,e,n){if(e.path==="**")return p2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Ky):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lL)(n,t,e);if(!i)return U({},Ky);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function p2(t){return{matched:!0,parameters:t.length>0?NT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ST(t,e,n,r){return n.length>0&&y2(t,n,r)?{segmentGroup:new Me(e,m2(r,new Me(n,t.children))),slicedSegments:[]}:n.length===0&&v2(t,n,r)?{segmentGroup:new Me(t.segments,g2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Me(t.segments,t.children),slicedSegments:n}}function g2(t,e,n,r){let i={};for(let o of n)if(Eh(t,e,o)&&!r[On(o)]){let s=new Me([],{});i[On(o)]=s}return U(U({},r),i)}function m2(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&On(r)!==ce){let i=new Me([],{});n[On(r)]=i}return n}function y2(t,e,n){return n.some(r=>Eh(t,e,r)&&On(r)!==ce)}function v2(t,e,n){return n.some(r=>Eh(t,e,r))}function Eh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _2(t,e,n){return e.length===0&&!t.children[n]}var Qy=class{};function w2(t,e,n,r,i,o,s="emptyOnly"){return new Yy(t,e,n,r,i,s,o).recognize()}var I2=31,Yy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=ST(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:n,rootSnapshot:r})=>{let i=new an(r,n),o=new yh("",i),s=ML(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Cs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(J(r=>({children:r,rootSnapshot:n})),ni(r=>{if(r instanceof Ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ic?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(J(s=>s instanceof an?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return De(o).pipe(Ir(s=>{let a=r.children[s],u=VL(n,s);return this.processSegmentGroup(e,u,a,s,i)}),yl((s,a)=>(s.push(...a),s)),ri(null),Gp(),nt(s=>{if(s===null)return Is(r);let a=tS(s);return E2(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return De(n).pipe(Ir(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(ni(l=>{if(l instanceof Ic)return Z(null);throw l}))),Zt(u=>!!u),ni(u=>{if(JT(u))return _2(r,i,o)?Z(new Qy):Is(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return On(r)!==s&&(s===ce||!Eh(i,o,r))?Is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=eS(n,i,o);if(!u)return Is(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>I2&&(this.allowRedirects=!1));let y=new Cs(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,AT(i),On(i),i.component??i._loadedComponent??null,i,MT(i)),C=mh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(nt(S=>this.processSegment(e,r,n,S.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=f2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ue(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ue(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Cs(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,AT(r),On(r),r.component??r._loadedComponent??null,r,MT(r)),A=mh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(A.params),C.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:O}=ST(n,m,y,l);if(O.length===0&&S.hasChildren())return this.processChildren(h,l,S,C).pipe(J(k=>new an(C,k)));if(l.length===0&&O.length===0)return Z(new an(C,[]));let H=On(r)===o;return this.processSegment(h,l,S,O,H?ce:o,!0,C).pipe(J(k=>new an(C,k instanceof an?[k]:[])))}))):Is(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):u2(e,n,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):h2(n))):Z({routes:[],injector:e})}};function E2(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function D2(t){let e=t.value.routeConfig;return e&&e.path===""}function tS(t){let e=[],n=new Set;for(let r of t){if(!D2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tS(r.children);e.push(new an(r.value,i))}return e.filter(r=>!n.has(r))}function AT(t){return t.data||{}}function MT(t){return t.resolve||{}}function C2(t,e,n,r,i,o){return nt(s=>w2(t,e,n,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:u})=>fe(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function b2(t,e){return nt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of nS(u))s.add(l);let a=0;return De(s).pipe(Ir(u=>o.has(u)?T2(u,r,t,e):(u.data=mh(u,u.parent,t).resolve,Z(void 0))),Xe(()=>a++),Go(1),nt(u=>a===s.size?Z(n):Nt))})}function nS(t){let e=t.children.map(n=>nS(n)).flat();return[t,...e]}function T2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!KT(i)&&(o[Cc]=i.title),S2(o,t,e,r).pipe(J(s=>(t._resolvedData=s,t.data=mh(t,t.parent,n).resolve,null)))}function S2(t,e,n,r){let i=Sy(t);if(i.length===0)return Z({});let o={};return De(i).pipe(nt(s=>A2(t[s],e,n,r).pipe(Zt(),Xe(a=>{if(a instanceof wc)throw vh(new Ss,a);o[s]=a}))),Go(1),qp(o),ni(s=>JT(s)?Nt:Ho(s)))}function A2(t,e,n,r){let i=Tc(e)??r,o=Rs(t,i),s=o.resolve?o.resolve(e,n):mn(i,()=>o(e,n));return Di(s)}function by(t){return Ue(e=>{let n=t(e);return n?De(n).pipe(J(()=>e)):Z(e)})}var rS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[Cc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>R(M2),providedIn:"root"})}}return t})(),M2=(()=>{class t extends rS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(L(wT))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mc=new B("",{providedIn:"root",factory:()=>({})}),x2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=rt({type:t,selectors:[["ng-component"]],standalone:!0,features:[it],decls:1,vars:0,template:function(r,i){r&1&&pe(0,"router-outlet")},dependencies:[Xy],encapsulation:2})}}return t})();function ev(t){let e=t.children&&t.children.map(ev),n=e?fe(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=x2),n}var Dc=new B(""),tv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Ld)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Di(n.loadComponent()).pipe(J(iS),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ii(()=>{this.componentLoaders.delete(n)})),i=new Uo(r,()=>new je).pipe(jo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=R2(r,this.compiler,n,this.onLoadEndListener).pipe(ii(()=>{this.childrenLoaders.delete(r)})),s=new Uo(o,()=>new je).pipe(jo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function R2(t,e,n,r){return Di(t.loadChildren()).pipe(J(iS),nt(i=>i instanceof qa||Array.isArray(i)?Z(i):De(e.compileModuleAsync(i))),J(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Dc,[],{optional:!0,self:!0}).flat()),{routes:s.map(ev),injector:o}}))}function P2(t){return t&&typeof t=="object"&&"default"in t}function iS(t){return P2(t)?t.default:t}var nv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>R(N2),providedIn:"root"})}}return t})(),N2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oS=new B(""),sS=new B("");function O2(t,e,n){let r=t.get(sS),i=t.get(yt);return t.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),k2(t))),{onViewTransitionCreated:u}=r;return u&&mn(t,()=>u({transition:a,from:e,to:n})),s})}function k2(t){return new Promise(e=>{Bm({read:()=>setTimeout(e)},{injector:t})})}var F2=new B(""),rv=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=R(tv),this.environmentInjector=R(Ft),this.urlSerializer=R(bc),this.rootContexts=R(Sc),this.location=R(_s),this.inputBindingEnabled=R(Ih,{optional:!0})!==null,this.titleStrategy=R(rS),this.options=R(Mc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(nv),this.createViewTransition=R(oS,{optional:!0}),this.navigationErrorHandler=R(F2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new ky(i)),r=i=>this.events.next(new Fy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(fe(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),J(o=>fe(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{let s=!1,a=!1;return Z(o).pipe(Ue(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",cn.SupersededByNewNavigation),Nt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?fe(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ei(u.id,this.urlSerializer.serialize(u.rawUrl),p,dh.IgnoredSameUrlNavigation)),u.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(Ue(p=>{let m=this.transitions?.getValue();return this.events.next(new As(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Nt:Promise.resolve(p)}),C2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=fe(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new hh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:A}=u,S=new As(p,this.urlSerializer.serialize(m),y,C);this.events.next(S);let O=GT(this.rootComponentType).snapshot;return this.currentTransition=o=fe(U({},u),{targetSnapshot:O,urlAfterRedirects:m,extras:fe(U({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Z(o)}else{let p="";return this.events.next(new Ei(u.id,this.urlSerializer.serialize(u.extractedUrl),p,dh.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Nt}}),Xe(u=>{let l=new Ry(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),J(u=>(this.currentTransition=o=fe(U({},u),{guards:HL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),t2(this.environmentInjector,u=>this.events.next(u)),Xe(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw vh(this.urlSerializer,u.guardsResult);let l=new Py(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",cn.GuardRejected),!1)),by(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(Xe(l=>{let h=new Ny(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ue(l=>{let h=!1;return Z(l).pipe(b2(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",cn.NoDataFromResolver)}}))}),Xe(l=>{let h=new Oy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),by(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Xe(m=>{h.component=m}),J(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Fa(l(u.targetSnapshot.root)).pipe(ri(null),Er(1))}),by(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?De(h).pipe(J(()=>o)):Z(o)}),J(u=>{let l=jL(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=fe(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Xe(()=>{this.events.next(new vc)}),zL(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Er(1),Xe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Kp(this.transitionAbortSubject.pipe(Xe(u=>{throw u}))),ii(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",cn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ni(u=>{if(a=!0,ZT(u))this.events.next(new Ur(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),$L(u)?this.events.next(new Ms(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new yc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof wc){let{message:p,cancellationCode:m}=vh(this.urlSerializer,h);this.events.next(new Ur(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new Ms(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Nt}))}))}cancelNavigationTransition(n,r,i){let o=new Ur(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function V2(t){return t!==pc}var L2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>R(j2),providedIn:"root"})}}return t})(),Zy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},j2=(()=>{class t extends Zy{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>R(U2),providedIn:"root"})}}return t})(),U2=(()=>{class t extends aS{constructor(){super(...arguments),this.location=R(_s),this.urlSerializer=R(bc),this.options=R(Mc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(nv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof As)this.stateMemento=this.createStateMemento();else if(n instanceof Ei)this.rawUrlTree=r.initialUrl;else if(n instanceof hh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof vc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Ur&&(n.code===cn.GuardRejected||n.code===cn.NoDataFromResolver)?this.restoreHistory(r):n instanceof yc?this.restoreHistory(r,!0):n instanceof tr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Br?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(hc||{});function cS(t,e){t.events.pipe(mt(n=>n instanceof tr||n instanceof Ur||n instanceof yc||n instanceof Ei),J(n=>n instanceof tr||n instanceof Ei?hc.COMPLETE:(n instanceof Ur?n.code===cn.Redirect||n.code===cn.SupersededByNewNavigation:!1)?hc.REDIRECTING:hc.FAILED),mt(n=>n!==hc.REDIRECTING),Er(1)).subscribe(()=>{e()})}function B2(t){throw t}var $2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ge=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=R(kd),this.stateManager=R(aS),this.options=R(Mc,{optional:!0})||{},this.pendingTasks=R(Sr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(rv),this.urlSerializer=R(bc),this.location=R(_s),this.urlHandlingStrategy=R(nv),this._events=new je,this.errorHandler=this.options.errorHandler||B2,this.navigated=!1,this.routeReuseStrategy=R(L2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(Dc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(Ih,{optional:!0}),this.eventsSubscription=new Qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ur&&r.code!==cn.Redirect&&r.code!==cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tr)this.navigated=!0;else if(r instanceof Ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||V2(i.source)},s);this.scheduleNavigation(a,pc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}q2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ev),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=$T(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return zT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=lo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pc,null,r)}navigate(n,r={skipLocationChange:!1}){return H2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},$2):r===!1?i=U({},z2):i=r,lo(n))return ET(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ET(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return cS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function H2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function q2(t){return!(t instanceof vc)&&!(t instanceof Ms)}var Ci=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof tr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(lo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:aC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:lo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(z(Ge),z(nr),vm("tabindex"),z(mi),z(Ar),z(jr))}}static{this.\u0275dir=Ye({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ce("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ms("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Nr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Nr],replaceUrl:[2,"replaceUrl","replaceUrl",Nr],routerLink:"routerLink"},standalone:!0,features:[Um,Gn]})}}return t})();var wh=class{};var G2=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mt(n=>n instanceof tr),Ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Md(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return De(i).pipe(ti())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Z(null);let o=i.pipe(nt(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return De([o,s]).pipe(ti())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(L(Ge),L(Ld),L(Ft),L(wh),L(tv))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uS=new B(""),W2=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof As?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof tr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ei&&n.code===dh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){EC()}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function lS(t,...e){return gn([{provide:Dc,multi:!0,useValue:t},[],{provide:nr,useFactory:dS,deps:[Ge]},{provide:io,multi:!0,useFactory:hS},e.map(n=>n.\u0275providers)])}function dS(t){return t.routerState.root}function xc(t,e){return{\u0275kind:t,\u0275providers:e}}function hS(){let t=R(Ct);return e=>{let n=t.get(Yn);if(e!==n.components[0])return;let r=t.get(Ge),i=t.get(fS);t.get(iv)===1&&r.initialNavigation(),t.get(pS,null,le.Optional)?.setUpPreloading(),t.get(uS,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fS=new B("",{factory:()=>new je}),iv=new B("",{providedIn:"root",factory:()=>1});function K2(){return xc(2,[{provide:iv,useValue:0},{provide:Fd,multi:!0,deps:[Ct],useFactory:e=>{let n=e.get(Rb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ge),o=e.get(fS);cS(i,()=>{r(!0)}),e.get(rv).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function Q2(){return xc(3,[{provide:Fd,multi:!0,useFactory:()=>{let e=R(Ge);return()=>{e.setUpLocationChangeListener()}}},{provide:iv,useValue:2}])}var pS=new B("");function Y2(t){return xc(0,[{provide:pS,useExisting:G2},{provide:wh,useExisting:t}])}function Z2(){return xc(8,[TT,{provide:Ih,useExisting:TT}])}function J2(t){let e=[{provide:oS,useValue:O2},{provide:sS,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return xc(9,e)}var xT=new B("ROUTER_FORROOT_GUARD"),X2=[_s,{provide:bc,useClass:Ss},Ge,Sc,{provide:nr,useFactory:dS,deps:[Ge]},tv,[]],rr=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[X2,[],{provide:Dc,multi:!0,useValue:n},{provide:xT,useFactory:rj,deps:[[Ge,new Ht,new rm]]},{provide:Mc,useValue:r||{}},r?.useHash?tj():nj(),ej(),r?.preloadingStrategy?Y2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ij(r):[],r?.bindToComponentInputs?Z2().\u0275providers:[],r?.enableViewTransitions?J2().\u0275providers:[],oj()]}}static forChild(n){return{ngModule:t,providers:[{provide:Dc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(L(xT,8))}}static{this.\u0275mod=Lt({type:t})}static{this.\u0275inj=Vt({})}}return t})();function ej(){return{provide:uS,useFactory:()=>{let t=R($b),e=R(ve),n=R(Mc),r=R(rv),i=R(bc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new W2(i,r,t,e,n)}}}function tj(){return{provide:jr,useClass:Nb}}function nj(){return{provide:jr,useClass:iy}}function rj(t){return"guarded"}function ij(t){return[t.initialNavigation==="disabled"?Q2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?K2().\u0275providers:[]]}var RT=new B("");function oj(){return[{provide:RT,useFactory:hS},{provide:io,multi:!0,useExisting:RT}]}var sj="firebase",aj="10.14.1";Pt(sj,aj,"app");var kn=new Tr("ANGULARFIRE2_VERSION");function sv(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Rc=(t,e)=>{let n=e?[e]:Lu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},bi=class{constructor(){return Rc(cj)}},cj="app-check";function Ps(){}var Dh=class{zone;delegate;constructor(e,n=Up){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ov=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),n.pipe(Xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Dh(Zone.current)),this.insideAngular=n.run(()=>new Dh(Zone.current,jp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ch(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function uj(t){return Ch().ngZone.runOutsideAngular(()=>t())}function ho(t){return Ch().ngZone.run(()=>t())}function av(t){return lj(Ch())(t)}function lj(t){return function(n){return n=n.lift(new ov(t.ngZone)),n.pipe(hn(t.outsideAngular),Yt(t.insideAngular))}}var dj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ho(()=>t.apply(void 0,r))},In=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps))),r[o]=dj(r[o],n));let i=uj(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=Ch();return i.pipe(hn(o.outsideAngular),Yt(o.insideAngular))}else return ho(()=>i);return i instanceof se?i.pipe(av):i instanceof Promise?ho(()=>new Promise((o,s)=>i.then(a=>ho(()=>o(a)),a=>ho(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ho(()=>i)};var fj="firebase",pj="10.14.1";Cn.registerVersion(fj,pj,"app-compat");var gj=["ngOnDestroy"],mS=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(gj.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let u=a?.[o];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var bh=class{constructor(e){return e}},Th=new B("angularfire2.app.options"),Sh=new B("angularfire2.app.name");function cv(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Cn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Cn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;mj("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new bh(s)}var mj=(t,...e)=>{Hm()&&typeof console<"u"&&console[t](...e)},yj={provide:bh,useFactory:cv,deps:[Th,ve,[new Ht,Sh]]},yS=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Th,useValue:n},{provide:Sh,useValue:r}]}}constructor(n){Cn.registerVersion("angularfire",kn.full,"core"),Cn.registerVersion("angularfire",kn.full,"app-compat"),Cn.registerVersion("angular",Od.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(dt))};static \u0275mod=Lt({type:t});static \u0275inj=Vt({providers:[yj]})}return t})();function vS(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return vj(i,s)||(gS("error",`${e} was already initialized on the ${n} Firebase App with different settings.${_j?" You may need to reload as Firebase is not HMR aware.":""}`),gS("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function vj(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var _j=typeof module<"u"&&!!module.hot,gS=(t,...e)=>{Hm()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var zr=class{constructor(e){return e}},Pc=class{constructor(){return Lu()}};function wj(t){return t&&t.length===1?t[0]:new zr(xa())}var uv=new B("angularfire2._apps"),Ij={provide:zr,useFactory:wj,deps:[[new Ht,uv]]},Ej={provide:Pc,deps:[[new Ht,uv]]};function Dj(t){return(e,n)=>{let r=n.get(dt);Pt("angularfire",kn.full,"core"),Pt("angularfire",kn.full,"app"),Pt("angular",Od.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new zr(i)}}function lv(t,...e){return gn([Ij,Ej,{provide:uv,useFactory:Dj(t),multi:!0,deps:[ve,Ct,fo,...e]}])}var Cj=new Map,bj={activated:!1,tokenObservers:[]},Tj={initialized:!1,enabled:!1};function Fn(t){return Cj.get(t)||Object.assign({},bj)}function DS(){return Tj}var Sj="https://content-firebaseappcheck.googleapis.com/v1";var Aj="exchangeDebugToken",_S={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},eW=24*60*60*1e3;var hv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return V(this,null,function*(){this.stop();try{this.pending=new Ip,this.pending.promise.catch(n=>{}),yield Mj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ip,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Mj(t){return new Promise(e=>{setTimeout(e,t)})}var xj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ti=new cE("appCheck","AppCheck",xj);function CS(t){if(!Fn(t).activated)throw Ti.create("use-before-activation",{appName:t.name})}function bS(r,i){return V(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Ti.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Ti.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Ti.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function TS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Sj}/projects/${n}/apps/${r}:${Aj}?key=${i}`,body:{debug_token:e}}}var Rj="firebase-app-check-database",Pj=1,fv="firebase-app-check-store";var Ah=null;function Nj(){return Ah||(Ah=new Promise((t,e)=>{try{let n=indexedDB.open(Rj,Pj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fv,{keyPath:"compositeKey"})}}}catch(n){e(Ti.create("storage-open",{originalErrorMessage:n?.message}))}}),Ah)}function Oj(t,e){return kj(Fj(t),e)}function kj(t,e){return V(this,null,function*(){let r=(yield Nj()).transaction(fv,"readwrite"),o=r.objectStore(fv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ti.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Fj(t){return`${t.options.appId}-${t.name}`}var pv=new Fu("@firebase/app-check");function dv(t,e){return Ep()?Oj(t,e).catch(n=>{pv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SS(){return DS().enabled}function AS(){return V(this,null,function*(){let t=DS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Vj={error:"UNKNOWN_ERROR"};function Lj(t){return nE.encodeString(JSON.stringify(t),!1)}function gv(t,e=!1){return V(this,null,function*(){let n=t.app;CS(n);let r=Fn(n),i=r.token,o;if(i&&!Nc(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Nc(u)?i=u:yield dv(n,void 0))}if(!e&&i&&Nc(i))return{token:i.token};let s=!1;if(SS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bS(TS(n,yield AS()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield dv(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Fn(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?pv.warn(u.message):pv.error(u),o=u}let a;return i?o?Nc(i)?a={token:i.token,internalError:o}:a=IS(o):(a={token:i.token},r.token=i,yield dv(n,i)):a=IS(o),s&&$j(n,a),a})}function jj(t){return V(this,null,function*(){let e=t.app;CS(e);let{provider:n}=Fn(e);if(SS()){let r=yield AS(),{token:i}=yield bS(TS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Uj(t,e,n,r){let{app:i}=t,o=Fn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Nc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),wS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wS(t))}function MS(t,e){let n=Fn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wS(t){let{app:e}=t,n=Fn(e),r=n.tokenRefresher;r||(r=Bj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Bj(t){let{app:e}=t;return new hv(()=>V(this,null,function*(){let n=Fn(e),r;if(n.token?r=yield gv(t,!0):r=yield gv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Fn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_S.RETRIAL_MIN_WAIT,_S.RETRIAL_MAX_WAIT)}function $j(t,e){let n=Fn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Nc(t){return t.expireTimeMillis-Date.now()>0}function IS(t){return{token:Lj(Vj),error:t}}var mv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Fn(this.app);for(let n of e)MS(this.app,n.next);return Promise.resolve()}};function zj(t,e){return new mv(t,e)}function Hj(t){return{getToken:e=>gv(t,e),getLimitedUseToken:()=>jj(t),addTokenListener:e=>Uj(t,"INTERNAL",e),removeTokenListener:e=>MS(t.app,e)}}var qj="@firebase/app-check",Gj="0.8.8";var Wj="app-check",ES="app-check-internal";function Kj(){Ma(new Aa(Wj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return zj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ES).initialize()})),Ma(new Aa(ES,t=>{let e=t.getProvider("app-check").getImmediate();return Hj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pt(qj,Gj)}Kj();var Qj=["localhost","0.0.0.0","127.0.0.1"],hW=typeof window<"u"&&Qj.includes(window.location.hostname);var Zj=new B("angularfire2.auth.use-emulator"),Jj=new B("angularfire2.auth.settings"),Xj=new B("angularfire2.auth.tenant-id"),eU=new B("angularfire2.auth.langugage-code"),tU=new B("angularfire2.auth.use-device-language"),nU=new B("angularfire.auth.persistence"),rU=(t,e,n,r,i,o,s,a)=>vS(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))u.settings[l]=h;return a&&u.setPersistence(a),u},[n,r,i,o,s,a]),Oc=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,u,l,h,p,m,y){let C=new je,A=Z(void 0).pipe(Yt(s.outsideAngular),Ue(()=>o.runOutsideAngular(()=>import("./chunk-KMN2Q2YP.js"))),J(()=>cv(n,o,r)),J(S=>rU(S,o,a,l,h,p,u,m)),vl({bufferSize:1,refCount:!1}));if(so(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Z(null);else{A.pipe(Zt()).subscribe();let S=A.pipe(Ue(k=>k.getRedirectResult().then(Y=>Y,()=>null)),av,vl({bufferSize:1,refCount:!1})),O=A.pipe(Ue(k=>new se(Y=>({unsubscribe:o.runOutsideAngular(()=>k.onAuthStateChanged(ue=>Y.next(ue),ue=>Y.error(ue),()=>Y.complete()))})))),H=A.pipe(Ue(k=>new se(Y=>({unsubscribe:o.runOutsideAngular(()=>k.onIdTokenChanged(ue=>Y.next(ue),ue=>Y.error(ue),()=>Y.complete()))}))));this.authState=S.pipe(wl(O),hn(s.outsideAngular),Yt(s.insideAngular)),this.user=S.pipe(wl(H),hn(s.outsideAngular),Yt(s.insideAngular)),this.idToken=this.user.pipe(Ue(k=>k?De(k.getIdToken()):Z(null))),this.idTokenResult=this.user.pipe(Ue(k=>k?De(k.getIdTokenResult()):Z(null))),this.credential=Hp(S,C,this.authState.pipe(mt(k=>!k))).pipe(J(k=>k?.user?k:null),hn(s.outsideAngular),Yt(s.insideAngular))}return mS(this,A,o,{spy:{apply:(S,O,H)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&H.then(k=>C.next(k))}}})}static \u0275fac=function(r){return new(r||t)(L(Th),L(Sh,8),L(dt),L(ve),L(fo),L(Zj,8),L(Jj,8),L(Xj,8),L(eU,8),L(tU,8),L(nU,8),L(bi,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),xS=(()=>{class t{constructor(){Cn.registerVersion("angularfire",kn.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Lt({type:t});static \u0275inj=Vt({providers:[Oc]})}return t})();var ir=class t{constructor(e){this.http=e}getProducts(){return this.http.get("https://dummyjson.com/products")}getProductCategory(){return this.http.get("https://dummyjson.com/products/category-list")}getProductByCategory(e){return console.log("selected category",e),this.http.get(`https://dummyjson.com/products/category/${e}`)}getProductBykey(e){return this.http.get(`https://dummyjson.com/products/search?q=${e}`)}getProductDetailsById(e){return this.http.get(`https://dummyjson.com/products/${e}`)}static \u0275fac=function(n){return new(n||t)(L(dy))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var oU=t=>["/produits",t];function sU(t,e){if(t&1&&(P(0,"span",10),G(1),N()),t&2){let n=et();q(),Ze(" ",n.getState()," ")}}function aU(t,e){if(t&1&&(P(0,"span",11),G(1),N()),t&2){let n=et();q(),Tt(n.getState())}}var xh=class t{constructor(e,n){this.productService=e;this.router=n}produit;selectedProduct=new Se;selectedDetailsProduct=new Se;addToPanier(){this.selectedProduct.emit(this.produit)}getState(){return this.produit.stock>0?"En stock":"En rupture de stock"}getColor(){return this.produit.stock>0?"green":"red"}static \u0275fac=function(n){return new(n||t)(z(ir),z(Ge))};static \u0275cmp=rt({type:t,selectors:[["app-product-item"]],inputs:{produit:"produit"},outputs:{selectedProduct:"selectedProduct",selectedDetailsProduct:"selectedDetailsProduct"},standalone:!0,features:[it],decls:20,vars:10,consts:[["outOfStock",""],[1,"product","text-center"],[3,"routerLink"],["alt","palette",1,"img-fluid","mb-3",3,"src"],[1,"star"],[1,"fas","fa-star"],[1,"p-name"],[1,"p-price"],[1,"buy-btn","text-light",3,"click","disabled"],["style","color: green;",4,"ngIf","ngIfElse"],[2,"color","green"],[2,"color","red"]],template:function(n,r){if(n&1){let i=bt();P(0,"div",1)(1,"a",2),pe(2,"img",3),N(),P(3,"div",4),pe(4,"i",5)(5,"i",5)(6,"i",5)(7,"i",5)(8,"i",5),N(),P(9,"h5",6),G(10),N(),P(11,"h4",7),G(12),N(),P(13,"div")(14,"button",8),Ce("click",function(){return Oe(i),ke(r.addToPanier())}),G(15),N(),pe(16,"br"),ze(17,sU,2,1,"span",9)(18,aU,2,1,"ng-template",null,0,Nd),N()()}if(n&2){let i=yn(19);q(),ie("routerLink",Pd(8,oU,r.produit.id)),q(),ie("src",r.produit.thumbnail,Wn),q(8),Tt(r.produit.title),q(2),Ze(" $",r.produit.price,""),q(2),ie("disabled",r.getState()==="En rupture de stock"),q(),Ze(" ",r.getState()==="En stock"?"Buy Now":"Out of Stock"," "),q(2),ie("ngIf",r.getState()==="En stock")("ngIfElse",i)}},dependencies:[_n,rr,Ci],styles:[".product[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:2rem}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.3s all}.product[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.7;transition:.3s all}.buy-btn[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.526);padding:0 10px;background:#fb774b;transform:translateY(20px);opacity:0;transition:.3s all}.product[_ngcontent-%COMP%]:hover   .buy-btn[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}hr[_ngcontent-%COMP%]{width:80px;height:2px;background-color:#fb774b}.star[_ngcontent-%COMP%]{padding:10px 0}.star[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;color:#daa520}"]})};var jS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(z(mi),z(Ar))}}static{this.\u0275dir=Ye({type:t})}}return t})(),cU=(()=>{class t extends jS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ye({type:t,features:[nn]})}}return t})(),Ev=new B("");var uU={provide:Ev,useExisting:Rn(()=>or),multi:!0};function lU(){let t=Lr()?Lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var dU=new B(""),or=(()=>{class t extends jS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(z(mi),z(Ar),z(dU,8))}}static{this.\u0275dir=Ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Rr([uU]),nn]})}}return t})();function Ai(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function US(t){return t!=null&&typeof t.length=="number"}var go=new B(""),Uh=new B(""),hU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bc=class{static min(e){return fU(e)}static max(e){return pU(e)}static required(e){return BS(e)}static requiredTrue(e){return gU(e)}static email(e){return $S(e)}static minLength(e){return zS(e)}static maxLength(e){return mU(e)}static pattern(e){return yU(e)}static nullValidator(e){return Ph(e)}static compose(e){return QS(e)}static composeAsync(e){return YS(e)}};function fU(t){return e=>{if(Ai(e.value)||Ai(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function pU(t){return e=>{if(Ai(e.value)||Ai(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function BS(t){return Ai(t.value)?{required:!0}:null}function gU(t){return t.value===!0?null:{required:!0}}function $S(t){return Ai(t.value)||hU.test(t.value)?null:{email:!0}}function zS(t){return e=>Ai(e.value)||!US(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function mU(t){return e=>US(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function yU(t){if(!t)return Ph;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ai(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ph(t){return null}function HS(t){return t!=null}function qS(t){return ro(t)?De(t):t}function GS(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function WS(t,e){return e.map(n=>n(t))}function vU(t){return!t.validate}function KS(t){return t.map(e=>vU(e)?e:n=>e.validate(n))}function QS(t){if(!t)return null;let e=t.filter(HS);return e.length==0?null:function(n){return GS(WS(n,e))}}function Dv(t){return t!=null?QS(KS(t)):null}function YS(t){if(!t)return null;let e=t.filter(HS);return e.length==0?null:function(n){let r=WS(n,e).map(qS);return zp(r).pipe(J(GS))}}function Cv(t){return t!=null?YS(KS(t)):null}function RS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ZS(t){return t._rawValidators}function JS(t){return t._rawAsyncValidators}function yv(t){return t?Array.isArray(t)?t:[t]:[]}function Nh(t,e){return Array.isArray(t)?t.includes(e):t===e}function PS(t,e){let n=yv(e);return yv(t).forEach(i=>{Nh(n,i)||n.push(i)}),n}function NS(t,e){return yv(e).filter(n=>!Nh(t,n))}var Oh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Hr=class extends Oh{get formDirective(){return null}get path(){return null}},po=class extends Oh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_U={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},JW=fe(U({},_U),{"[class.ng-submitted]":"isSubmitted"}),xi=(()=>{class t extends kh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(z(po,2))}}static{this.\u0275dir=Ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[nn]})}}return t})(),Vs=(()=>{class t extends kh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(z(Hr,10))}}static{this.\u0275dir=Ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Rd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[nn]})}}return t})();var kc="VALID",Rh="INVALID",Ns="PENDING",Fc="DISABLED",Mi=class{},Fh=class extends Mi{constructor(e,n){super(),this.value=e,this.source=n}},Lc=class extends Mi{constructor(e,n){super(),this.pristine=e,this.source=n}},jc=class extends Mi{constructor(e,n){super(),this.touched=e,this.source=n}},Os=class extends Mi{constructor(e,n){super(),this.status=e,this.source=n}},vv=class extends Mi{constructor(e){super(),this.source=e}},_v=class extends Mi{constructor(e){super(),this.source=e}};function bv(t){return(Bh(t)?t.validators:t)||null}function wU(t){return Array.isArray(t)?Dv(t):t||null}function Tv(t,e){return(Bh(e)?e.asyncValidators:t)||null}function IU(t){return Array.isArray(t)?Cv(t):t||null}function Bh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function XS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function eA(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var ks=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ys(()=>this.statusReactive()),this.statusReactive=gs(void 0),this._pristine=ys(()=>this.pristineReactive()),this.pristineReactive=gs(!0),this._touched=ys(()=>this.touchedReactive()),this.touchedReactive=gs(!1),this._events=new je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Zn(this.statusReactive)}set status(e){Zn(()=>this.statusReactive.set(e))}get valid(){return this.status===kc}get invalid(){return this.status===Rh}get pending(){return this.status==Ns}get disabled(){return this.status===Fc}get enabled(){return this.status!==Fc}get pristine(){return Zn(this.pristineReactive)}set pristine(e){Zn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Zn(this.touchedReactive)}set touched(e){Zn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NS(e,this._rawAsyncValidators))}hasValidator(e){return Nh(this._rawValidators,e)}hasAsyncValidator(e){return Nh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new jc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new jc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Lc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Lc(!0,r))}markAsPending(e={}){this.status=Ns;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Os(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fc,this.errors=null,this._forEachChild(i=>{i.disable(fe(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fh(this.value,r)),this._events.next(new Os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=kc,this._forEachChild(r=>{r.enable(fe(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kc||this.status===Ns)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fh(this.value,n)),this._events.next(new Os(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fc:kc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ns,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=qS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Os(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?Fc:this.errors?Rh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ns)?Ns:this._anyControlsHaveStatus(Rh)?Rh:kc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Lc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new jc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IU(this._rawAsyncValidators)}},Fs=class extends ks{constructor(e,n,r){super(bv(n),Tv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){eA(this,!0,e),Object.keys(e).forEach(r=>{XS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wv=class extends Fs{};var $c=new B("CallSetDisabledState",{providedIn:"root",factory:()=>$h}),$h="always";function tA(t,e){return[...e.path,t]}function Vh(t,e,n=$h){Sv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),DU(t,e),bU(t,e),CU(t,e),EU(t,e)}function OS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function EU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Sv(t,e){let n=ZS(t);e.validator!==null?t.setValidators(RS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JS(t);e.asyncValidator!==null?t.setAsyncValidators(RS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Lh(e._rawValidators,i),Lh(e._rawAsyncValidators,i)}function jh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=ZS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=JS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Lh(e._rawValidators,r),Lh(e._rawAsyncValidators,r),n}function DU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&nA(t,e)})}function CU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&nA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function nA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rA(t,e){t==null,Sv(t,e)}function TU(t,e){return jh(t,e)}function iA(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function SU(t){return Object.getPrototypeOf(t.constructor)===cU}function oA(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function sA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===or?n=o:SU(o)?r=o:i=o}),i||r||n||null}function AU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var MU={provide:Hr,useExisting:Rn(()=>zc)},Vc=Promise.resolve(),zc=(()=>{class t extends Hr{get submitted(){return Zn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ys(()=>this.submittedReactive()),this.submittedReactive=gs(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new Fs({},Dv(n),Cv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Vc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Vh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Vc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Vc.then(()=>{let r=this._findContainer(n.path),i=new Fs({});rA(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Vc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Vc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),oA(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(z(go,10),z(Uh,10),z($c,8))}}static{this.\u0275dir=Ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rr([MU]),nn]})}}return t})();function kS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Uc=class extends ks{constructor(e=null,n,r){super(bv(n),Tv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(FS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xU=t=>t instanceof Uc;var RU={provide:po,useExisting:Rn(()=>mo)},VS=Promise.resolve(),mo=(()=>{class t extends po{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Uc,this._registered=!1,this.name="",this.update=new Se,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=sA(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),iA(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){VS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Nr(r);VS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?tA(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(z(Hr,9),z(go,10),z(Uh,10),z(Ev,10),z(oo,8),z($c,8))}}static{this.\u0275dir=Ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rr([RU]),nn,Gn]})}}return t})(),Ls=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var aA=new B("");var PU={provide:Hr,useExisting:Rn(()=>Av)},Av=(()=>{class t extends Hr{get submitted(){return Zn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ys(()=>this._submittedReactive()),this._submittedReactive=gs(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Vh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){OS(n.control||null,n,!1),AU(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),oA(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new vv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new _v(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(OS(r||null,n),xU(i)&&(Vh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);rA(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&TU(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sv(this.form,this),this._oldForm&&jh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(z(go,10),z(Uh,10),z($c,8))}}static{this.\u0275dir=Ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rr([PU]),nn,Gn]})}}return t})();var NU={provide:po,useExisting:Rn(()=>Mv)},Mv=(()=>{class t extends po{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=sA(this,o)}ngOnChanges(n){this._added||this._setUpControl(),iA(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return tA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(z(Hr,13),z(go,10),z(Uh,10),z(Ev,10),z(aA,8))}}static{this.\u0275dir=Ye({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Rr([NU]),nn,Gn]})}}return t})();function OU(t){return typeof t=="number"?t:parseInt(t,10)}var xv=(()=>{class t{constructor(){this._validator=Ph}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ph,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ye({type:t,features:[Gn]})}}return t})();var kU={provide:go,useExisting:Rn(()=>Hc),multi:!0};var Hc=(()=>{class t extends xv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Nr,this.createValidator=n=>BS}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ye({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ms("required",i._enabled?"":null)},inputs:{required:"required"},features:[Rr([kU]),nn]})}}return t})();var FU={provide:go,useExisting:Rn(()=>Rv),multi:!0},Rv=(()=>{class t extends xv{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Nr,this.createValidator=n=>$S}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ye({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Rr([FU]),nn]})}}return t})(),VU={provide:go,useExisting:Rn(()=>Pv),multi:!0},Pv=(()=>{class t extends xv{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>OU(n),this.createValidator=n=>zS(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ye({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ms("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Rr([VU]),nn]})}}return t})();var cA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lt({type:t})}static{this.\u0275inj=Vt({})}}return t})(),Iv=class extends ks{constructor(e,n,r){super(bv(n),Tv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){eA(this,!1,e),e.forEach((r,i)=>{XS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function LS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var uA=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return LS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Fs(i,o)}record(n,r=null){let i=this._reduceControls(n);return new wv(i,r)}control(n,r,i){let o={};return this.useNonNullable?(LS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Uc(n,fe(U({},o),{nonNullable:!0}))):new Uc(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Iv(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Uc)return n;if(n instanceof ks)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var js=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$c,useValue:n.callSetDisabledState??$h}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lt({type:t})}static{this.\u0275inj=Vt({imports:[cA]})}}return t})(),lA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:aA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:$c,useValue:n.callSetDisabledState??$h}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lt({type:t})}static{this.\u0275inj=Vt({imports:[cA]})}}return t})();var ft=class t{constructor(e,n){this.afAuth=e;this.router=n;if(typeof window<"u"&&window.sessionStorage){let r=sessionStorage.getItem("isLoggedIn")==="true";this.isLoggedInSubject=new tt(r),this.isLoggedIn$=this.isLoggedInSubject.asObservable()}}getToken;isLoggedInSubject=new tt(!1);isLoggedIn$=this.isLoggedInSubject.asObservable();saveLoginState(e){sessionStorage.setItem("isLoggedIn",JSON.stringify(e)),this.isLoggedInSubject.next(e)}SignUp(e,n,r){this.afAuth.createUserWithEmailAndPassword(e,r).then(i=>{i.user?.sendEmailVerification().then(()=>alert("Verification email sent. Please check your email."))}).catch(i=>{console.error("Error signing up:",i)})}login(e,n){this.afAuth.signInWithEmailAndPassword(e,n).then(()=>{this.saveLoginState(!0)}).catch(r=>{console.log("An error occurred during login:",r)})}logout(){this.afAuth.signOut().then(()=>{this.saveLoginState(!1)}).catch(e=>{console.log("An error occurred during logout:",e)})}getUsername(){return V(this,null,function*(){let e=yield this.afAuth.currentUser;return e?e.displayName:null})}getUserId(){return V(this,null,function*(){let e=yield this.afAuth.currentUser;return e?e.uid:null})}isAuthenticated(){return this.isLoggedInSubject.getValue()}static \u0275fac=function(n){return new(n||t)(L(Oc),L(Ge))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var LU=t=>({active:t}),jU=()=>["/orders"],UU=()=>["/panier"];function BU(t,e){if(t&1){let n=bt();P(0,"div",20)(1,"ul",21)(2,"li")(3,"a",22),Ce("click",function(){let i=Oe(n).$implicit,o=et();return ke(o.onCategoryClick(i))}),G(4),N()()()()}if(t&2){let n=e.$implicit;q(4),Tt(n)}}function $U(t,e){if(t&1){let n=bt();P(0,"button",23),Ce("click",function(){Oe(n);let i=et();return ke(i.signIn())}),G(1," Sign In "),N()}}function zU(t,e){if(t&1){let n=bt();P(0,"div",24)(1,"div",25)(2,"button",26),pe(3,"i",27),N(),P(4,"span",28),G(5),N(),P(6,"div",29)(7,"a",30),Ce("click",function(){Oe(n);let i=et();return ke(i.signOut())}),G(8,"Logout"),N()()()()}if(t&2){let n=et();q(5),Ze(" Bienvenue,",n.username," ")}}var Wt=class t{constructor(e,n,r){this.productService=e;this.authService=n;this.router=r}isSearchActive=!1;currentPanier=[];displayedPanier=new Se;categories=[];searchKey;searchedText=new Se;selectedCategory=new Se;isAuthenticated=!1;username=null;resetProducts=new Se;ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{this.isAuthenticated=e,e?this.authService.getUsername().then(n=>{this.username=n}):this.username=null}),this.productService.getProductCategory().subscribe(e=>{this.categories=e},e=>{console.error("Error fetching products",e)})}showPanier(){this.displayedPanier.emit(!0)}toggleSearch(){this.isSearchActive=!this.isSearchActive}onSearchByKey(){console.log(this.searchKey),this.searchedText.emit(this.searchKey)}onCategoryClick(e){this.selectedCategory.emit(e)}signIn(){this.router.navigate(["/auth"])}signOut(){this.authService.logout()}onHomeClick(){this.resetProducts.emit()}static \u0275fac=function(n){return new(n||t)(z(ir),z(ft),z(Ge))};static \u0275cmp=rt({type:t,selectors:[["app-navbar"]],outputs:{currentPanier:"currentPanier",displayedPanier:"displayedPanier",searchedText:"searchedText",selectedCategory:"selectedCategory",resetProducts:"resetProducts"},standalone:!0,features:[it],decls:28,vars:11,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["src","e-commerce.png","alt","logo",1,"navbar-logo","bg-body-tertiary"],[1,"logo-name"],[1,"dropdown","ml-5"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","custom-dropdown-btn",2,"font-family","Poppins"],[1,"mega","dropdown-menu","custom-dropdown-menu"],[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"search-container","ml-5"],["type","text","placeholder","search here...",1,"search-click",3,"ngModelChange","ngModel","ngClass"],[1,"panier","fa-sharp","fa-solid","fa-magnifying-glass",3,"click"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","",1,"nav-link",3,"click"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-cart-shopping",3,"routerLink"],["class","btn-signin","type","button",3,"click",4,"ngIf"],["class","user-menu",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"list-unstyled"],["href","#",1,"dropdown-item","category-item",3,"click"],["type","button",1,"btn-signin",3,"click"],[1,"user-menu"],[1,"dropdown"],["type","button",1,"dropdown-toggle"],[1,"fa-regular","fa-user"],[1,"welcome-text"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"]],template:function(n,r){n&1&&(P(0,"nav",0)(1,"div",1),pe(2,"img",2),P(3,"span",3),G(4," ShopIT\xA0\xA0\xA0 . "),N(),P(5,"div",4)(6,"button",5),G(7," Our categories "),N(),P(8,"div",6)(9,"div",1)(10,"div",7),ze(11,BU,5,1,"div",8),N()()()(),P(12,"div",9)(13,"input",10),Ce("ngModelChange",function(){return r.onSearchByKey()}),Qn("ngModelChange",function(o){return xr(r.searchKey,o)||(r.searchKey=o),o}),N(),P(14,"i",11),Ce("click",function(){return r.toggleSearch()}),N()(),P(15,"div",12)(16,"ul",13)(17,"li",14)(18,"a",15),Ce("click",function(){return r.onHomeClick()}),G(19,"Home"),N()(),P(20,"li",14)(21,"a",16),G(22,"My orders"),N()(),P(23,"li",14),G(24," My cart "),pe(25,"i",17),N()(),ze(26,$U,2,0,"button",18)(27,zU,9,1,"div",19),N()()()),n&2&&(q(11),ie("ngForOf",r.categories),q(2),Kn("ngModel",r.searchKey),ie("ngClass",Pd(7,LU,r.isSearchActive)),q(8),ie("routerLink",no(9,jU)),q(4),ie("routerLink",no(10,UU)),q(),ie("ngIf",!r.isAuthenticated),q(),ie("ngIf",r.isAuthenticated))},dependencies:[sn,jb,Jn,_n,js,or,xi,mo,rr,Ci],styles:['.navbar[_ngcontent-%COMP%]{font-size:16px}.navbar-logo[_ngcontent-%COMP%]{max-height:50px;max-width:40px}.logo-name[_ngcontent-%COMP%]{margin-left:20px;font-family:Poppins;font-weight:700}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:0 20px;color:#000;transition:.3s ease}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:active, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:coral}.navbar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;padding:0 7px;cursor:pointer;transition:.3 ease}#bar[_ngcontent-%COMP%]{font-size:1.5rem;padding:7px;cursor:pointer;transition:.3 ease;color:#000}#bar[_ngcontent-%COMP%]:hover, #bar[_ngcontent-%COMP%]:active{color:coral}@media only screen and (max-width: 991px){#navbarSupportedContent[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:nth-child(n) > a[_ngcontent-%COMP%]{padding:10px 0}}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;outline:none}.search-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.search-click[_ngcontent-%COMP%]{border:none;outline:none;background-size:22px;background-position:13px;border-radius:10px;width:200px;height:50px;padding:25px 10px;transition:all .5s}.search-click[_ngcontent-%COMP%]:focus{width:400px;padding-left:50px}.search-click[_ngcontent-%COMP%]:focus-visible{outline:none}.search-click[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:50px}.search-click[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:1px solid #ccc;outline:none;position:absolute;width:400px;height:50px;left:0%;padding:10px}.custom-dropdown-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;color:#000;font-size:16px;padding:0;transition:color .3s}.dropdown-menu[_ngcontent-%COMP%]{margin-top:0}.mega[_ngcontent-%COMP%]{position:absolute;width:850px;height:auto;top:auto;left:0;right:0;line-height:2em;background-color:#fff5f5dd;z-index:100;padding:20px;background-color:#f8f9fa;border:none}li[_ngcontent-%COMP%]{font-family:Poppins}.category-item[_ngcontent-%COMP%]{position:relative;text-decoration:none;cursor:pointer;transition:color .3s ease,border-color .3s ease}.category-item[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:2px;display:block;bottom:-5px;left:0;background:#000;transition:width .3s ease}.category-item[_ngcontent-%COMP%]:hover:after{width:100%}.category-item[_ngcontent-%COMP%]:focus{outline:none}.category-item[_ngcontent-%COMP%]:active{outline:none;background-color:transparent}.category-item[_ngcontent-%COMP%]:hover{color:#fb774b}.custom-dropdown-menu[_ngcontent-%COMP%]{margin-top:10px}.btn-light[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid #ccc;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color .3s ease,color .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#000}.btn-signin[_ngcontent-%COMP%]{background-color:#fb774b;color:#fff;border:none;padding:10px 20px;border-radius:25px;font-family:Poppins;font-size:14px;cursor:pointer;transition:background-color .3s ease}.btn-signin[_ngcontent-%COMP%]:hover{background-color:#e86b3a}.user-menu[_ngcontent-%COMP%]{display:inline-block;position:relative}.welcome-text[_ngcontent-%COMP%]{font-size:16px;font-family:Poppins}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;right:0;background-color:#fff;box-shadow:0 4px 8px #0003;z-index:1000}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-item[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer;color:#000;text-decoration:none}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}']})};var Us=class t{panier=[];totalprice=0;constructor(){if(typeof window<"u"&&window.sessionStorage){let e=sessionStorage.getItem("panier");e&&(this.panier=JSON.parse(e))}}savePanier(){sessionStorage.setItem("panier",JSON.stringify(this.panier))}ajouterAuPanier(e){let n=this.panier.find(r=>r.produit.id===e.produit.id);n?n.qte++:this.panier.push(e),this.savePanier()}getPanier(){return this.panier}updateTotalPrice(){return this.totalprice=0,this.panier.forEach(e=>this.totalprice+=e.produit.price*e.qte),console.log(this.totalprice),this.totalprice}viderPanier(){this.panier=[]}increaseQuantity(e){e.qte++,this.savePanier()}remove(e){let n=this.panier.find(r=>r.produit.id===e.produit.id);if(n){let r=this.panier.indexOf(n);r>-1&&this.panier.splice(r,1)}this.savePanier(),console.log(this.panier)}decreaseQuantity(e){e.qte>1?e.qte--:this.remove(e),this.savePanier()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function HU(t,e){t&1&&(P(0,"div",6)(1,"h3"),G(2,"Featured Products"),N(),pe(3,"hr",7),P(4,"p"),G(5,"Check out our new Products on ShopIT ."),N()())}function qU(t,e){if(t&1&&(P(0,"div",6)(1,"h3",8),G(2),N(),pe(3,"hr",7),P(4,"p"),G(5,"Check out our Products ."),N()()),t&2){let n=et();q(2),Ze(" ",n.categorySelected,"")}}function GU(t,e){if(t&1){let n=bt();P(0,"app-product-item",9),Ce("selectedProduct",function(i){Oe(n);let o=et();return ke(o.addItem(i))}),N()}if(t&2){let n=e.$implicit;ie("produit",n)}}var qc=class t{constructor(e,n){this.productService=e;this.panierService=n}detailsPanier=[];categoryIschosen=!1;categorySelected;products;ngOnInit(){this.productService.getProducts().subscribe(e=>{this.products=e.products},e=>{console.error("Error fetching products",e)}),this.productService.getProductCategory()}addItem(e){let n={produit:e,qte:1};this.panierService.ajouterAuPanier(n),console.log("Produit ajout\xE9 au panier:",this.panierService.getPanier())}onSearchByKey(e){this.productService.getProductBykey(e).subscribe(n=>{this.products=n.products},n=>{console.error("Error fetching products",n)})}displayCategoryProducts(e){this.categorySelected=e,this.categoryIschosen=!0,this.productService.getProductByCategory(e).subscribe(n=>{this.products=n.products},n=>{console.error("Error fetching products Category",n)})}resetCategory(){this.categoryIschosen=!1,this.productService.getProducts().subscribe(e=>{this.products=e.products},e=>{console.error("Error fetching products",e)})}static \u0275fac=function(n){return new(n||t)(z(ir),z(Us))};static \u0275cmp=rt({type:t,selectors:[["app-list-products"]],standalone:!0,features:[it],decls:7,vars:3,consts:[["categoryChosen",""],[3,"resetProducts","searchedText","selectedCategory"],["id","featured",1,"my-5","pb-5"],["class","container text-center mt-5 py-5",4,"ngIf","ngIfElse"],[1,"row","mx-auto","container-fluid","flex"],["class","col-lg-3 col-md-4 col-12",3,"produit","selectedProduct",4,"ngFor","ngForOf"],[1,"container","text-center","mt-5","py-5"],[1,"mx-auto"],[2,"text-transform","uppercase"],[1,"col-lg-3","col-md-4","col-12",3,"selectedProduct","produit"]],template:function(n,r){if(n&1){let i=bt();P(0,"app-navbar",1),Ce("resetProducts",function(){return Oe(i),ke(r.resetCategory())})("searchedText",function(s){return Oe(i),ke(r.onSearchByKey(s))})("selectedCategory",function(s){return Oe(i),ke(r.displayCategoryProducts(s))}),N(),P(1,"section",2),ze(2,HU,6,0,"div",3)(3,qU,6,1,"ng-template",null,0,Nd),P(5,"div",4),ze(6,GU,1,1,"app-product-item",5),N()()}if(n&2){let i=yn(4);q(2),ie("ngIf",!r.categoryIschosen)("ngIfElse",i),q(4),ie("ngForOf",r.products)}},dependencies:[xh,sn,Jn,_n,Wt]})};var WB="auth";var Hh=class{constructor(){return Rc(WB)}};var hA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fA={};var Pi,Nv;(function(){var t;function e(I,v){function w(){}w.prototype=v.prototype,I.D=v.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(E,D,T){for(var _=Array(arguments.length-2),pr=2;pr<arguments.length;pr++)_[pr-2]=arguments[pr];return v.prototype[D].apply(E,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,w){w||(w=0);var E=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)E[D]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(D=0;16>D;++D)E[D]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=I.g[0],w=I.g[1],D=I.g[2];var T=I.g[3],_=v+(T^w&(D^T))+E[0]+3614090360&4294967295;v=w+(_<<7&4294967295|_>>>25),_=T+(D^v&(w^D))+E[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(w^T&(v^w))+E[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=w+(v^D&(T^v))+E[3]+3250441966&4294967295,w=D+(_<<22&4294967295|_>>>10),_=v+(T^w&(D^T))+E[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(D^v&(w^D))+E[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(w^T&(v^w))+E[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=w+(v^D&(T^v))+E[7]+4249261313&4294967295,w=D+(_<<22&4294967295|_>>>10),_=v+(T^w&(D^T))+E[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(D^v&(w^D))+E[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(w^T&(v^w))+E[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=w+(v^D&(T^v))+E[11]+2304563134&4294967295,w=D+(_<<22&4294967295|_>>>10),_=v+(T^w&(D^T))+E[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=T+(D^v&(w^D))+E[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(w^T&(v^w))+E[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=w+(v^D&(T^v))+E[15]+1236535329&4294967295,w=D+(_<<22&4294967295|_>>>10),_=v+(D^T&(w^D))+E[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^D&(v^w))+E[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^w&(T^v))+E[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(D^T))+E[0]+3921069994&4294967295,w=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(w^D))+E[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^D&(v^w))+E[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^w&(T^v))+E[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(D^T))+E[4]+3889429448&4294967295,w=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(w^D))+E[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^D&(v^w))+E[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^w&(T^v))+E[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(D^T))+E[8]+1163531501&4294967295,w=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(w^D))+E[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=T+(w^D&(v^w))+E[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^w&(T^v))+E[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=w+(T^v&(D^T))+E[12]+2368359562&4294967295,w=D+(_<<20&4294967295|_>>>12),_=v+(w^D^T)+E[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^D)+E[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^w)+E[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=w+(D^T^v)+E[14]+4259657740&4294967295,w=D+(_<<23&4294967295|_>>>9),_=v+(w^D^T)+E[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^D)+E[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^w)+E[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=w+(D^T^v)+E[10]+3200236656&4294967295,w=D+(_<<23&4294967295|_>>>9),_=v+(w^D^T)+E[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^D)+E[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^w)+E[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=w+(D^T^v)+E[6]+76029189&4294967295,w=D+(_<<23&4294967295|_>>>9),_=v+(w^D^T)+E[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=T+(v^w^D)+E[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^w)+E[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=w+(D^T^v)+E[2]+3299628645&4294967295,w=D+(_<<23&4294967295|_>>>9),_=v+(D^(w|~T))+E[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~D))+E[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~w))+E[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=w+(T^(D|~v))+E[5]+4237533241&4294967295,w=D+(_<<21&4294967295|_>>>11),_=v+(D^(w|~T))+E[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~D))+E[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~w))+E[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=w+(T^(D|~v))+E[1]+2240044497&4294967295,w=D+(_<<21&4294967295|_>>>11),_=v+(D^(w|~T))+E[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~D))+E[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~w))+E[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=w+(T^(D|~v))+E[13]+1309151649&4294967295,w=D+(_<<21&4294967295|_>>>11),_=v+(D^(w|~T))+E[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=T+(w^(v|~D))+E[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~w))+E[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=w+(T^(D|~v))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var w=v-this.blockSize,E=this.B,D=this.h,T=0;T<v;){if(D==0)for(;T<=w;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<v;)if(E[D++]=I.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<v;)if(E[D++]=I[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var w=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=w&255,w/=256;for(this.u(I),I=Array(16),v=w=0;4>v;++v)for(var E=0;32>E;E+=8)I[w++]=this.g[v]>>>E&255;return I};function o(I,v){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=v(I)}function s(I,v){this.h=v;for(var w=[],E=!0,D=I.length-1;0<=D;D--){var T=I[D]|0;E&&T==v||(w[D]=T,E=!1)}this.g=w}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return S(l(-I));for(var v=[],w=1,E=0;I>=w;E++)v[E]=I/w|0,w*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return S(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),E=p,D=0;D<I.length;D+=8){var T=Math.min(8,I.length-D),_=parseInt(I.substring(D,D+T),v);8>T?(T=l(Math.pow(v,T)),E=E.j(T).add(l(_))):(E=E.j(w),E=E.add(l(_)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-S(this).m();for(var I=0,v=1,w=0;w<this.g.length;w++){var E=this.i(w);I+=(0<=E?E:4294967296+E)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(A(this))return"-"+S(this).toString(I);for(var v=l(Math.pow(I,6)),w=this,E="";;){var D=Y(w,v).g;w=O(w,D.j(v));var T=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=D,C(w))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=O(this,I),A(I)?-1:C(I)?0:1};function S(I){for(var v=I.g.length,w=[],E=0;E<v;E++)w[E]=~I.g[E];return new s(w,~I.h).add(m)}t.abs=function(){return A(this)?S(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0,D=0;D<=v;D++){var T=E+(this.i(D)&65535)+(I.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);E=_>>>16,T&=65535,_&=65535,w[D]=_<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function O(I,v){return I.add(S(v))}t.j=function(I){if(C(this)||C(I))return p;if(A(this))return A(I)?S(this).j(S(I)):S(S(this).j(I));if(A(I))return S(this.j(S(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,w=[],E=0;E<2*v;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<I.g.length;D++){var T=this.i(E)>>>16,_=this.i(E)&65535,pr=I.i(D)>>>16,ua=I.i(D)&65535;w[2*E+2*D]+=_*ua,H(w,2*E+2*D),w[2*E+2*D+1]+=T*ua,H(w,2*E+2*D+1),w[2*E+2*D+1]+=_*pr,H(w,2*E+2*D+1),w[2*E+2*D+2]+=T*pr,H(w,2*E+2*D+2)}for(E=0;E<v;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=v;E<2*v;E++)w[E]=0;return new s(w,0)};function H(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function k(I,v){this.g=I,this.h=v}function Y(I,v){if(C(v))throw Error("division by zero");if(C(I))return new k(p,p);if(A(I))return v=Y(S(I),v),new k(S(v.g),S(v.h));if(A(v))return v=Y(I,S(v)),new k(S(v.g),v.h);if(30<I.g.length){if(A(I)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=v;0>=E.l(I);)w=ue(w),E=ue(E);var D=te(w,1),T=te(E,1);for(E=te(E,2),w=te(w,2);!C(E);){var _=T.add(E);0>=_.l(I)&&(D=D.add(w),T=_),E=te(E,1),w=te(w,1)}return v=O(I,D.j(v)),new k(D,v)}for(D=p;0<=I.l(v);){for(w=Math.max(1,Math.floor(I.m()/v.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(w),_=T.j(v);A(_)||0<_.l(I);)w-=E,T=l(w),_=T.j(v);C(T)&&(T=m),D=D.add(T),I=O(I,_)}return new k(D,I)}t.A=function(I){return Y(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)&I.i(E);return new s(w,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)|I.i(E);return new s(w,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)^I.i(E);return new s(w,this.h^I.h)};function ue(I){for(var v=I.g.length+1,w=[],E=0;E<v;E++)w[E]=I.i(E)<<1|I.i(E-1)>>>31;return new s(w,I.h)}function te(I,v){var w=v>>5;v%=32;for(var E=I.g.length-w,D=[],T=0;T<E;T++)D[T]=0<v?I.i(T+w)>>>v|I.i(T+w+1)<<32-v:I.i(T+w);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Nv=fA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Pi=fA.Integer=s}).apply(typeof hA<"u"?hA:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={};var Ov,KB,Bs,kv,Gc,Gh,Fv,Vv,Lv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,M){for(var j=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)j[Re-2]=arguments[Re];return d.prototype[b].apply(g,j)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function S(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,M=g.length||0;c.length=b+M;for(let j=0;j<M;j++)c[b+j]=g[j]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var ue=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Yf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class pr{constructor(){this.h=this.g=null}add(d,f){let g=ua.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ua=new O(()=>new _x,c=>c.reset());class _x{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let la,da=!1,Yf=new pr,Zw=()=>{let c=a.Promise.resolve(void 0);la=()=>{c.then(wx)}};var wx=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){T(f)}var d=ua;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}da=!1};function Zr(){this.s=this.s,this.C=this.C}Zr.prototype.s=!1,Zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var Ix=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ha(c,d){if(_t.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ue){e:{try{Y(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ex[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ha.aa.h.call(this)}}C(ha,_t);var Ex={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),Dx=0;function Cx(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++Dx,this.da=this.fa=!1}function vu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _u(c){this.src=c,this.g={},this.h=0}_u.prototype.add=function(c,d,f,g,b){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var j=Jf(c,d,g,b);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new Cx(d,this.src,M,!!g,b),d.fa=f,c.push(d)),d};function Zf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),M;(M=0<=b)&&Array.prototype.splice.call(g,b,1),M&&(vu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Jf(c,d,f,g){for(var b=0;b<c.length;++b){var M=c[b];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==g)return b}return-1}var Xf="closure_lm_"+(1e6*Math.random()|0),ep={};function Jw(c,d,f,g,b){if(g&&g.once)return eI(c,d,f,g,b);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Jw(c,d[M],f,g,b);return null}return f=ip(f),c&&c[fa]?c.K(d,f,l(g)?!!g.capture:!!g,b):Xw(c,d,f,!1,g,b)}function Xw(c,d,f,g,b,M){if(!d)throw Error("Invalid event type");var j=l(b)?!!b.capture:!!b,Re=np(c);if(Re||(c[Xf]=Re=new _u(c)),f=Re.add(d,f,g,j,M),f.proxy)return f;if(g=bx(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Ix||(b=j),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(nI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bx(){function c(f){return d.call(c.src,c.listener,f)}let d=Tx;return c}function eI(c,d,f,g,b){if(Array.isArray(d)){for(var M=0;M<d.length;M++)eI(c,d[M],f,g,b);return null}return f=ip(f),c&&c[fa]?c.L(d,f,l(g)?!!g.capture:!!g,b):Xw(c,d,f,!0,g,b)}function tI(c,d,f,g,b){if(Array.isArray(d))for(var M=0;M<d.length;M++)tI(c,d[M],f,g,b);else g=l(g)?!!g.capture:!!g,f=ip(f),c&&c[fa]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Jf(M,f,g,b),-1<f&&(vu(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=np(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Jf(d,f,g,b)),(f=-1<c?d[c]:null)&&tp(f))}function tp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[fa])Zf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(nI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=np(d))?(Zf(f,c),f.h==0&&(f.src=null,d[Xf]=null)):vu(c)}}}function nI(c){return c in ep?ep[c]:ep[c]="on"+c}function Tx(c,d){if(c.da)c=!0;else{d=new ha(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&tp(c),c=f.call(g,d)}return c}function np(c){return c=c[Xf],c instanceof _u?c:null}var rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(c){return typeof c=="function"?c:(c[rp]||(c[rp]=function(d){return c.handleEvent(d)}),c[rp])}function wt(){Zr.call(this),this.i=new _u(this),this.M=this,this.F=null}C(wt,Zr),wt.prototype[fa]=!0,wt.prototype.removeEventListener=function(c,d,f,g){tI(this,c,d,f,g)};function xt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new _t(d,c);else if(d instanceof _t)d.target=d.target||c;else{var b=d;d=new _t(g,c),E(d,b)}if(b=!0,f)for(var M=f.length-1;0<=M;M--){var j=d.g=f[M];b=wu(j,g,!0,d)&&b}if(j=d.g=c,b=wu(j,g,!0,d)&&b,b=wu(j,g,!1,d)&&b,f)for(M=0;M<f.length;M++)j=d.g=f[M],b=wu(j,g,!1,d)&&b}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)vu(f[g]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},wt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function wu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,M=0;M<d.length;++M){var j=d[M];if(j&&!j.da&&j.capture==f){var Re=j.listener,gt=j.ha||j.src;j.fa&&Zf(c.i,j),b=Re.call(gt,g)!==!1&&b}}return b&&!g.defaultPrevented}function rI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function iI(c){c.g=rI(()=>{c.g=null,c.i&&(c.i=!1,iI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Sx extends Zr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:iI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){Zr.call(this),this.h=c,this.g={}}C(pa,Zr);var oI=[];function sI(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&tp(d)},c),c.g={}}pa.prototype.N=function(){pa.aa.N.call(this),sI(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var op=a.JSON.stringify,Ax=a.JSON.parse,Mx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function sp(){}sp.prototype.h=null;function aI(c){return c.h||(c.h=c.i())}function cI(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ap(){_t.call(this,"d")}C(ap,_t);function cp(){_t.call(this,"c")}C(cp,_t);var Li={},uI=null;function Iu(){return uI=uI||new wt}Li.La="serverreachability";function lI(c){_t.call(this,Li.La,c)}C(lI,_t);function ma(c){let d=Iu();xt(d,new lI(d))}Li.STAT_EVENT="statevent";function dI(c,d){_t.call(this,Li.STAT_EVENT,c),this.stat=d}C(dI,_t);function Rt(c){let d=Iu();xt(d,new dI(d,c))}Li.Ma="timingevent";function hI(c,d){_t.call(this,Li.Ma,c),this.size=d}C(hI,_t);function ya(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function xx(c,d,f,g,b,M){c.info(function(){if(c.g)if(M)for(var j="",Re=M.split("&"),gt=0;gt<Re.length;gt++){var Ie=Re[gt].split("=");if(1<Ie.length){var It=Ie[0];Ie=Ie[1];var Et=It.split("_");j=2<=Et.length&&Et[1]=="type"?j+(It+"="+Ie+"&"):j+(It+"=redacted&")}}else j=null;else j=M;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+j})}function Rx(c,d,f,g,b,M,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+M+" "+j})}function Ro(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Nx(c,f)+(g?" "+g:"")})}function Px(c,d){c.info(function(){return"TIMEOUT: "+d})}va.prototype.info=function(){};function Nx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var j=1;j<b.length;j++)b[j]=""}}}}return op(f)}catch{return d}}var Eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},up;function Du(){}C(Du,sp),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},up=new Du;function Jr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pI}function pI(){this.i=null,this.g="",this.h=!1}var gI={},lp={};function dp(c,d,f){c.L=1,c.v=Su(gr(d)),c.m=f,c.P=!0,mI(c,null)}function mI(c,d){c.F=Date.now(),Cu(c),c.A=gr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),xI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new pI,c.g=KI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Sx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(oI[0]=b.toString()),b=oI);for(var M=0;M<b.length;M++){var j=Jw(f,b[M],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),xx(c.i,c.u,c.A,c.l,c.R,c.m)}Jr.prototype.ca=function(c){c=c.target;let d=this.M;d&&mr(c)==3?d.j():this.Y(c)},Jr.prototype.Y=function(c){try{if(c==this.g)e:{let Et=mr(this.g);var d=this.g.Ba();let Oo=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||VI(this.g)))){this.J||Et!=4||d==7||(d==8||0>=Oo?ma(3):ma(2)),hp(this);var f=this.g.Z();this.X=f;t:if(yI(this)){var g=VI(this.g);c="";var b=g.length,M=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),_a(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(M&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,Rx(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,gt=this.g;if((Re=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Re)){var Ie=Re;break t}}Ie=null}if(f=Ie)Ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fp(this,f);else{this.o=!1,this.s=3,Rt(12),ji(this),_a(this);break e}}if(this.P){f=!0;let Dn;for(;!this.J&&this.C<j.length;)if(Dn=Ox(this,j),Dn==lp){Et==4&&(this.s=4,Rt(14),f=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==gI){this.s=4,Rt(15),Ro(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Ro(this.i,this.l,Dn,null),fp(this,Dn);if(yI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||j.length!=0||this.h.h||(this.s=1,Rt(16),f=!1),this.o=this.o&&f,!f)Ro(this.i,this.l,j,"[Invalid Chunked Response]"),ji(this),_a(this);else if(0<j.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),_p(It),It.M=!0,Rt(11))}}else Ro(this.i,this.l,j,null),fp(this,j);Et==4&&ji(this),this.o&&!this.J&&(Et==4?HI(this.j,this):(this.o=!1,Cu(this)))}else Zx(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),ji(this),_a(this)}}}catch{}finally{}};function yI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ox(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?lp:(f=Number(d.substring(f,g)),isNaN(f)?gI:(g+=1,g+f>d.length?lp:(d=d.slice(g,g+f),c.C=g+f,d)))}Jr.prototype.cancel=function(){this.J=!0,ji(this)};function Cu(c){c.S=Date.now()+c.I,vI(c,c.I)}function vI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(m(c.ba,c),d)}function hp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Jr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Px(this.i,this.A),this.L!=2&&(ma(),Rt(17)),ji(this),this.s=2,_a(this)):vI(this,this.S-c)};function _a(c){c.j.G==0||c.J||HI(c.j,c)}function ji(c){hp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,sI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function fp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||pp(f.h,c))){if(!c.K&&pp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Pu(f),xu(f);else break e;vp(f),Rt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ya(m(f.Za,f),6e3));if(1>=II(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Bi(f,11)}else if((c.K||f.g==c)&&Pu(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let Ie=b[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let It=Ie[3];It!=null&&(f.la=It,f.j.info("VER="+f.la));let Et=Ie[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));let Oo=Ie[5];Oo!=null&&typeof Oo=="number"&&0<Oo&&(g=1.5*Oo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Dn=c.g;if(Dn){let Ou=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var M=g.h;M.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(gp(M,M.h),M.h=null))}if(g.D){let wp=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;wp&&(g.ya=wp,Ve(g.I,g.D,wp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=WI(g,g.J?g.ia:null,g.W),j.K){EI(g.h,j);var Re=j,gt=g.L;gt&&(Re.I=gt),Re.B&&(hp(Re),Cu(Re)),g.g=j}else $I(g);0<f.i.length&&Ru(f)}else Ie[0]!="stop"&&Ie[0]!="close"||Bi(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Bi(f,7):yp(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}ma(4)}catch{}}var kx=class{constructor(c,d){this.g=c,this.map=d}};function _I(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function II(c){return c.h?1:c.g?c.g.size:0}function pp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function gp(c,d){c.g?c.g.add(d):c.h=d}function EI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}_I.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function DI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function Fx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Vx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function CI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Vx(c),g=Fx(c),b=g.length,M=0;M<b;M++)d.call(void 0,g[M],f&&f[M],c)}var bI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var M=c[f].substring(0,g);b=c[f].substring(g+1)}else M=c[f];d(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,bu(this,c.j),this.o=c.o,this.g=c.g,Tu(this,c.s),this.l=c.l;var d=c.i,f=new Ea;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),TI(this,f),this.m=c.m}else c&&(d=String(c).match(bI))?(this.h=!1,bu(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Tu(this,d[4]),this.l=wa(d[5]||"",!0),TI(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Ui.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ia(d,SI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ia(d,SI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ia(f,f.charAt(0)=="/"?Bx:Ux,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ia(f,zx)),c.join("")};function gr(c){return new Ui(c)}function bu(c,d,f){c.j=f?wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Tu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function TI(c,d,f){d instanceof Ea?(c.i=d,Hx(c.i,c.h)):(f||(d=Ia(d,$x)),c.i=new Ea(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function Su(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ia(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,jx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var SI=/[#\/\?@]/g,Ux=/[#\?:]/g,Bx=/[#\?]/g,$x=/[#\?@]/g,zx=/#/g;function Ea(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Xr(c){c.g||(c.g=new Map,c.h=0,c.i&&Lx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ea.prototype,t.add=function(c,d){Xr(this),this.i=null,c=Po(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function AI(c,d){Xr(c),d=Po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function MI(c,d){return Xr(c),d=Po(c,d),c.g.has(d)}t.forEach=function(c,d){Xr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){Xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let M=0;M<b.length;M++)f.push(d[g])}return f},t.V=function(c){Xr(this);let d=[];if(typeof c=="string")MI(this,c)&&(d=d.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Xr(this),this.i=null,c=Po(this,c),MI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function xI(c,d,f){AI(c,d),0<f.length&&(c.i=null,c.g.set(Po(c,d),A(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let M=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var b=M;j[g]!==""&&(b+="="+encodeURIComponent(String(j[g]))),c.push(b)}}return this.i=c.join("&")};function Po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Hx(c,d){d&&!c.j&&(Xr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(AI(this,g),xI(this,b,f))},c)),c.j=d}function qx(c,d){let f=new va;if(a.Image){let g=new Image;g.onload=y(ei,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ei,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ei,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ei,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Gx(c,d){let f=new va,g=new AbortController,b=setTimeout(()=>{g.abort(),ei(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(M=>{clearTimeout(b),M.ok?ei(f,"TestPingServer: ok",!0,d):ei(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),ei(f,"TestPingServer: error",!1,d)})}function ei(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function Wx(){this.g=new Mx}function Kx(c,d,f){let g=f||"";try{CI(c,function(b,M){let j=b;l(b)&&(j=op(b)),d.push(g+M+"="+encodeURIComponent(j))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Da(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Da,sp),Da.prototype.g=function(){return new Au(this.l,this.j)},Da.prototype.i=function(c){return function(){return c}}({});function Au(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Au,wt),t=Au.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ba(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function RI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ca(this):ba(this),this.readyState==3&&RI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ca(this))},t.Qa=function(c){this.g&&(this.response=c,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ba(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ba(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function PI(c){let d="";return te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function mp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=PI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function Ke(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ke,wt);var Qx=/^https?$/i,Yx=["POST","PUT"];t=Ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():up.g(),this.v=this.o?aI(this.o):aI(up),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){NI(this,M);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())f.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Yx,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,j]of f)this.g.setRequestHeader(M,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FI(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){NI(this,M)}};function NI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,OI(c),Mu(c)}function OI(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kI(this):this.bb())},t.bb=function(){kI(this)};function kI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)rI(c.Ea,0,c);else if(xt(c,"readystatechange"),mr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var b=String(c.D).match(bI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!Qx.test(b?b.toLowerCase():"")}f=g}if(f)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var M=2<mr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",OI(c)}}finally{Mu(c)}}}}function Mu(c,d){if(c.g){FI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||xt(c,"ready");try{f.onreadystatechange=g}catch{}}}function FI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Ax(d)}};function VI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zx(c){let d={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[b]||[];d[b]=M,M.push(f)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function LI(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _I(c&&c.concurrentRequestLimit),this.Da=new Wx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Rt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=WI(this,null,this.W),Ru(this)};function yp(c){if(jI(c),c.G==3){var d=c.U++,f=gr(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),Sa(c,f),d=new Jr(c,c.j,d),d.L=2,d.v=Su(gr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=KI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Cu(d)}GI(c)}function xu(c){c.g&&(_p(c),c.g.cancel(),c.g=null)}function jI(c){xu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ru(c){if(!wI(c.h)&&!c.s){c.s=!0;var d=c.Ga;la||Zw(),da||(la(),da=!0),Yf.add(d,c),c.B=0}}function Jx(c,d){return II(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(m(c.Ga,c,d),qI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Jr(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),E(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=BI(this,b,d),f=gr(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),Sa(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(PI(M)))+"&"+d:this.m&&mp(f,this.m,M)),gp(this.h,b),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),b.T=!0,dp(b,f,null)):dp(b,f,d),this.G=2}}else this.G==3&&(c?UI(this,c):this.i.length==0||wI(this.h)||UI(this))};function UI(c,d){var f;d?f=d.l:f=c.U++;let g=gr(c.I);Ve(g,"SID",c.K),Ve(g,"RID",f),Ve(g,"AID",c.T),Sa(c,g),c.m&&c.o&&mp(g,c.m,c.o),f=new Jr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=BI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gp(c.h,f),dp(f,g,d)}function Sa(c,d){c.H&&te(c.H,function(f,g){Ve(d,g,f)}),c.l&&CI({},function(f,g){Ve(d,g,f)})}function BI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let M=-1;for(;;){let j=["count="+f];M==-1?0<f?(M=b[0].g,j.push("ofs="+M)):M=0:j.push("ofs="+M);let Re=!0;for(let gt=0;gt<f;gt++){let Ie=b[gt].g,It=b[gt].map;if(Ie-=M,0>Ie)M=Math.max(0,b[gt].g-100),Re=!1;else try{Kx(It,j,"req"+Ie+"_")}catch{g&&g(It)}}if(Re){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function $I(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;la||Zw(),da||(la(),da=!0),Yf.add(d,c),c.v=0}}function vp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(m(c.Fa,c),qI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,zI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),xu(this),zI(this))};function _p(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function zI(c){c.g=new Jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=gr(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),Sa(c,d),c.m&&c.o&&mp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Su(gr(d)),f.m=null,f.P=!0,mI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,xu(this),vp(this),Rt(19))};function Pu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function HI(c,d){var f=null;if(c.g==d){Pu(c),_p(c),c.g=null;var g=2}else if(pp(c.h,d))f=d.D,EI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Iu(),xt(g,new hI(g,f)),Ru(c)}else $I(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&Jx(c,d)||g==2&&vp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function qI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Bi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Ui(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bu(g,"https"),Su(g),b?qx(g.toString(),f):Gx(g.toString(),f)}else Rt(2);c.G=0,c.l&&c.l.sa(d),GI(c),jI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function GI(c){if(c.G=0,c.ka=[],c.l){let d=DI(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function WI(c,d,f){var g=f instanceof Ui?gr(f):new Ui(f);if(g.g!="")d&&(g.g=d+"."+g.g),Tu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var M=new Ui(null);g&&bu(M,g),d&&(M.g=d),b&&Tu(M,b),f&&(M.l=f),g=M}return f=c.D,d=c.ya,f&&d&&Ve(g,f,d),Ve(g,"VER",c.la),Sa(c,g),g}function KI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ke(new Da({eb:f})):new Ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QI(){}t=QI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(c,d){return new Kt(c,d)};function Kt(c,d){wt.call(this),this.g=new LI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new No(this)}C(Kt,wt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){yp(this.g)},Kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=op(c),c=f);d.i.push(new kx(d.Ya++,c)),d.G==3&&Ru(d)},Kt.prototype.N=function(){this.g.l=null,delete this.j,yp(this.g),delete this.g,Kt.aa.N.call(this)};function YI(c){ap.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(YI,ap);function ZI(){cp.call(this),this.status=1}C(ZI,cp);function No(c){this.g=c}C(No,QI),No.prototype.ua=function(){xt(this.g,"a")},No.prototype.ta=function(c){xt(this.g,new YI(c))},No.prototype.sa=function(c){xt(this.g,new ZI)},No.prototype.ra=function(){xt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Lv=qr.createWebChannelTransport=function(){return new Nu},Vv=qr.getStatEventTarget=function(){return Iu()},Fv=qr.Event=Li,Gh=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eu.NO_ERROR=0,Eu.TIMEOUT=8,Eu.HTTP_ERROR=6,Gc=qr.ErrorCode=Eu,fI.COMPLETE="complete",kv=qr.EventType=fI,cI.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Bs=qr.WebChannel=cI,KB=qr.FetchXmlHttpFactory=Da,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Ov=qr.XhrIo=Ke}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});var pA="@firebase/firestore";var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var sa="10.14.0";var wo=new Fu("@firebase/firestore");function Wc(){return wo.logLevel}function K(t,...e){if(wo.logLevel<=yr.DEBUG){let n=e.map(Dw);wo.debug(`Firestore (${sa}): ${t}`,...n)}}function Wr(t,...e){if(wo.logLevel<=yr.ERROR){let n=e.map(Dw);wo.error(`Firestore (${sa}): ${t}`,...n)}}function Ks(t,...e){if(wo.logLevel<=yr.WARN){let n=e.map(Dw);wo.warn(`Firestore (${sa}): ${t}`,...n)}}function Dw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function xe(t,e){t||ee()}function oe(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends aE{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ar=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Zh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}},Hv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},qv=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ar,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>V(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ar)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Zh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new pt(e)}},Gv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Wv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Kv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new Kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function QB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=QB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var vt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new vt(0,0))}static max(){return new t(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},We=class t extends Xh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},YB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class t extends Xh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return YB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new W(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t(We.fromString(e))}static fromName(e){return new t(We.fromString(e).popFirst(5))}static empty(){return new t(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new We(e.slice()))}};var Yv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Yv.UNKNOWN_ID=-1;function ZB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Io(i,X.empty(),e)}function JB(t){return new Io(t.readTime,t.key,-1)}var Io=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),X.empty(),-1)}static max(){return new t(ae.max(),X.empty(),-1)}};function XB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var e$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hu(t){return V(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==e$)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function t$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(t){return t.name==="IndexedDbTransactionError"}var QA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Rf(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function n$(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var r$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wK=[...r$,"documentOverlays"],i$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],o$=i$,s$=[...o$,"indexConfiguration","indexState","indexEntries"];var IK=[...s$,"globals"];function gA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Je=class t{constructor(e,n){this.comparator=e,this.root=n||cr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qs(this.root,e,this.comparator,!0)}},qs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class t{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ef(this.data.getIterator())}getIteratorFrom(e){return new ef(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ef=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var En=class t{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new t([])}unionWith(e){let n=new At(ln.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var tf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var a$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(xe(!!t),typeof t=="string"){let e=0,n=a$.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function Cw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bw(t){let e=t.mapValue.fields.__previous_value__;return Cw(e)?bw(e):e}function eu(t){let e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}var Jv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},nf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cw(t)?4:JA(t)?9007199254740991:ZA(t)?10:11:ee()}function hr(t,e){if(t===e)return!0;let n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Oi(i.bytesValue).isEqual(Oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return $e(i.geoPointValue.latitude)===$e(o.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $e(i.integerValue)===$e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=$e(i.doubleValue),a=$e(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gA(s)!==gA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!hr(s[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function tu(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;let n=Eo(t),r=Eo(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=$e(o.integerValue||o.doubleValue),u=$e(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return mA(t.timestampValue,e.timestampValue);case 4:return mA(eu(t),eu(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Oi(o),u=Oi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee($e(o.latitude),$e(s.latitude));return a!==0?a:Ee($e(o.longitude),$e(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,A=Ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:yA(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wh.mapValue&&s===Wh.mapValue)return 0;if(o===Wh.mapValue)return 1;if(s===Wh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let y=Ys(a[u[p]],l[h[p]]);if(y!==0)return y}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function mA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Kr(t),r=Kr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function yA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ys(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Zs(t){return Xv(t)}function Xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Xv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Xv(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function vA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function e_(t){return!!t&&"integerValue"in t}function Tw(t){return!!t&&"arrayValue"in t}function _A(t){return!!t&&"nullValue"in t}function wA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function ZA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function XA(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new ln([n]);if(Qh(r)){let o=XA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new En(e)}var Vn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),un.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Js=class{constructor(e,n){this.position=e,this.inclusive=n}};function IA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),n.key):r=Ys(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}var Do=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function c$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var rf=class{},ct=class t extends rf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n_(e,n,r):n==="array-contains"?new o_(e,r):n==="in"?new s_(e,r):n==="not-in"?new a_(e,r):n==="array-contains-any"?new c_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r_(e,r):new i_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class t extends rf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return eM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function eM(t){return t.op==="and"}function tM(t){return u$(t)&&eM(t)}function u$(t){for(let e of t.filters)if(e instanceof Ln)return!1;return!0}function t_(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(tM(t))return t.filters.map(e=>t_(e)).join(",");{let e=t.filters.map(n=>t_(n)).join(",");return`${t.op}(${e})`}}function nM(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(t,e):t instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&nM(s,i.filters[a]),!0):!1}(t,e):void ee()}function rM(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(rM).join(" ,")+"}"}(t):"Filter"}var n_=class extends ct{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},r_=class extends ct{constructor(e,n){super(e,"in",n),this.keys=iM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},i_=class extends ct{constructor(e,n){super(e,"not-in",n),this.keys=iM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function iM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var o_=class extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Tw(n)&&tu(n.arrayValue,this.value)}},s_=class extends ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},a_=class extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}},c_=class extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Tw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var u_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function DA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new u_(t,e,n,r,i,o,s)}function Sw(t){let e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>t_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zs(r)).join(",")),e.ue=n}return e.ue}function Aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EA(t.startAt,e.startAt)&&EA(t.endAt,e.endAt)}function l_(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ki=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function l$(t,e,n,r,i,o,s,a){return new ki(t,e,n,r,i,o,s,a)}function Pf(t){return new ki(t)}function CA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oM(t){return t.collectionGroup!==null}function Yc(t){let e=oe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(ln.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Do(o,r))}),n.has(ln.keyField().canonicalString())||e.ce.push(new Do(ln.keyField(),r))}return e.ce}function ur(t){let e=oe(t);return e.le||(e.le=d$(e,Yc(t))),e.le}function d$(t,e){if(t.limitType==="F")return DA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Do(i.field,o)});let n=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;return DA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function d_(t,e){let n=t.filters.concat([e]);return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function h_(t,e,n){return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nf(t,e){return Aw(ur(t),ur(e))&&t.limitType===e.limitType}function sM(t){return`${Sw(ur(t))}|lt:${t.limitType}`}function $s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rM(i)).join(", ")}]`),Rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zs(i)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=IA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,a,u){let l=IA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Yc(r),i))}(t,e)}function h$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aM(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let o=f$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function f$(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ys(u,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Fi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YA(this.inner)}size(){return this.innerSize}};var p$=new Je(X.comparator);function Qr(){return p$}var cM=new Je(X.comparator);function Kc(...t){let e=cM;for(let n of t)e=e.insert(n.key,n);return e}function uM(t){let e=cM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return Zc()}function lM(){return Zc()}function Zc(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}var g$=new Je(X.comparator),m$=new At(X.comparator);function ye(...t){let e=m$;for(let n of t)e=e.add(n);return e}var y$=new At(Ee);function v$(){return y$}function Mw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function dM(t){return{integerValue:""+t}}function _$(t,e){return n$(e)?dM(e):Mw(t,e)}var Xs=class{constructor(){this._=void 0}};function w$(t,e,n){return t instanceof ea?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cw(o)&&(o=bw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Co?fM(t,e):t instanceof bo?pM(t,e):function(i,o){let s=hM(i,o),a=bA(s)+bA(i.Pe);return e_(s)&&e_(i.Pe)?dM(a):Mw(i.serializer,a)}(t,e)}function I$(t,e,n){return t instanceof Co?fM(t,e):t instanceof bo?pM(t,e):n}function hM(t,e){return t instanceof ta?function(r){return e_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ea=class extends Xs{},Co=class extends Xs{constructor(e){super(),this.elements=e}};function fM(t,e){let n=gM(e);for(let r of t.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}var bo=class extends Xs{constructor(e){super(),this.elements=e}};function pM(t,e){let n=gM(e);for(let r of t.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}var ta=class extends Xs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function bA(t){return $e(t.integerValue||t.doubleValue)}function gM(t){return Tw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof bo&&i instanceof bo?Qs(r.elements,i.elements,hr):r instanceof ta&&i instanceof ta?hr(r.Pe,i.Pe):r instanceof ea&&i instanceof ea}(t.transform,e.transform)}var f_=class{constructor(e,n){this.version=e,this.transformResults=n}},Gr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var na=class{};function mM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nu(t.key,Gr.none()):new To(t.key,t.data,Gr.none());{let n=t.data,r=un.empty(),i=new At(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fr(t.key,r,new En(i.toArray()),Gr.none())}}function D$(t,e,n){t instanceof To?function(i,o,s){let a=i.value.clone(),u=SA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(i,o,s){if(!Yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=SA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(yM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Jc(t,e,n,r){return t instanceof To?function(o,s,a,u){if(!Yh(o.precondition,s))return a;let l=o.value.clone(),h=AA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fr?function(o,s,a,u){if(!Yh(o.precondition,s))return a;let l=AA(o.fieldTransforms,u,s),h=s.data;return h.setAll(yM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function C$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=hM(r.transform,i||null);o!=null&&(n===null&&(n=un.empty()),n.set(r.field,o))}return n||null}function TA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(o,s)=>E$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var To=class extends na{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends na{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function yM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function SA(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,I$(s,a,n[i]))}return r}function AA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,w$(o,s,e))}return r}var nu=class extends na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},p_=class extends na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var g_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&D$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=lM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=mM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,r)=>TA(n,r))&&Qs(this.baseMutations,e.baseMutations,(n,r)=>TA(n,r))}},m_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return g$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var y_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var v_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var st,_e;function b$(t){switch(t){default:return ee();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function vM(t){if(t===void 0)return Wr("GRPC error has no .code"),x.UNKNOWN;switch(t){case st.OK:return x.OK;case st.CANCELLED:return x.CANCELLED;case st.UNKNOWN:return x.UNKNOWN;case st.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case st.INTERNAL:return x.INTERNAL;case st.UNAVAILABLE:return x.UNAVAILABLE;case st.UNAUTHENTICATED:return x.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case st.NOT_FOUND:return x.NOT_FOUND;case st.ALREADY_EXISTS:return x.ALREADY_EXISTS;case st.PERMISSION_DENIED:return x.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case st.ABORTED:return x.ABORTED;case st.OUT_OF_RANGE:return x.OUT_OF_RANGE;case st.UNIMPLEMENTED:return x.UNIMPLEMENTED;case st.DATA_LOSS:return x.DATA_LOSS;default:return ee()}}(_e=st||(st={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var MA=null;function T$(){return new TextEncoder}var S$=new Pi([4294967295,4294967295],0);function xA(t){let e=T$().encode(t),n=new Nv;return n.update(e),new Uint8Array(n.digest())}function RA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pi([n,r],0),new Pi([i,o],0)]}var __=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pi.fromNumber(r)));return i.compare(S$)===1&&(i=new Pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=xA(e),[r,i]=RA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=xA(e),[r,i]=RA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var of=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new Je(Ee),Qr(),ye())}},ru=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ye(),ye(),ye())}};var Gs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},sf=class{constructor(e,n){this.targetId=e,this.me=n}},af=class{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},cf=class{constructor(){this.fe=0,this.ge=NA(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},w_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=PA(),this.Qe=new Je(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(l_(o))if(r===0){let s=new X(o.path);this.Ue(n,s,Vn.newNoDocument(s,ae.min()))}else xe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}MA?.et(function(h,p,m,y,C){var A,S,O,H,k,Y;let ue={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},te=p.unchangedNames;return te&&(ue.bloomFilter={applied:C===0,hashCount:(A=te?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(H=(O=(S=te?.bits)===null||S===void 0?void 0:S.bitmap)===null||O===void 0?void 0:O.length)!==null&&H!==void 0?H:0,padding:(Y=(k=te?.bits)===null||k===void 0?void 0:k.padding)!==null&&Y!==void 0?Y:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),ue}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Oi(r).toUint8Array()}catch(u){if(u instanceof tf)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new __(s,i,o)}catch(u){return Ks(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&l_(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Vn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ye();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new of(e,n,this.Qe,this.ke,r);return this.ke=Qr(),this.qe=PA(),this.Qe=new Je(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function PA(){return new Je(X.comparator)}function NA(){return new Je(X.comparator)}var A$={asc:"ASCENDING",desc:"DESCENDING"},M$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x$={and:"AND",or:"OR"},I_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function E_(t,e){return t.useProto3Json||Rf(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _M(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R$(t,e){return uf(t,e.toTimestamp())}function lr(t){return xe(!!t),ae.fromTimestamp(function(n){let r=Kr(n);return new vt(r.seconds,r.nanos)}(t))}function xw(t,e){return D_(t,e).canonicalString()}function D_(t,e){let n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wM(t){let e=We.fromString(t);return xe(bM(e)),e}function C_(t,e){return xw(t.databaseId,e.path)}function jv(t,e){let n=wM(e);if(n.get(1)!==t.databaseId.projectId)throw new W(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(EM(n))}function IM(t,e){return xw(t.databaseId,e)}function P$(t){let e=wM(t);return e.length===4?We.emptyPath():EM(e)}function b_(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EM(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OA(t,e,n){return{name:C_(t,e),fields:n.value.mapValue.fields}}function N$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Mt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:vM(l.code);return new W(h,l.message||"")}(s);n=new af(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jv(t,r.document.name),o=lr(r.document.updateTime),s=r.document.createTime?lr(r.document.createTime):ae.min(),a=new un({mapValue:{fields:r.document.fields}}),u=Vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jv(t,r.document),o=r.readTime?lr(r.readTime):ae.min(),s=Vn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jv(t,r.document),o=r.removedTargetIds||[];n=new Gs([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new v_(i,o),a=r.targetId;n=new sf(a,s)}}return n}function O$(t,e){let n;if(e instanceof To)n={update:OA(t,e.key,e.value)};else if(e instanceof nu)n={delete:C_(t,e.key)};else if(e instanceof fr)n={update:OA(t,e.key,e.data),updateMask:z$(e.fieldMask)};else{if(!(e instanceof p_))return ee();n={verify:C_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ta)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function k$(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?lr(i.updateTime):lr(o);return s.isEqual(ae.min())&&(s=lr(o)),new f_(s,i.transformResults||[])}(n,e))):[]}function F$(t,e){return{documents:[IM(t,e.path)]}}function V$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IM(t,i);let o=function(l){if(l.length!==0)return CM(Ln.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:zs(m.field),direction:U$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=E_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function L$(t){let e=P$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=DM(p);return m instanceof Ln&&tM(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new Do(Hs(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Js(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Js(y,m)}(n.endAt)),l$(e,i,s,o,a,"F",u,l)}function j$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Hs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Hs(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Hs(n.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Hs(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>DM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function U$(t){return A$[t]}function B$(t){return M$[t]}function $$(t){return x$[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Hs(t){return ln.fromServerFormat(t.fieldPath)}function CM(t){return t instanceof ct?function(n){if(n.op==="=="){if(wA(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(_A(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wA(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(_A(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:B$(n.op),value:n.value}}}(t):t instanceof Ln?function(n){let r=n.getFilters().map(i=>CM(i));return r.length===1?r[0]:{compositeFilter:{op:$$(n.op),filters:r}}}(t):ee()}function z$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var iu=class t{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var T_=class{constructor(e){this.ct=e}};function H$(t){let e=L$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h_(e,e.limit,"L"):e}var lf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Kr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Oi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?JA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):ZA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At($e(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),X.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};lf.vt=new lf;var S_=class{constructor(){this.un=new A_}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Io.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},A_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(We.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(We.comparator)).toArray()}};var DK=new Uint8Array(0);var sr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(41943040,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);var ou=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var M_=class{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var x_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var R_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jc(r.mutation,i,En.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){let i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Qr(),s=Zc(),a=function(){return Zc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Jc(h.mutation,l,h.mutation.getFieldMask(),vt.now())):s.set(l.key,En.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new x_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Zc(),i=new Je((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||En.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=lM();h.forEach(m=>{if(!o.has(m)){let y=mM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(yo()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:a,changes:uM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Kc();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,m){return new ki(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Vn.newInvalidDocument(h)))});let a=Kc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Jc(h.mutation,l,En.empty(),vt.now()),Of(n,l)&&(a=a.insert(u,l))}),a})}};var P_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:H$(i.bundledQuery),readTime:lr(i.readTime)}}(n)),F.resolve()}};var N_=class{constructor(){this.overlays=new Je(X.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yo();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=yo(),o=n.length+1,s=new X(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new y_(n,r));let o=this.Ir.get(n);o===void 0&&(o=ye(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var O_=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var su=class{constructor(){this.Tr=new At(at.Er),this.dr=new At(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new X(new We([])),r=new at(n,e),i=new at(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new X(new We([])),r=new at(n,e),i=new at(n,e+1),o=ye();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||X.comparator(e.key,n.key)}};var k_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new At(at.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new g_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ee);return n.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new at(new X(o),0),a=new At(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let o=new at(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new at(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var F_=class{constructor(e){this.Mr=e,this.docs=function(){return new Je(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qr(),s=n.path,a=new X(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||XB(JB(h),r)<=0||(i.has(h.key)||Of(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new V_(this)}getSize(e){return F.resolve(this.size)}},V_=class extends M_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var L_=class{constructor(e){this.persistence=e,this.Nr=new Fi(n=>Sw(n),Aw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new su,this.targetCount=0,this.kr=ou.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ou(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var j_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new QA(0),this.Kr=!1,this.Kr=!0,this.$r=new O_,this.referenceDelegate=e(this),this.Ur=new L_(this),this.indexManager=new S_,this.remoteDocumentCache=function(i){return new F_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new T_(n),this.Gr=new P_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new k_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);let i=new U_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},U_=class extends Zv{constructor(e){super(),this.currentSequenceNumber=e}},B_=class t{constructor(e){this.persistence=e,this.Jr=new su,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var $_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ye(),i=ye();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var z_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var H_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sE()?8:t$(oE())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new z_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=yr.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Wc()<=yr.DEBUG&&K("QueryEngine","Query:",$s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=yr.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):F.resolve())}Yi(e,n){if(CA(n))return F.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=h_(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,h_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return CA(n)||i.isEqual(ae.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Wc()<=yr.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(n)),this.rs(e,s,n,ZB(i,-1)).next(a=>a))})}ts(e,n){let r=new At(aM(e));return n.forEach((i,o)=>{Of(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=yr.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",$s(n)),this.Ji.getDocumentsMatchingQuery(e,n,Io.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var q_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Je(Ee),this._s=new Fi(o=>Sw(o),Aw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function q$(t,e,n,r){return new q_(t,e,n,r)}function TM(t,e){return V(this,null,function*(){let n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function G$(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=F.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(A=>{let S=l.docVersions.get(C);xe(S!==null),A.version.compareTo(S)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SM(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function W$(t,e){let n=oe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Mt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(A,S,O){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Qr(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(K$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function K$(t,e,n){let r=ye(),i=ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function Q$(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y$(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new iu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function G_(t,e,n){return V(this,null,function*(){let r=oe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fu(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function kA(t,e,n){let r=oe(t),i=ae.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=oe(u),m=p._s.get(h);return m!==void 0?F.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:ye())).next(a=>(Z$(r,h$(e),a),{documents:a,Ts:o})))}function Z$(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var df=class{constructor(){this.activeTargetIds=v$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var W_=class{constructor(){this.so=new df,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new df,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var K_=class{_o(e){}shutdown(){}};var hf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kh=null;function Uv(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}var J$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Q_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var St="WebChannelConnection",Y_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Uv(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ks("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=J$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Uv();return new Promise((s,a)=>{let u=new Ov;u.setWithCredentials(!0),u.listenOnce(kv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:let h=u.getResponseJson();K(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Gc.TIMEOUT:K(St,`RPC '${e}' ${o} timed out`),a(new W(x.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=u.getStatus();if(K(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(S){let O=S.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(O)>=0?O:x.UNKNOWN}(y.status);a(new W(C,y.message))}else a(new W(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(x.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{K(St,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Uv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lv(),a=Vv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");K(St,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,C=new Q_({Io:S=>{y?K(St,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(K(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),K(St,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),A=(S,O,H)=>{S.listen(O,k=>{try{H(k)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(p,Bs.EventType.OPEN,()=>{y||(K(St,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),A(p,Bs.EventType.CLOSE,()=>{y||(y=!0,K(St,`RPC '${e}' stream ${i} transport closed`),C.So())}),A(p,Bs.EventType.ERROR,S=>{y||(y=!0,Ks(St,`RPC '${e}' stream ${i} transport errored:`,S),C.So(new W(x.UNAVAILABLE,"The operation could not be completed")))}),A(p,Bs.EventType.MESSAGE,S=>{var O;if(!y){let H=S.data[0];xe(!!H);let k=H,Y=k.error||((O=k[0])===null||O===void 0?void 0:O.error);if(Y){K(St,`RPC '${e}' stream ${i} received error:`,Y);let ue=Y.status,te=function(w){let E=st[w];if(E!==void 0)return vM(E)}(ue),I=Y.message;te===void 0&&(te=x.INTERNAL,I="Unknown error status: "+ue+" with message "+Y.message),y=!0,C.So(new W(te,I)),p.close()}else K(St,`RPC '${e}' stream ${i} received:`,H),C.bo(H)}}),A(a,Fv.STAT_EVENT,S=>{S.stat===Gh.PROXY?K(St,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Gh.NOPROXY&&K(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Bv(){return typeof document<"u"?document:null}function kf(t){return new I_(t,!0)}var ff=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var pf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ff(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return V(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return V(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return V(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new W(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>V(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Z_=class extends pf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=N$(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?lr(s.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=b_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=l_(u)?{documents:F$(o,u)}:{query:V$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_M(o,s.resumeToken);let l=E_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=uf(o,s.snapshotVersion.toTimestamp());let l=E_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=j$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=b_(this.serializer),n.removeTarget=e,this.a_(n)}},J_=class extends pf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=k$(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=b_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>O$(this.serializer,r))};this.a_(n)}};var X_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,D_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,D_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ew=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var tw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>V(this,null,function*(){Mo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return V(this,null,function*(){let l=oe(u);l.L_.add(4),yield pu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Ff(l)})}(this))}))}),this.q_=new ew(r,i)}};function Ff(t){return V(this,null,function*(){if(Mo(t))for(let e of t.B_)yield e(!0)})}function pu(t){return V(this,null,function*(){for(let e of t.B_)yield e(!1)})}function AM(t,e){let n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ow(n)?Nw(n):aa(n).r_()&&Pw(n,e))}function Rw(t,e){let n=oe(t),r=aa(n);n.N_.delete(e),r.r_()&&MM(n,e),n.N_.size===0&&(r.r_()?r.o_():Mo(n)&&n.q_.set("Unknown"))}function Pw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).A_(e)}function MM(t,e){t.Q_.xe(e),aa(t).R_(e)}function Nw(t){t.Q_=new w_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.q_.v_()}function Ow(t){return Mo(t)&&!aa(t).n_()&&t.N_.size>0}function Mo(t){return oe(t).L_.size===0}function xM(t){t.Q_=void 0}function X$(t){return V(this,null,function*(){t.q_.set("Online")})}function e4(t){return V(this,null,function*(){t.N_.forEach((e,n)=>{Pw(t,e)})})}function t4(t,e){return V(this,null,function*(){xM(t),Ow(t)?(t.q_.M_(e),Nw(t)):t.q_.set("Unknown")})}function n4(t,e,n){return V(this,null,function*(){if(t.q_.set("Online"),e instanceof af&&e.state===2&&e.cause)try{yield function(i,o){return V(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gf(t,r)}else if(e instanceof Gs?t.Q_.Ke(e):e instanceof sf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield SM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),MM(o,u);let p=new iu(h.target,u,l,h.sequenceNumber);Pw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield gf(t,r)}})}function gf(t,e,n){return V(this,null,function*(){if(!fu(e))throw e;t.L_.add(1),yield pu(t),t.q_.set("Offline"),n||(n=()=>SM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>V(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ff(t)}))})}function RM(t,e){return e().catch(n=>gf(t,n,e))}function Vf(t){return V(this,null,function*(){let e=oe(t),n=Vi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;r4(e);)try{let i=yield Q$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,i4(e,i)}catch(i){yield gf(e,i)}PM(e)&&NM(e)})}function r4(t){return Mo(t)&&t.O_.length<10}function i4(t,e){t.O_.push(e);let n=Vi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function PM(t){return Mo(t)&&!Vi(t).n_()&&t.O_.length>0}function NM(t){Vi(t).start()}function o4(t){return V(this,null,function*(){Vi(t).p_()})}function s4(t){return V(this,null,function*(){let e=Vi(t);for(let n of t.O_)e.m_(n.mutations)})}function a4(t,e,n){return V(this,null,function*(){let r=t.O_.shift(),i=m_.from(r,e,n);yield RM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Vf(t)})}function c4(t,e){return V(this,null,function*(){e&&Vi(t).V_&&(yield function(r,i){return V(this,null,function*(){if(function(s){return b$(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();Vi(r).s_(),yield RM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vf(r)}})}(t,e)),PM(t)&&NM(t)})}function FA(t,e){return V(this,null,function*(){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Mo(n);n.L_.add(3),yield pu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ff(n)})}function u4(t,e){return V(this,null,function*(){let n=oe(t);e?(n.L_.delete(2),yield Ff(n)):e||(n.L_.add(2),yield pu(n),n.q_.set("Unknown"))})}function aa(t){return t.K_||(t.K_=function(n,r,i){let o=oe(n);return o.w_(),new Z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:X$.bind(null,t),Ro:e4.bind(null,t),mo:t4.bind(null,t),d_:n4.bind(null,t)}),t.B_.push(e=>V(this,null,function*(){e?(t.K_.s_(),Ow(t)?Nw(t):t.q_.set("Unknown")):(yield t.K_.stop(),xM(t))}))),t.K_}function Vi(t){return t.U_||(t.U_=function(n,r,i){let o=oe(n);return o.w_(),new J_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o4.bind(null,t),mo:c4.bind(null,t),f_:s4.bind(null,t),g_:a4.bind(null,t)}),t.B_.push(e=>V(this,null,function*(){e?(t.U_.s_(),yield Vf(t)):(yield t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var nw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kw(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),fu(t))return new W(x.UNAVAILABLE,`${e}: ${t}`);throw t}var mf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var yf=class{constructor(){this.W_=new Je(X.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ra=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,mf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var rw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},iw=class{constructor(){this.queries=VA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=oe(n),o=i.queries;i.queries=VA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new W(x.ABORTED,"Firestore shutting down"))}};function VA(){return new Fi(t=>sM(t),Nf)}function OM(t,e){return V(this,null,function*(){let n=oe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new rw,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=kw(s,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Fw(n)})}function kM(t,e){return V(this,null,function*(){let n=oe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function l4(t,e){let n=oe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Fw(n)}function d4(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Fw(t){t.Y_.forEach(e=>{e.next()})}var ow,LA;(LA=ow||(ow={})).ea="default",LA.Cache="cache";var vf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ow.Cache}};var _f=class{constructor(e){this.key=e}},wf=class{constructor(e){this.key=e}},sw=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=aM(e),this.Ra=new mf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new yf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Of(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?C!==A&&(r.track({type:3,doc:y}),S=!0):this.ga(m,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(u||l)&&(a=!0)),S&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,C){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return A(y)-A(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ra(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new wf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _f(r))}),n}ba(e){this.Ta=e.Ts,this.da=ye();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},aw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cw=class{constructor(e){this.key=e,this.va=!1}},uw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Fi(a=>sM(a),Nf),this.Ma=new Map,this.xa=new Set,this.Oa=new Je(X.comparator),this.Na=new Map,this.La=new su,this.Ba={},this.ka=new Map,this.qa=ou.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function h4(t,e,n=!0){return V(this,null,function*(){let r=BM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield FM(r,e,n,!0),i})}function f4(t,e){return V(this,null,function*(){let n=BM(t);yield FM(n,e,!0,!1)})}function FM(t,e,n,r){return V(this,null,function*(){let i=yield Y$(t.localStore,ur(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield p4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&AM(t.remoteStore,i),a})}function p4(t,e,n,r,i){return V(this,null,function*(){t.Ka=(p,m,y)=>function(A,S,O,H){return V(this,null,function*(){let k=S.view.ma(O);k.ns&&(k=yield kA(A.localStore,S.query,!1).then(({documents:I})=>S.view.ma(I,k)));let Y=H&&H.targetChanges.get(S.targetId),ue=H&&H.targetMismatches.get(S.targetId)!=null,te=S.view.applyChanges(k,A.isPrimaryClient,Y,ue);return UA(A,S.targetId,te.wa),te.snapshot})}(t,p,m,y);let o=yield kA(t.localStore,e,!0),s=new sw(e,o.Ts),a=s.ma(o.documents),u=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);UA(t,n,l.wa);let h=new aw(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function g4(t,e,n){return V(this,null,function*(){let r=oe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Nf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield G_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rw(r.remoteStore,i.targetId),lw(r,i.targetId)}).catch(hu))):(lw(r,i.targetId),yield G_(r.localStore,i.targetId,!0))})}function m4(t,e){return V(this,null,function*(){let n=oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rw(n.remoteStore,r.targetId))})}function y4(t,e,n){return V(this,null,function*(){let r=C4(t);try{let i=yield function(s,a){let u=oe(s),l=vt.now(),h=a.reduce((y,C)=>y.add(C.key),ye()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Qr(),A=ye();return u.cs.getEntries(y,h).next(S=>{C=S,C.forEach((O,H)=>{H.isValidDocument()||(A=A.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(S=>{p=S;let O=[];for(let H of a){let k=C$(H,p.get(H.key).overlayedDocument);k!=null&&O.push(new fr(H.key,k,XA(k.value.mapValue),Gr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(S=>{m=S;let O=S.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,S.batchId,O)})}).then(()=>({batchId:m.batchId,changes:uM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Je(Ee)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield gu(r,i.changes),yield Vf(r.remoteStore)}catch(i){let o=kw(i,"Failed to persist write");n.reject(o)}})}function VM(t,e){return V(this,null,function*(){let n=oe(t);try{let r=yield W$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield gu(n,r,e)}catch(r){yield hu(r)}})}function jA(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Fw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function v4(t,e,n){return V(this,null,function*(){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Je(X.comparator);s=s.insert(o,Vn.newNoDocument(o,ae.min()));let a=ye().add(o),u=new of(ae.min(),new Map,new Je(Ee),s,a);yield VM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Vw(r)}else yield G_(r.localStore,e,!1).then(()=>lw(r,e,n)).catch(hu)})}function _4(t,e){return V(this,null,function*(){let n=oe(t),r=e.batch.batchId;try{let i=yield G$(n.localStore,e);jM(n,r,null),LM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gu(n,i)}catch(i){yield hu(i)}})}function w4(t,e,n){return V(this,null,function*(){let r=oe(t);try{let i=yield function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);jM(r,e,n),LM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gu(r,i)}catch(i){yield hu(i)}})}function LM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function jM(t,e,n){let r=oe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UM(t,r)})}function UM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Rw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vw(t))}function UA(t,e,n){for(let r of n)r instanceof _f?(t.La.addReference(r.key,e),I4(t,r)):r instanceof wf?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UM(t,r.key)):ee()}function I4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),Vw(t))}function Vw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new X(We.fromString(e)),r=t.qa.next();t.Na.set(r,new cw(n)),t.Oa=t.Oa.insert(n,r),AM(t.remoteStore,new iu(ur(Pf(n.path)),r,"TargetPurposeLimboResolution",QA.oe))}}function gu(t,e,n){return V(this,null,function*(){let r=oe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=$_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return V(this,null,function*(){let h=oe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,m=>F.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>F.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!fu(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,A)}}})}(r.localStore,o))})}function E4(t,e){return V(this,null,function*(){let n=oe(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield TM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gu(n,r.hs)}})}function D4(t,e){let n=oe(t),r=n.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function BM(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v4.bind(null,e),e.Ca.d_=l4.bind(null,e.eventManager),e.Ca.$a=d4.bind(null,e.eventManager),e}function C4(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w4.bind(null,e),e}var BA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return V(this,null,function*(){this.serializer=kf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return q$(this.persistence,new H_,n.initialUser,this.serializer)}Ga(n){return new j_(B_.Zr,this.serializer)}Wa(n){return new W_}terminate(){return V(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var b4=(()=>{class t{initialize(n,r){return V(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),yield u4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new iw}()}createDatastore(n){let r=kf(n.databaseInfo.databaseId),i=function(s){return new Y_(s)}(n.databaseInfo);return function(s,a,u,l){return new X_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new tw(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>jA(this.syncEngine,r,0),function(){return hf.D()?new hf:new K_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new uw(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return V(this,null,function*(){var n,r;yield function(o){return V(this,null,function*(){let s=oe(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield pu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var If=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var dw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>V(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>V(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=kw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $v(t,e){return V(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>V(this,null,function*(){r.isEqual(i)||(yield TM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $A(t,e){return V(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield T4(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FA(e.remoteStore,i)),t._onlineComponents=e})}function T4(t){return V(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $v(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),yield $v(t,new BA)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield $v(t,new BA);return t._offlineComponents})}function $M(t){return V(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield $A(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield $A(t,new b4))),t._onlineComponents})}function S4(t){return $M(t).then(e=>e.syncEngine)}function hw(t){return V(this,null,function*(){let e=yield $M(t),n=e.eventManager;return n.onListen=h4.bind(null,e.syncEngine),n.onUnlisten=g4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),n})}function A4(t,e,n={}){let r=new ar;return t.asyncQueue.enqueueAndForget(()=>V(this,null,function*(){return function(o,s,a,u,l){let h=new If({next:m=>{h.Za(),s.enqueueAndForget(()=>kM(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new W(x.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new W(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new vf(Pf(a.path),h,{includeMetadataChanges:!0,_a:!0});return OM(o,p)}(yield hw(t),t.asyncQueue,e,n,r)})),r.promise}function zM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var zA=new Map;function HM(t,e,n){if(!n)throw new W(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M4(t,e,n,r){if(e===!0&&r===!0)throw new W(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HA(t){if(!X.isDocumentKey(t))throw new W(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qA(t){if(X.isDocumentKey(t))throw new W(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Lf(t);throw new W(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ef=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ia=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ef({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ef(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zv;switch(r.type){case"firstParty":return new Wv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return V(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=zA.get(n);r&&(K("ComponentProvider","Removing Datastore"),zA.delete(n),r.terminate())}(this),Promise.resolve()}};function qM(t,e,n,r={}){var i;let o=(t=dr(t,ia))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=pt.MOCK_USER;else{a=iE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pt(l)}t._authCredentials=new Hv(new Zh(a,u))}}var So=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ni=class t extends So{constructor(e,n,r){super(e,n,Pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GM(t,e,...n){if(t=dn(t),HM("collection","path",e),t instanceof ia){let r=We.fromString(e,...n);return qA(r),new Ni(t,null,r)}{if(!(t instanceof Bt||t instanceof Ni))throw new W(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(We.fromString(e,...n));return qA(r),new Ni(t.firestore,null,r)}}function Lw(t,e,...n){if(t=dn(t),arguments.length===1&&(e=Jh.newId()),HM("doc","path",e),t instanceof ia){let r=We.fromString(e,...n);return HA(r),new Bt(t,null,new X(r))}{if(!(t instanceof Bt||t instanceof Ni))throw new W(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(We.fromString(e,...n));return HA(r),new Bt(t.firestore,t instanceof Ni?t.converter:null,new X(r))}}var Df=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ff(this,"async_queue_retry"),this.Vu=()=>{let r=Bv();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new ar;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return V(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fu(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=nw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return V(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function GA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Yr=class extends ia{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Df,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return V(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Df(e),this._firestoreClient=void 0,yield e}})}};function jf(t,e){let n=typeof t=="object"?t:xa(),r=typeof t=="string"?t:e||"(default)",i=Dp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=rE("firestore");o&&qM(i,...o)}return i}function jw(t){if(t._terminated)throw new W(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x4(t),t._firestoreClient}function x4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Jv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new W(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var oa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cu=class{constructor(e){this._methodName=e}};var uu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var lu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var R4=/^__.*__$/,fw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new To(e,this.data,n,this.fieldTransforms)}},Cf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function WM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var pw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(WM(this.Cu)&&R4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},gw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Qu(e,n,r,i=!1){return new pw({Cu:e,methodName:n,qu:r,path:ln.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Uw(t){let e=t._freezeSettings(),n=kf(t._databaseId);return new gw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P4(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Bw("Data must be an object, but it was:",s,r);let a=KM(r,s),u,l;if(o.merge)u=new En(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=mw(e,p,n);if(!s.contains(m))throw new W(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);YM(h,m)||h.push(m)}u=new En(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new fw(new un(a),u,l)}var bf=class t extends cu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function N4(t,e,n,r){let i=t.Qu(1,e,n);Bw("Data must be an object, but it was:",i,r);let o=[],s=un.empty();Ao(r,(u,l)=>{let h=$w(e,u,n);l=dn(l);let p=i.Nu(h);if(l instanceof bf)o.push(h);else{let m=mu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new En(o);return new Cf(s,a,i.fieldTransforms)}function O4(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[mw(e,r,n)],u=[i];if(o.length%2!=0)throw new W(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(mw(e,o[m])),u.push(o[m+1]);let l=[],h=un.empty();for(let m=a.length-1;m>=0;--m)if(!YM(l,a[m])){let y=a[m],C=u[m];C=dn(C);let A=s.Nu(y);if(C instanceof bf)l.push(y);else{let S=mu(C,A);S!=null&&(l.push(y),h.set(y,S))}}let p=new En(l);return new Cf(h,p,s.fieldTransforms)}function k4(t,e,n,r=!1){return mu(n,t.Qu(r?4:3,e))}function mu(t,e){if(QM(t=dn(t)))return Bw("Unsupported field value:",e,t),KM(t,e);if(t instanceof cu)return function(r,i){if(!WM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=mu(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=vt.fromDate(r);return{timestampValue:uf(i.serializer,o)}}if(r instanceof vt){let o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(i.serializer,o)}}if(r instanceof uu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:_M(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Mw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Lf(r)}`)}(t,e)}function KM(t,e){let n={};return YA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let o=mu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof uu||t instanceof au||t instanceof Bt||t instanceof cu||t instanceof lu)}function Bw(t,e,n){if(!QM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Lf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function mw(t,e,n){if((e=dn(e))instanceof oa)return e._internalPath;if(typeof e=="string")return $w(t,e);throw Tf("Field path arguments must be of type string or ",t,!1,void 0,n)}var F4=new RegExp("[~\\*/\\[\\]]");function $w(t,e,n){if(e.search(F4)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oa(...e.split("."))._internalPath}catch{throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(x.INVALID_ARGUMENT,a+t+u)}function YM(t,e){return t.some(n=>n.isEqual(e))}var Sf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yw=class extends Sf{data(){return super.data()}};function zw(t,e){return typeof e=="string"?$w(t,e):e instanceof oa?e._internalPath:e._delegate._internalPath}function V4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var du=class{},Af=class extends du{};function ZM(t,e,...n){let r=[];e instanceof du&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof _w).length,a=o.filter(u=>u instanceof vw).length;if(s>1||s>0&&a>0)throw new W(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var vw=class t extends Af{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return XM(e._query,n),new So(e.firestore,e.converter,d_(e._query,n))}_parse(e){let n=Uw(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){KA(p,h);let y=[];for(let C of p)y.push(WA(u,o,C));m={arrayValue:{values:y}}}else m=WA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||KA(p,h),m=k4(a,s,p,h==="in"||h==="not-in");return ct.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var _w=class t extends du{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)XM(s,u),s=d_(s,u)}(e._query,n),new So(e.firestore,e.converter,d_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ww=class t extends Af{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new W(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Do(o,s)}(e._query,this._field,this._direction);return new So(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ki(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function JM(t,e="asc"){let n=e,r=zw("orderBy",t);return ww._create(r,n)}function WA(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new W(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oM(e)&&n.indexOf("/")!==-1)throw new W(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(We.fromString(n));if(!X.isDocumentKey(r))throw new W(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vA(t,new X(r))}if(n instanceof Bt)return vA(t,n._key);throw new W(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lf(n)}.`)}function KA(t,e){if(!Array.isArray(t)||t.length===0)throw new W(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Iw=class{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>$e(s.doubleValue));return new lu(o)}convertGeoPoint(e){return new uu($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=bw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=Kr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=We.fromString(e);xe(bM(r));let i=new nf(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function L4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var _o=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mf=class extends Sf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ws=class extends Mf{data(e={}){return super.data(e)}},Ew=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ws(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:j4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function j4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function ex(t){t=dr(t,Bt);let e=dr(t.firestore,Yr);return A4(jw(e),t._key).then(n=>ix(e,t,n))}var xf=class extends Iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}};function tx(t,e,n,...r){t=dr(t,Bt);let i=dr(t.firestore,Yr),o=Uw(i),s;return s=typeof(e=dn(e))=="string"||e instanceof oa?O4(o,"updateDoc",t._key,e,n,r):N4(o,"updateDoc",t._key,e),qw(i,[s.toMutation(t._key,Gr.exists(!0))])}function nx(t){return qw(dr(t.firestore,Yr),[new nu(t._key,Gr.none())])}function rx(t,e){let n=dr(t.firestore,Yr),r=Lw(t),i=L4(t.converter,e);return qw(n,[P4(Uw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function Hw(t,...e){var n,r,i;t=dn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(GA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Bt)l=dr(t.firestore,Yr),h=Pf(t._key.path),u={next:p=>{e[s]&&e[s](ix(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=dr(t,So);l=dr(p.firestore,Yr),h=p._query;let m=new xf(l);u={next:y=>{e[s]&&e[s](new Ew(l,m,p,y))},error:e[s+1],complete:e[s+2]},V4(t._query)}return function(m,y,C,A){let S=new If(A),O=new vf(y,S,C);return m.asyncQueue.enqueueAndForget(()=>V(this,null,function*(){return OM(yield hw(m),O)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>V(this,null,function*(){return kM(yield hw(m),O)}))}}(jw(l),h,a,u)}function qw(t,e){return function(r,i){let o=new ar;return r.asyncQueue.enqueueAndForget(()=>V(this,null,function*(){return y4(yield S4(r),i,o)})),o.promise}(jw(t),e)}function ix(t,e,n){let r=n.docs.get(e._key),i=new xf(t);return new Mf(t,i,e._key,r,new _o(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sa=i})(uE),Ma(new Aa("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Yr(new qv(r.getProvider("auth-internal")),new Qv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pt(pA,"4.7.3",e),Pt(pA,"4.7.3","esm2017")})();var Uf=function(){return Uf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Uf.apply(this,arguments)};var $4={includeMetadataChanges:!1};function ox(t,e){return e===void 0&&(e=$4),new se(function(n){var r=Hw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sx(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Uf(Uf({},r),(n={},n[e.idField]=t.id,n))}function ax(t){return ox(t,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function cx(t,e){return e===void 0&&(e={}),ax(t).pipe(J(function(n){return n.map(function(r){return sx(r,e)})}))}var xo=class{constructor(e){return e}},ux="firestore",Gw=class{constructor(){return Rc(ux)}};var Ww=new B("angularfire2.firestore-instances");function z4(t,e){let n=sv(ux,t,e);return n&&new xo(n)}function H4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xo(r)}}var q4={provide:Gw,deps:[[new Ht,Ww]]},G4={provide:xo,useFactory:z4,deps:[[new Ht,Ww],zr]};function Kw(t,...e){return Pt("angularfire",kn.full,"fst"),gn([G4,q4,{provide:Ww,useFactory:H4(t),multi:!0,deps:[ve,Ct,fo,Pc,[new Ht,Hh],[new Ht,bi],...e]}])}var Qw=In(cx,!0);var lx=In(rx,!0);var yu=In(GM,!0);var dx=In(nx,!0);var Bf=In(Lw,!0);var hx=In(ex,!0);var fx=In(JM,!0);var px=In(ZM,!0);var gx=In(tx,!0);var ca=class t{constructor(e,n){this.authService=e;this.firestore=n}addCommande(e,n,r){return V(this,null,function*(){let i=yield this.authService.getUserId();if(console.log("userID",i),i){let o={userId:i,dateCommande:e,details:n,montant:r},s=yu(this.firestore,"orders");lx(s,o).then(()=>console.log("Order successfully added!")).catch(a=>console.error("Error adding order:",a))}})}getAllOrders(){let e=yu(this.firestore,"orders");return Qw(e,{idField:"id"})}getOrderId(e){let n=yu(this.firestore,"orders"),r=Bf(this.firestore,"orders",e);return hx(r)}updateOrder(e){let n=Bf(this.firestore,"products",e);gx(n,{name:"updated name"}).then(()=>console.log(`Order with ${e} updated successfully !`)).catch(i=>console.log(i))}deleteOrder(e){let n=Bf(this.firestore,"orders",e);dx(n).then(()=>console.log("data deleted !")).catch(r=>console.log(r))}getUserOrders(e){let n=yu(this.firestore,"orders"),r=px(n,fx("dateCommande","desc"));return Qw(r,{idField:"id"}).pipe(J(i=>i.filter(o=>o.userId===e).map(o=>fe(U({},o),{dateCommande:o.dateCommande.toDate()}))))}static \u0275fac=function(n){return new(n||t)(L(ft),L(xo))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function K4(t,e){if(t&1){let n=bt();P(0,"tr")(1,"th",13),G(2),N(),P(3,"td"),pe(4,"img",14),G(5),N(),P(6,"td",15)(7,"img",16),Ce("click",function(){let i=Oe(n).$implicit,o=et();return ke(o.decrement(i))}),N(),G(8),P(9,"img",17),Ce("click",function(){let i=Oe(n).$implicit,o=et();return ke(o.increment(i))}),N()(),P(10,"td",15),G(11),Pr(12,"currency"),N(),P(13,"td",15)(14,"img",18),Ce("click",function(){let i=Oe(n).$implicit,o=et();return ke(o.delete(i))}),N()()()}if(t&2){let n=e.$implicit,r=e.index;q(2),Tt(r+1),q(2),ie("src",n.produit.thumbnail,Wn),q(),Ze(" ",n.produit.title," "),q(3),Ze(" ",n.qte," "),q(3),Ze(" ",yi(12,5,n.produit.price*n.qte,"USD","symbol","1.2-2")," ")}}function Q4(t,e){if(t&1){let n=bt();P(0,"div")(1,"div",19)(2,"button",20),Ce("click",function(){Oe(n);let i=et();return ke(i.validerCommande())}),P(3,"span",21),pe(4,"i",22),G(5,"\xA0\xA0\xA0\xA0ORDER NOW"),N(),P(6,"span",23),G(7,"CLICK ME"),N()()()()}}var $f=class t{constructor(e,n,r,i){this.panierService=e;this.commandeService=n;this.authService=r;this.router=i}detailPanier=[];totalPaymentPrice;ngOnInit(){this.detailPanier=this.panierService.getPanier(),this.totalPaymentPrice=this.panierService.updateTotalPrice()}increment(e){this.panierService.increaseQuantity(e),this.totalPaymentPrice=this.panierService.updateTotalPrice()}decrement(e){this.panierService.decreaseQuantity(e),this.totalPaymentPrice=this.panierService.updateTotalPrice()}delete(e){this.panierService.remove(e),this.totalPaymentPrice=this.panierService.updateTotalPrice()}validerCommande(){this.authService.isAuthenticated()?confirm("Are you sure you want to confirm your order?")&&(this.commandeService.addCommande(new Date,this.detailPanier,this.totalPaymentPrice),alert("Your order has been confirmed!")):(alert("Please log in to confirm your order."),this.router.navigate(["/login"]))}static \u0275fac=function(n){return new(n||t)(z(Us),z(ca),z(ft),z(Ge))};static \u0275cmp=rt({type:t,selectors:[["app-panier"]],standalone:!0,features:[it],decls:31,vars:8,consts:[[1,"container"],[1,"row","align-items-start"],[1,"col-md-6"],[1,"table","mt-3",2,"width","100%"],["scope","col"],[4,"ngFor","ngForOf"],["id","panier-items"],[1,"text-center","mt-3","py-3"],[2,"color","#fb774b","font-weight","700"],["src","shopping-bags.png",2,"height","80px"],[1,"mx-auto"],["src","check-mark.png",2,"height","30px"],[4,"ngIf"],["scope","row",1,"py-3"],[1,"img-thumbnail","me-2",2,"width","50px",3,"src"],[1,"py-3"],["src","minus.png",2,"width","20px","cursor","pointer",3,"click"],["src","plus1.png",2,"width","20px","cursor","pointer",3,"click"],["src","supprimer.png","alt","icon",2,"width","40px","cursor","pointer",3,"click"],[1,"container","d-flex","justify-content-center","mt-4"],[1,"order",3,"click"],[1,"text1"],[1,"fa-brands","fa-opencart"],[1,"text2"]],template:function(n,r){n&1&&(pe(0,"app-navbar"),P(1,"div",0)(2,"div",1)(3,"div",2)(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),G(8,"#"),N(),P(9,"th",4),G(10,"Item"),N(),P(11,"th",4),G(12,"Quantity"),N(),P(13,"th",4),G(14,"Price"),N()()(),P(15,"tbody"),ze(16,K4,15,10,"tr",5),N()()(),P(17,"div",2)(18,"section",6)(19,"div",7)(20,"h3",8),G(21,"Review Your Cart"),N(),pe(22,"img",9)(23,"hr",10),P(24,"p"),pe(25,"img",11),G(26," Check your cart items before validation."),N(),P(27,"h3",8),G(28),Pr(29,"currency"),N()(),ze(30,Q4,8,0,"div",12),N()()()()),n&2&&(q(16),ie("ngForOf",r.detailPanier),q(12),Ze("Total Price : ",yi(29,3,r.totalPaymentPrice,"USD","symbol","1.2-2"),""),q(2),ie("ngIf",r.totalPaymentPrice!=0))},dependencies:[sn,Jn,_n,ws,rr,Wt],styles:["*[_ngcontent-%COMP%]{padding:0;box-sizing:border-box}.order[_ngcontent-%COMP%]{position:relative;border-radius:50px;border:none;outline:none;background-image:linear-gradient(50deg,#ffb700 20%,#14dd7f 80%);width:280px;height:50px;color:#fff;overflow-y:hidden;font-size:22px}span[_ngcontent-%COMP%]{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);transition:.3s}.text2[_ngcontent-%COMP%]{top:-100%}.order[_ngcontent-%COMP%]:hover{background-image:linear-gradient(50deg,#14dd7f 20%,#ffb700 80%)}.order[_ngcontent-%COMP%]:hover   .text1[_ngcontent-%COMP%]{opacity:0}.order[_ngcontent-%COMP%]:hover   .text2[_ngcontent-%COMP%]{top:50%}"]})};function Y4(t,e){if(t&1&&(P(0,"div",19),pe(1,"img",20),N()),t&2){let n=e.$implicit;q(),ie("src",n,Wn)}}function Z4(t,e){if(t&1&&(P(0,"div",21),G(1),N()),t&2){let n=et();q(),Ze(" ",n.submissionMessage," ")}}var zf=class t{constructor(e,n,r){this.productService=e;this.route=n;this.fb=r;this.commentForm=this.fb.group({comment:["",[Bc.required,Bc.minLength(5)]]})}stars=[1,2,3,4,5];fullStars=0;hasHalfStar=!1;detailsProduct;commentForm;selectedRating=3;submissionMessage=null;ngOnInit(){let e=this.route.snapshot.params.id;this.productService.getProductDetailsById(+e).subscribe(n=>{this.detailsProduct=n,this.calculateRatingStars(),console.log(n)},n=>{console.log("Error fetching products details",n)}),this.calculateRatingStars(),this.commentForm=this.fb.group({comment:[""]})}calculateRatingStars(){if(this.detailsProduct){let e=this.detailsProduct.rating;this.fullStars=Math.floor(e),this.hasHalfStar=e%1>=.5}}getRating(e){let n=e.target.closest(".rating");this.selectedRating=+n.getAttribute("data-coreui-value"),console.log("Rating selected:",this.selectedRating)}submitComment(){this.commentForm.valid&&(this.submissionMessage="Your comment has been submitted!",this.commentForm.reset())}static \u0275fac=function(n){return new(n||t)(z(ir),z(nr),z(uA))};static \u0275cmp=rt({type:t,selectors:[["app-details-produit"]],standalone:!0,features:[it],decls:32,vars:14,consts:[[1,"container","sproduct","my-3","py-4"],[1,"row","mt-5"],[1,"col-lg-5","col-md-12","col-12","product-images"],["alt","product-img",1,"img-fluid","main-img",3,"src"],[1,"small-img-group","mt-1"],["class","small-img-col",4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-12","col-12","product-details"],[1,"py-4"],[1,"quantity-group"],["type","number","value","1",1,"quantity-input"],[1,"buy-btn"],[1,"mt-2","mb-5"],[1,"comment-section"],[1,"comment-title"],["data-coreui-toggle","rating","data-coreui-value","3",1,"rating"],[1,"comment-form",3,"ngSubmit","formGroup"],["formControlName","comment","placeholder","Leave your comment here...",1,"comment-textarea"],["type","submit",1,"comment-submit",3,"disabled"],["class","submission-message",4,"ngIf"],[1,"small-img-col"],[1,"small-img",3,"src"],[1,"submission-message"]],template:function(n,r){n&1&&(pe(0,"app-navbar"),P(1,"section",0)(2,"div",1)(3,"div",2),pe(4,"img",3),P(5,"div",4),ze(6,Y4,2,1,"div",5),N()(),P(7,"div",6)(8,"h6"),G(9),N(),P(10,"h3",7),G(11),N(),P(12,"h2"),G(13),Pr(14,"currency"),N(),P(15,"div",8),pe(16,"input",9),N(),P(17,"button",10),G(18,"Add To Cart"),N(),P(19,"h4",11),G(20,"Product Details"),N(),P(21,"p"),G(22),N()()()(),P(23,"div",12)(24,"h4",13),G(25,"How satisfied are you?"),N(),pe(26,"div",14),P(27,"form",15),Ce("ngSubmit",function(){return r.submitComment()}),pe(28,"textarea",16),P(29,"button",17),G(30,"Submit"),N()(),ze(31,Z4,2,1,"div",18),N()),n&2&&(q(4),ie("src",r.detailsProduct.images[0],Wn),q(2),ie("ngForOf",r.detailsProduct.images.slice(1)),q(3),Ze("Home / ",r.detailsProduct.category,""),q(2),Tt(r.detailsProduct.title),q(2),Tt(yi(14,9,r.detailsProduct.price,"USD","symbol","1.2-2")),q(9),Tt(r.detailsProduct.description),q(5),ie("formGroup",r.commentForm),q(2),ie("disabled",!r.commentForm.valid),q(2),ie("ngIf",r.submissionMessage&&r.commentForm.valid))},dependencies:[sn,Jn,_n,ws,Wt,lA,Ls,or,xi,Vs,Av,Mv],styles:[".sproduct[_ngcontent-%COMP%]{padding:2rem;background-color:#f5f5f5}.product-images[_ngcontent-%COMP%]{text-align:center;width:400px}.main-img[_ngcontent-%COMP%]{width:100%;border-radius:8px;box-shadow:0 4px 8px #0000001a}.small-img-group[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:10px}.small-img-col[_ngcontent-%COMP%]{flex-basis:30%;cursor:pointer}.small-img[_ngcontent-%COMP%]{width:100%;border-radius:4px;transition:transform .3s ease}.small-img[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #0003}.product-details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px;color:#888;margin-bottom:10px}.product-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:1rem}.product-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;font-weight:700;margin-bottom:1rem}.quantity-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem}.quantity-input[_ngcontent-%COMP%]{width:60px;height:40px;border:1px solid #ddd;text-align:center;font-size:1rem;border-radius:4px}.buy-btn[_ngcontent-%COMP%]{background-color:#fb774b;color:#fff;padding:10px 20px;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s ease;box-shadow:0 4px 6px #0000001a}.buy-btn[_ngcontent-%COMP%]:hover{background-color:#e9653b}.product-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;color:#555;font-size:1rem;margin-top:20px}.product-details[_ngcontent-%COMP%]{padding-top:1.5rem}.comment-box[_ngcontent-%COMP%]{width:100%;border-radius:8px;padding:10px;font-size:1rem;border:1px solid #ddd;resize:none;box-shadow:0 2px 4px #0000001a}.comment-box[_ngcontent-%COMP%]:focus{outline:none;border-color:#fb774b;box-shadow:0 2px 8px #0003}.submit-btn[_ngcontent-%COMP%]{background-color:#fb774b;color:#fff;padding:10px 20px;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s ease;box-shadow:0 4px 6px #0000001a}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#e9653b}.rating[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px 0;font-size:24px}.rating[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fb774b}.comment-section[_ngcontent-%COMP%]{margin:2rem auto;width:80%;max-width:500px;background-color:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 10px #0000001a;text-align:center}.comment-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;color:#333}.rating[_ngcontent-%COMP%]{margin-bottom:1rem}.comment-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.comment-textarea[_ngcontent-%COMP%]{width:100%;height:100px;border:1px solid #ddd;border-radius:4px;padding:10px;resize:none;font-size:1rem;margin-bottom:1rem}.comment-submit[_ngcontent-%COMP%]{background-color:#fb774b;color:#fff;padding:10px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.comment-submit[_ngcontent-%COMP%]:hover{background-color:#e9653b}.submission-message[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:#28a745;font-weight:700}"]})};var J4=()=>["/sign-up"];function X4(t,e){t&1&&(P(0,"small",14),G(1,"L'email est obligatoire."),N())}function ez(t,e){t&1&&(P(0,"small",14),G(1,"L'email est incorrect."),N())}function tz(t,e){if(t&1&&(P(0,"div"),ze(1,X4,2,0,"small",13)(2,ez,2,0,"small",13),N()),t&2){et();let n=yn(8);q(),ie("ngIf",n.errors==null?null:n.errors.required),q(),ie("ngIf",n.errors==null?null:n.errors.email)}}function nz(t,e){t&1&&(P(0,"small",14),G(1,"Le mot de passe est obligatoire."),N())}function rz(t,e){t&1&&(P(0,"small",14),G(1,"Le mot de passe doit contenir au moins 6 caract\xE8res."),N())}function iz(t,e){if(t&1&&(P(0,"div"),ze(1,nz,2,0,"small",13)(2,rz,2,0,"small",13),N()),t&2){et();let n=yn(12);q(),ie("ngIf",n.errors==null?null:n.errors.required),q(),ie("ngIf",n.errors==null?null:n.errors.minlength)}}var Hf=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";onSubmit(){this.authService.login(this.email,this.password)}SignIn(){this.authService.login(this.email,this.password),this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(z(ft),z(Ge))};static \u0275cmp=rt({type:t,selectors:[["app-auth"]],standalone:!0,features:[it],decls:20,vars:7,consts:[["loginForm","ngForm"],["emailModel","ngModel"],["passwordModel","ngModel"],[1,"login-container"],[1,"login-form",3,"ngSubmit"],[1,"login-title"],[1,"form-group"],["type","email","id","email","name","email","placeholder","Email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","password","id","password","name","password","placeholder","Password","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn-submit",3,"click","disabled"],[1,"signup-text"],[1,"signup-link",3,"routerLink"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,r){if(n&1){let i=bt();pe(0,"app-navbar"),P(1,"div",3)(2,"form",4,0),Ce("ngSubmit",function(){return Oe(i),ke(r.onSubmit())}),P(4,"h2",5),G(5,"Sign In"),N(),P(6,"div",6)(7,"input",7,1),Qn("ngModelChange",function(s){return Oe(i),xr(r.email,s)||(r.email=s),ke(s)}),N(),ze(9,tz,3,2,"div",8),N(),P(10,"div",6)(11,"input",9,2),Qn("ngModelChange",function(s){return Oe(i),xr(r.password,s)||(r.password=s),ke(s)}),N(),ze(13,iz,3,2,"div",8),N(),P(14,"button",10),Ce("click",function(){return Oe(i),ke(r.SignIn())}),G(15," Login "),N(),P(16,"p",11),G(17," Not registered yet? "),P(18,"a",12),G(19,"Sign Up"),N()()()()}if(n&2){let i=yn(3),o=yn(8),s=yn(12);q(7),Kn("ngModel",r.email),q(2),ie("ngIf",o.touched&&o.invalid),q(2),Kn("ngModel",r.password),q(2),ie("ngIf",s.touched&&s.invalid),q(),ie("disabled",!i.valid),q(4),ie("routerLink",no(6,J4))}},dependencies:[js,Ls,or,xi,Vs,Hc,Pv,Rv,mo,zc,Wt,rr,Ci,sn,_n],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.login-form[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:400px;max-width:100%;text-align:center}.login-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:15px;border:1px solid #ccc;border-radius:4px;font-size:16px;outline:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#fb774b}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#fb774b;border:none;color:#fff;border-radius:4px;cursor:pointer;font-size:16px}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:not-allowed}.signup-text[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;color:#666}.signup-link[_ngcontent-%COMP%]{color:#fb774b;text-decoration:none;font-weight:700}.signup-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%], .error-message-email[_ngcontent-%COMP%], .error-message-password[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px;text-align:left;display:block}.form-group.invalid[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#e74c3c}.form-group.invalid[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#e74c3c;box-shadow:0 0 5px #e74c3c80}"]})};var oz=()=>["/auth"],qf=class t{constructor(e){this.authService=e}email="";username="";password="";onSubmit(){console.log("Created user "),this.authService.SignUp(this.email,this.username,this.password)}static \u0275fac=function(n){return new(n||t)(z(ft))};static \u0275cmp=rt({type:t,selectors:[["app-sign-up"]],standalone:!0,features:[it],decls:18,vars:6,consts:[["signUpForm","ngForm"],[1,"signup-container"],[1,"signup-form",3,"ngSubmit"],[1,"signup-title"],[1,"form-group"],["type","email","id","email","name","email","placeholder","Email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","username","name","username","placeholder","Username","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","id","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn-submit",3,"disabled"],[1,"login-text"],[1,"login-link",3,"routerLink"]],template:function(n,r){if(n&1){let i=bt();pe(0,"app-navbar"),P(1,"div",1)(2,"form",2,0),Ce("ngSubmit",function(){return Oe(i),ke(r.onSubmit())}),P(4,"h2",3),G(5,"Sign Up"),N(),P(6,"div",4)(7,"input",5),Qn("ngModelChange",function(s){return Oe(i),xr(r.email,s)||(r.email=s),ke(s)}),N()(),P(8,"div",4)(9,"input",6),Qn("ngModelChange",function(s){return Oe(i),xr(r.username,s)||(r.username=s),ke(s)}),N()(),P(10,"div",4)(11,"input",7),Qn("ngModelChange",function(s){return Oe(i),xr(r.password,s)||(r.password=s),ke(s)}),N()(),P(12,"button",8),G(13," Sign Up "),N(),P(14,"p",9),G(15," Already have an account? "),P(16,"a",10),G(17,"Sign In"),N()()()()}if(n&2){let i=yn(3);q(7),Kn("ngModel",r.email),q(2),Kn("ngModel",r.username),q(2),Kn("ngModel",r.password),q(),ie("disabled",!i.valid),q(4),ie("routerLink",no(5,oz))}},dependencies:[js,Ls,or,xi,Vs,Hc,mo,zc,Wt,rr,Ci],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.signup-form[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:400px;max-width:100%;text-align:center}.signup-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:15px;border:1px solid #ccc;border-radius:4px;font-size:16px;outline:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#fb774b}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#fb774b;border:none;color:#fff;border-radius:4px;cursor:pointer;font-size:16px}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:not-allowed}.login-text[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;color:#666}.login-link[_ngcontent-%COMP%]{color:#fb774b;text-decoration:none;font-weight:700}.login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function sz(t,e){if(t&1&&(P(0,"tr")(1,"th",12),G(2),N(),P(3,"td"),pe(4,"img",13),G(5),N(),P(6,"td"),G(7),N(),P(8,"td"),G(9),Pr(10,"currency"),N()()),t&2){let n=e.$implicit,r=e.index;q(2),Tt(r+1),q(2),ie("src",n.produit.thumbnail,Wn),q(),Ze(" ",n.produit.title," "),q(2),Tt(n.qte),q(2),Tt(yi(10,5,n.produit.price*n.qte,"USD","symbol","1.2-2"))}}function az(t,e){if(t&1&&(P(0,"div",4)(1,"div",5)(2,"div",6),G(3),Pr(4,"date"),N(),P(5,"div",7)(6,"h5",8),G(7),Pr(8,"currency"),N(),P(9,"table",9)(10,"thead")(11,"tr")(12,"th",10),G(13,"#"),N(),P(14,"th",10),G(15,"Item"),N(),P(16,"th",10),G(17,"Quantity"),N(),P(18,"th",10),G(19,"Price"),N()()(),P(20,"tbody"),ze(21,sz,11,10,"tr",11),N()()()()()),t&2){let n=e.$implicit;q(3),Ze(" Order Date: ",cb(4,3,n.dateCommande,"MM/dd/yyyy")," "),q(4),Ze("Order Total: ",yi(8,6,n.montant,"USD","symbol","1.2-2"),""),q(14),ie("ngForOf",n.details)}}var Gf=class t{constructor(e,n){this.commandeService=e;this.authService=n}userOrders=[];ngOnInit(){this.authService.getUserId().then(e=>{e&&(console.log(e),this.commandeService.getUserOrders(e).subscribe(n=>{this.userOrders=n,console.log(n)}))})}static \u0275fac=function(n){return new(n||t)(z(ca),z(ft))};static \u0275cmp=rt({type:t,selectors:[["app-orders"]],standalone:!0,features:[it],decls:6,vars:1,consts:[[1,"container","mt-5"],[2,"color","#fb774b","text-align","center","font-weight","700"],[1,"mb-4",2,"border-top","2px solid #fb774b","width","50%","margin","auto"],["class","order-card mt-4",4,"ngFor","ngForOf"],[1,"order-card","mt-4"],[1,"card","border-secondary","mb-3"],[1,"card-header",2,"background-color","#fb774b","color","white"],[1,"card-body"],[1,"card-title",2,"color","#fb774b"],[1,"table","table-hover","mt-3"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"img-thumbnail","me-2",2,"width","50px",3,"src"]],template:function(n,r){n&1&&(pe(0,"app-navbar"),P(1,"div",0)(2,"h2",1),G(3,"My Orders"),N(),pe(4,"hr",2),ze(5,az,22,11,"div",3),N()),n&2&&(q(5),ie("ngForOf",r.userOrders))},dependencies:[Wt,sn,Jn,ws,Bb],styles:[".order-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid #fb774b;border-radius:5px}.order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-weight:700}.order-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}"]})};var Wf=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(e,n){return this.authService.isLoggedIn$.pipe(J(r=>(r||this.router.navigate(["/auth"]),r)))}static \u0275fac=function(n){return new(n||t)(L(ft),L(Ge))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var yx=[{path:"",component:qc},{path:"produits",component:qc},{path:"panier",component:$f},{path:"produits/:id",component:zf},{path:"auth",component:Hf},{path:"sign-up",component:qf},{path:"orders",component:Gf,canActivate:[Wf]}];var Kf=class t{constructor(e,n){this.router=e;this.authService=n}intercept(e,n){if(this.authService.isLoggedIn$){let i=e.clone({headers:e.headers.set("Authorization","Bearer"+this.authService.getToken)});return n.handle(i)}return n.handle(e)}static \u0275fac=function(n){return new(n||t)(L(Ge),L(ft))};static \u0275prov=$({token:t,factory:t.\u0275fac})};var Yw={apiKey:"AIzaSyCWwlpnAlWszxCRgU3Sh5Y8pQbZOoQn5OU",authDomain:"e-commerce-efdf0.firebaseapp.com",projectId:"e-commerce-efdf0",storageBucket:"e-commerce-efdf0.appspot.com",messagingSenderId:"442217784507",appId:"1:442217784507:web:75a53255fdefae5a5e759e",measurementId:"G-12CM6T2H50"},vx={providers:[zm({eventCoalescing:!0}),lS(yx),IT(),py(),Kw(()=>jf()),zm({eventCoalescing:!0}),lv(()=>Vu(Yw)),Kw(()=>jf()),ls(zr),lv(()=>Vu(Yw)),ls(yS.initializeApp(Yw)),ls(Oc),ls(xS),{provide:hy,useClass:Kf,multi:!0}]};var Qf=class t{title="e-commerce";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=rt({type:t,selectors:[["app-root"]],standalone:!0,features:[it],decls:1,vars:0,template:function(n,r){n&1&&pe(0,"router-outlet")},dependencies:[Xy,lT]})};_T(Qf,vx).catch(t=>console.error(t));
